(this.webpackJsonpbaobeidaola=this.webpackJsonpbaobeidaola||[]).push([[2],[,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.showToast=t.toastPositions=t.showSimpleToast=void 0;var o,a=n(14);t.showSimpleToast=function(e){console.log("show toast text is",e),a.f7.toast.create({closeTimeout:3e3,text:e,destroyOnClose:!0}).open()},function(e){e.top="top",e.center="center",e.bottom="bottom"}(o=t.toastPositions||(t.toastPositions={})),t.showToast=function(e,t){t=t||o.bottom,a.f7.toast.create({closeTimeout:3e3,text:e,destroyOnClose:!0,position:t}).open()}},,function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.userModel=t.UserModel=void 0;var a=n(33),r=n(36),i=n(43),s=function(e){function t(){var t=e.call(this)||this;return t.init=function(){},t._userConnecting=!1,t._trackingUserBinded=!1,t._user=new r.User,t}return o(t,e),Object.defineProperty(t.prototype,"user",{get:function(){return this._user},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userConnecting",{get:function(){return this._userConnecting},set:function(e){if(this._userConnecting!==e){var n=this._userConnecting;this._userConnecting=e;var o=new i.default(t.eventUserConnectingChanged,n,e,i.default.UPDATE);this.dispatchEvent(o)}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"trackingUserBinded",{get:function(){return this._trackingUserBinded},set:function(e){if(this._trackingUserBinded!==e){var n=this._trackingUserBinded;this._trackingUserBinded=e;var o=new i.default(t.eventTrackingUserBindedChanged,n,e,i.default.UPDATE);this.dispatchEvent(o)}},enumerable:!1,configurable:!0}),t.events={fetchLogin:"fetchLogin"},t.eventUserConnectComplete="eventUserConnectComplete",t.eventUserBrowserFingerSaved="eventUserBrowserFingerSaved",t.eventUserConnectingChanged="eventUserConnectingChanged",t.eventTrackingUserBindedChanged="eventTrackingUserBindedChanged",t}(a.EventDispatcher);t.UserModel=s;var c=new s;t.userModel=c},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),a=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(a,r){function i(e){try{c(o.next(e))}catch(t){r(t)}}function s(e){try{c(o.throw(e))}catch(t){r(t)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((o=o.apply(e,t||[])).next())}))},r=this&&this.__generator||function(e,t){var n,o,a,r,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(a=2&r[0]?o.return:r[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,r[1])).done)return a;switch(o=0,a&&(r=[2&r[0],a.value]),r[0]){case 0:case 1:a=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,o=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(a=(a=i.trys).length>0&&a[a.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){i.label=r[1];break}if(6===r[0]&&i.label<a[1]){i.label=a[1],a=r;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(r);break}a[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(e,i)}catch(s){r=[6,s],o=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.mainModel=t.MainModel=void 0;var i=n(33),s=n(146),c=n(193),d=n(12),l=n(34),u="browserFinger",p="browserFingerVersion",f=function(e){function t(){var n=e.call(this)||this;return n.errorLogs=[],n.getSavedBrowserFinger=function(){var e=localStorage.getItem(p);return(!e||e&&e.toString()!==3..toString())&&localStorage.removeItem(u),localStorage.getItem(u)||""},n.saveBrowderFinger=function(){localStorage.setItem(p,3..toString()),localStorage.setItem(u,n.browserFinger)},n.getSavedShareMoneyInfo=function(){},n.getSharerId=function(){return d.userModel.user.isLogged&&d.userModel.user.isSber?d.userModel.user.id.toString():l.sharerId},n.getSharerCode=function(){return d.userModel.user.isLogged&&d.userModel.user.isSber?d.userModel.user.sharerCode:l.sharerCode},n.addErrorLog=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(;n.errorLogs.length>100;)n.errorLogs.shift();e.unshift((new Date).toLocaleDateString()),n.errorLogs.push(e),console.error("main model received errors",e)},n.browserFinger="",n.waitingMembers=[],n.userPacksInfo=new s.UserPacksInfo,n.appFrom=t.appFrom.web,n}return o(t,e),t.prototype.getBrowserFinger=function(){return a(this,void 0,void 0,(function(){var e;return r(this,(function(t){switch(t.label){case 0:return[4,c.default.load()];case 1:return[4,t.sent().get()];case 2:return e=t.sent(),this.browserFinger=e.visitorId,[2]}}))}))},t.prototype.getBrowserFingerInfo=function(){return a(this,void 0,void 0,(function(){return r(this,(function(e){return[2,{now:this.browserFinger,old:this.getSavedBrowserFinger()}]}))}))},t.prototype.init=function(){return a(this,void 0,void 0,(function(){return r(this,(function(e){switch(e.label){case 0:return[4,this.getBrowserFinger()];case 1:return e.sent(),[2]}}))}))},t.events={addWaitingMember:"addWaitingMember",routerBack:"routerBack"},t.appFrom={web:"web",app:"app"},t}(i.EventDispatcher);t.MainModel=f;var m=new f;t.mainModel=m},,function(e,t,n){"use strict";n.r(t),n.d(t,"TMs",(function(){return o}));var o={TSession:"session",MSessionLogin:"login",MSessionLogout:"logout",MSessionSaveBrowserFinger:"save_browser_finger",TVisitor:"visitor",MVisitorVerificationCode:"verification_code",MVisitorLoginByCode:"login_by_code",MVisitorCheckAccountIsUsed:"check_account_is_used",TMobile:"mobile",MMobileAttach:"attach",MMobileDetach:"detach",TPack:"pack",MPackWaitingList:"waiting_list",MPackTakenList:"taken_list",MPackTake:"take",TXcx:"xcx",MXcxReadOpenid:"read_openid",MXcxBindUser:"bind_user",MXcxUnbindUser:"unbind_user",TTracking:"web_tracking",MTrackingGetVisitOpenKey:"get_visitor_open_key",MTrackingUpdateVisitStayTime:"update_visitor_stay_time",MTrackingGetPageModalOpenKey:"get_page_modal_open_key",MTrackingUpdatePageModalStayTime:"update_page_modal_stay_time",MTrackingHeartbeat:"heartbeat",MTrackingBindUser:"bind_user",MTrackingSceneReminded:"scene_reminded",TLog:"log",MLogInfo:"info",TSign:"sign",MSignCreate:"create",TPddGoods:"pdd_goods",MPddGoodsReadGoodsSignList:"read_goods_sign_list",MPddGoodsReadGoodsDetails:"read_goods_details",MPddGoodsRecommendGet:"recommend_get",MPddPromotionUrlGenerate:"promotion_url_generate",MPddGoodsSearch:"goods_search",TJdGoods:"jd_goods",MJdGoodsJingFenQuery:"jingfen_query",MJdGoodsCreateGift:"cerate_gift",TTbGoods:"tb_goods",MTbGoodsUptimusMaterial:"uptimus_material",MTbGoodsDetail:"goods_detail",MTbGoodsCouponInfo:"coupon_info",MTbGoodsCreateTaokouling:"create_taokouling",MTbGoodsTbkDgMaterialOptional:"tbk.dg.material.optional",TFanliCustomer:"fanli_customer",MFanliCustomerGetOrderList:"get_order_list",MFanliCustomerFanliAmountInfo:"get_amount_info",MFanliCustomerFanliAmountInfo2:"get_amount_info2",MFanliCustomerGetJdOrderList:"get_jd_order_list",MFanliCustomerGetPddOrderList:"get_pdd_order_list",MFanliCustomerGetViOrderList:"get_vip_order_list",MFanliCustomerAddTbOrderNo:"add_tb_order_no",TShortUrl:"short_url",MShortUrlShareJumpCreate:"share_jump_create",MShortUrlShareJumpRead:"share_jump_read",TUser:"user",MUserAddSber:"add_sber",MUserReadRedEnvelopeId:"read_red_envelope_id"};t.default=o},function(e,t,n){"use strict";n.r(t),n.d(t,"goodsModel",(function(){return v})),n.d(t,"GoodsModel",(function(){return p}));var o=n(108),a=n(8),r=n(21),i=n(27),s=n(26),c=n(23),d=n(33),l=n(10),u=n(22),p=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){var e;return Object(a.a)(this,n),(e=t.call(this)).init=function(){},e.clearSearchResult=function(){e.pddGoodsSearchResult=null,e.jdGoodsSearchResult=null,e.tbGoodsSearchResult=null,e.vipGoodsSearchResult=null},e.setVipGoodsList=function(t){for(var o=[],a=[],r=0;r<t.length;r++){var i=t[r];if(i){var s=e.pddGoodsMap[i.goodsId],d=void 0;s?(u.extend(s,i),d=s,a.push(d)):(e.pddGoodsMap[i.goodsId]=i,e.pddGoodsList.push(i),(d=i).goods_platform="\u552f\u54c1\u4f1a",o.push(i)),e.parseVipGoods(d)}}return e.dispatchEvent(new c.Event2(n.events.pddGoodsListRefreshed,{newList:o,updateList:a})),{newList:o,updateList:a}},e.setPddGoodsList=function(t){for(var o=[],a=[],r=0;r<t.length;r++){var i=t[r];if(i){var s=e.pddGoodsMap[i.goods_sign],d=void 0;s?(u.extend(s,i),d=s,a.push(d)):(e.pddGoodsMap[i.goods_sign]=i,e.pddGoodsList.push(i),(d=i).goods_platform="\u62fc\u591a\u591a",o.push(i)),e.parsePddGoods(d)}}return e.dispatchEvent(new c.Event2(n.events.pddGoodsListRefreshed,{newList:o,updateList:a})),{newList:o,updateList:a}},e.parsePddGoods=function(t){if(t.platform=t.goods_platform=n.platforms.pdd.name,t.platform_abbr=n.platforms.pdd.abbr,t.clt_cpn_discount){var o=t.clt_cpn_discount.toString();t.clt_cpn_discount2=o.slice(0,o.length-2)+"."+o.slice(o.length-2),3==t.clt_cpn_discount2.length&&(t.clt_cpn_discount2="0"+t.clt_cpn_discount2)}if(t.has_coupon){var a=t.coupon_discount.toString();t.coupon_discount2=a.slice(0,a.length-2)+"."+a.slice(a.length-2),3==t.coupon_discount2.length&&(t.coupon_discount2="0"+t.coupon_discount2),t.coupon_discount2=t.coupon_discount2.replace(".00","")}if(t.min_group_price){var r=t.min_group_price;t.clt_cpn_discount&&t.coupon_discount?r-=Math.max(t.clt_cpn_discount,t.coupon_discount):t.clt_cpn_discount?r-=t.clt_cpn_discount:t.coupon_discount&&(r-=t.coupon_discount);var i=r.toString();if(t.min_group_price2=i.slice(0,i.length-2)+"."+i.slice(i.length-2),3==t.min_group_price2.length&&(t.min_group_price2="0"+t.min_group_price2),t.promotion_rate){var s=parseFloat(t.min_group_price2);s*=100;var c=Math.floor(t.promotion_rate);t.promotion_rate2=Math.floor(s*c*e.rebateRate/1e3)}}t.coupon_discount2&&t.clt_cpn_discount2},e.clearGoodsList=function(){e.pddGoodsList=[],e.pddGoodsMap={},e.dispatchEvent(new c.Event2(n.events.pddGoodsListRefreshed))},e.setGoodsDetail=function(t){if(t){var n=t,o=e.pddGoodsMap[n.goods_sign];o?u.extend(o,n):(e.pddGoodsMap[n.goods_sign]=n,e.pddGoodsList.push(n))}},e.setPddWeAppInfo=function(t){if(t){var o=t,a=e.pddGoodsMap[o.goods_sign];a?u.extend(a,o):(e.pddGoodsMap[o.goods_sign]=o,e.pddGoodsList.push(o)),e.dispatchEvent(new c.Event2(n.events.onPddWeAppInfoLoaded))}},e.clearPddGoodsRecommend=function(){e.pddRecommendGoodsList=[],e.pddRecommendGoodsMap={}},e.setJdGoodsList=function(t){for(var o=[],a=[],r=0;r<t.length;r++){var i=t[r];if(i){var s=e.pddGoodsMap[i.skuId],d=void 0;s?(u.extend(s,i),d=s,a.push(d)):(e.pddGoodsMap[i.skuId]=i,e.pddGoodsList.push(i),(d=i).goods_platform="\u4eac\u4e1c",o.push(i)),e.parseJdGoods(d)}}return e.dispatchEvent(new c.Event2(n.events.pddGoodsListRefreshed,{newList:o,updateList:a})),{newList:o,updateList:a}},e.parseJdGoods=function(t){var o;t.platform=t.goods_platform=n.platforms.jd.name,t.platform_abbr=n.platforms.jd.abbr,t.goods_sign=t.skuId;var a=t.couponInfo?u.isArray(t.couponInfo)?t.couponInfo:t.couponInfo.couponList:null;if(a)if(1==a.length)o=a[0];else for(var r=0;r<a.length;r++){var i=a[r];if(i&&i.isBest){o=i;break}}if(t.has_discount_price=!1,o&&(t.bestCoupon=o,t.clt_cpn_discount2=o.discount.toString()),t.commissionInfo){var s=t.commissionInfo.couponCommission||t.commissionInfo.commissionShare;t.promotion_rate2=Math.floor(100*s*e.rebateRate)}if(t.has_coupon){var c=t.coupon_discount.toString();t.coupon_discount2=c.slice(0,c.length-2)+"."+c.slice(c.length-2),3==t.coupon_discount2.length&&(t.coupon_discount2="0"+t.coupon_discount2),t.coupon_discount2=t.coupon_discount2.replace(".00","")}if(t.priceInfo){var d=t.priceInfo,l=d.lowestCouponPrice||d.lowestPrice||d.price;t.min_group_price2=l,t.normal_price=l}t.goods_image_url=t.imageInfo&&t.imageInfo.imageList?t.imageInfo.imageList[0].url:"",t.goods_name=t.skuName},e.setPddSearchResult=function(t){for(var o=t.goods_list||[],a=[],r=0;r<o.length;r++){var i=o[r];e.parsePddGoods(i),e.goodsSearchMap[i.goods_sign]=i,a.push(i)}e.pddGoodsSearchResult=a,e.dispatchEvent(new c.Event2(n.events.pddGoodsSearchBack,{list:a})),e.dispatchEvent(new c.Event2(n.events.goodsSearchBack,{list:a}))},e.setJdDdxSearchResult=function(t){for(var o=t.data,a=[],r=0;r<o.length;r++){var i=o[r];e.parseJdGoods(i),e.goodsSearchMap[i.goods_sign]=i,a.push(i)}e.jdGoodsSearchResult=a,e.dispatchEvent(new c.Event2(n.events.jdGoodsSearchBack,{list:a})),e.dispatchEvent(new c.Event2(n.events.goodsSearchBack,{list:a}))},e.setVipDdxSearchResult=function(t){for(var o=t.data||[],a=[],r=0;r<o.length;r++){var i=o[r];e.parseVipGoods(i),e.goodsSearchMap[i.goods_sign]=i,a.push(i)}e.vipGoodsSearchResult=a,e.dispatchEvent(new c.Event2(n.events.vipGoodsSearchBack,{list:a})),e.dispatchEvent(new c.Event2(n.events.goodsSearchBack,{list:a}))},e.clearSearchResult=function(){e.pddGoodsSearchResult=null,e.jdGoodsSearchResult=null,e.tbGoodsSearchResult=null,e.vipGoodsSearchResult=null,e.goodsSearchMap={}},e.readGoodsName=function(e){return e.title||e.goods_name||e.skuName},e.readGoodsImgUrl=function(e){return e.main_img_url||e.list_page_pic||e.goods_image_url||(e.imageInfo&&e.imageInfo.imageList?e.imageInfo.imageList[0].url:"")},e.hasGoodsStoreDiscount=function(e){return!!("clt_cpn_discount2"in e)},e.readGoodsStoreDiscount=function(e){return e.clt_cpn_discount2},e.readGoodsDiscount=function(e){return e.coupon_discount2},e.hasGoodsDiscount=function(e){return"coupon_discount2"in e},e.readGoodsCaicaibi=function(e){return e.promotion_rate2},e.readGoodsShareInfo=function(t){var o="",a="",r="";switch(t.platform_abbr){case n.platforms.jd.abbr:o=t.shortURL,r=t.pinGouInfo.pingouUrl;break;case n.platforms.pdd.abbr:o=t.mobile_short_url,a=t.schema_url;break;case n.platforms.tb.abbr:o=t.tkl;break;case n.platforms.vip.abbr:if(!t.we_app_info)return Object(l.showSimpleToast)("\u8fd8\u6ca1\u83b7\u53d6\u5230\u552f\u54c1\u4f1aurl");o=t.we_app_info.url,a=t.we_app_info.deeplinkUrl;break;default:throw console.log("unknow goods platform",t),"\u53d1\u73b0\u672a\u77e5\u5546\u54c1\u5e73\u53f0"}var i={platform:t.platform_abbr,title:e.readGoodsName(t),img:e.readGoodsImgUrl(t),discount:e.hasGoodsDiscount(t)?e.readGoodsDiscount(t):0,storeDiscount:e.hasGoodsStoreDiscount(t)?e.readGoodsStoreDiscount(t):0,url:o,app:a,pin:r,print:t.min_group_price2,rate:t.promotion_rate2};return t.share_time&&(i.share_time=t.share_time),i},e.footprint=new m,e.favor=new g,e.rebateRate=.5,e.isFetchingGoods=!1,e.pddGoodsSignList=[],e.pddGoodsMap={},e.pddGoodsList=[],e.goodsSearchMap={},e.listId=0,e.limit=10,e.offset=0,e.goodsSearchKeyword="",e.pddGoodsSearchResult=null,e.jdGoodsSearchResult=null,e.tbGoodsSearchResult=null,e.vipGoodsSearchResult=null,e.recommendsTotallyFetched=!1,e.selectedGoodsInfo={platform:"",goods:null},e.pddRecommendGoodsList=[],e.pddRecommendGoodsMap={},e}return Object(r.a)(n,[{key:"parseVipGoods",value:function(e){if(e.platform=e.goods_platform=n.platforms.vip.name,e.platform_abbr=n.platforms.vip.abbr,e.goods_sign=e.goodsId,e.commissionInfo){var t=e.commissionInfo.couponCommission||e.commissionInfo.commissionShare;e.promotion_rate2=Math.floor(100*t*this.rebateRate)}if(e.min_group_price2=Number.parseFloat(e.vipPrice),e.normal_price=Number.parseFloat(e.vipPrice),e.has_discount_price=!1,e.couponInfo&&e.couponInfo.buy){var o=Number.parseFloat(e.vipPrice);e.has_discount_price=!0,e.min_group_price2=Math.floor(o-Number.parseFloat(e.couponInfo.buy)).toFixed(2),e.coupon_discount2=e.couponInfo.buy,e.coupon_discount2=e.coupon_discount2.replace(".00","")}e.commission&&(e.promotion_rate2=Math.floor(100*Number.parseFloat(e.commission)*this.rebateRate)),e.goods_image_url=e.goodsThumbUrl,e.goods_name=e.goodsName}},{key:"setTbGoodsList",value:function(e){for(var t=[],o=[],a=0;a<e.length;a++){var r=e[a];if(r){var i=r.item_id,s=this.pddGoodsMap[i],d=void 0;s?(u.extend(s,r),d=s,o.push(d)):(this.pddGoodsMap[i]=r,this.pddGoodsList.push(r),(d=r).goods_platform="\u6dd8\u5b9d",t.push(r)),this.parseTbGoods(d)}}return this.dispatchEvent(new c.Event2(n.events.pddGoodsListRefreshed,{newList:t,updateList:o})),{newList:t,updateList:o}}},{key:"parseTbGoods",value:function(e){e.platform=e.goods_platform=n.platforms.tb.name,e.platform_abbr=n.platforms.tb.abbr,e.main_img_url=e.pict_url;var t=e.item_id;if(e.goods_sign=t,e.title=e.short_title||e.title,e.min_group_price2=e.zk_final_price,"commission_rate"in e)try{var o=Number(e.commission_rate),a=Number(e.zk_final_price);e.promotion_rate2=Math.floor(100*a*(100*o)/1e6/2)}catch(r){console.error("taobao goods error",r)}"coupon_amount"in e&&(e.coupon_discount2=e.coupon_amount),e.qh_final_price&&(e.min_group_price2=e.qh_final_price),e.qh_final_commission&&(e.promotion_rate2=Math.floor(100*e.qh_final_commission/2))}},{key:"setTbGoodsSearchResult",value:function(e){e=e||[];for(var t=[],o=0;o<e.length;o++){var a=e[o];this.parseTbGoods(a),this.goodsSearchMap[a.goods_sign]=a,t.push(a)}this.tbGoodsSearchResult=t,this.dispatchEvent(new c.Event2(n.events.tbGoodsSearchBack,{list:t})),this.dispatchEvent(new c.Event2(n.events.goodsSearchBack,{list:t}))}}]),n}(d.EventDispatcher);p.events={fetchReadGoodsSignList:"fetchReadGoodsSignList",needMoreGoodsList:"needMoreGoodsList",loadMorePddGoodsList:"loadMorePddGoodsList",goodsItemUpdated:"goodsItemUpdated",pddGoodsListRefreshed:"pddGoodsListRefreshed",onPddWeAppInfoLoaded:"onPddWeAppInfoLoaded",pddGoodsSearchBack:"pddGoodsSearchBack",jdGoodsSearchBack:"jdGoodsSearchBack",tbGoodsSearchBack:"tbGoodsSearchBack",vipGoodsSearchBack:"vipGoodsSearchBack",goodsSearchBack:"goodsSearchBack",footprintUpdated:"footprintUpdated",favorUpdated:"favorUPdated"},p.platforms={jd:{name:"\u4eac\u4e1c",abbr:"jd"},pdd:{name:"\u62fc\u591a\u591a",abbr:"pdd"},vip:{name:"\u552f\u54c1\u4f1a",abbr:"vip"},tb:{name:"\u6dd8\u5b9d",abbr:"tb"}};var f=function e(t,n){var r=this;Object(a.a)(this,e),this.parseGoods=function(e){var t=null;switch(e.platform_abbr||e.platform){case p.platforms.jd.name:case p.platforms.jd.abbr:t=function(e){return{s:e.materialUrl,t:Date.now(),p:"jd"}}(e);break;case p.platforms.pdd.name:case p.platforms.pdd.abbr:t=function(e){return{s:e.goods_sign,t:Date.now(),p:"pdd"}}(e);break;case p.platforms.vip.name:case p.platforms.vip.abbr:t=function(e){return{s:e.goodsId,t:Date.now(),p:"vip"}}(e);break;case p.platforms.tb.name:case p.platforms.tb.abbr:t=function(e){return{s:e.item_id,t:Date.now(),p:"tb",u:e.click_url,r:e.promotion_rate2,c:e.coupon_discount2}}(e)}return t},this.addGoods=function(e){var t=r.removeGoodsIfExists(e),n=Object(o.a)(t,2),a=(n[0],n[1]);a||(a=r.parseGoods(e)),r.addGoods2(a)},this.addGoods2=function(e){r.list.unshift(e),r.list.length>100&&(r.list.length=100),r.save(),v.dispatchEvent(new c.Event2(r.updateEventName,r.list))},this.checkIsIn=function(e){var t=r.parseGoods(e);if(!t)return!1;for(var n=0;n<r.list.length;n++)if(r.list[n].s==t.s)return console.log("s is",t.s),!0;return!1},this.removeGoodsIfExists=function(e){var t=!1,n=r.parseGoods(e);if(n){for(var o=0;o<r.list.length;o++)r.list[o].s==n.s&&(r.list.splice(o,1),t=!0);return t&&r.save(),[t,n]}},this.save=function(){},this.restore=function(){},this.name=t,this.updateEventName=n,this.list=[];var i=this;setTimeout((function(){i.restore()}),0)},m=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){return Object(a.a)(this,n),t.call(this,"goodsfootprint",p.events.footprintUpdated)}return n}(f),g=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){var e;return Object(a.a)(this,n),(e=t.call(this,"goodsfavor",p.events.favorUpdated)).toggle=function(t){var n=!1,a=e.removeGoodsIfExists(t),r=Object(o.a)(a,2),i=r[0],s=r[1];return i||(n=!0,e.addGoods2(s)),n},e}return n}(f),v=new p},function(e,t,n){"use strict";n.r(t),n.d(t,"Member",(function(){return s}));var o=n(8),a=n(21),r=n(18),i=n(22),s=function(){function e(t,n,a,s,c,d,l,u,p,f){var m=this;Object(o.a)(this,e),this.getDispatcher=function(){return m.dispatcher||e.dispatcher},this.getSuccessEvent=function(){return e.getSuccessEvent(m.team,m.member)},this.send=function(t,n){var o=n||m.body;t=t||e.gateway;var a="".concat(t).concat(m.team,"/").concat(m.member);m.body=o,m.gateway=t;var r=new XMLHttpRequest;r.addEventListener("abort",m._onXhrAbort.bind(m)),r.addEventListener("load",m._onXhrLoad.bind(m)),r.addEventListener("progress",m._onXhrProgress.bind(m)),r.addEventListener("timeout",m._onXhrTimeout.bind(m)),r.addEventListener("error",m._onXhrError.bind(m)),r.withCredentials=!0,r.open("post",a),r.setRequestHeader("content-type","text/plain"),!1===i.isString(o)&&(o=JSON.stringify(o)),r.send(o)},this._onXhrAbort=function(e){console.log("member on abort",e)},this._onXhrLoad=function(e){switch(m._isNetOk=!0,e.target.status){case 404:return void console.error("member request 404",m.team,m.member,m.body);case 500:return void console.error("member request 500",m.team,m.member,m.body)}var t;m._responseText=e.target.responseText;try{t=JSON.parse(e.target.responseText)}catch(o){return m.dataError=o,m.dataErrorInfo="json parse error",console.log("member json parse resonse text is",e),void m._dispatchDataError()}m._response=t;var n=function(e,t){if(!e.is_ok)return t.dataError=new Error(e.msg),t.dataErrorInfo=e.msg,!1;if(!e.data){var n="no result data";return t.dataError=new Error(n),t.dataErrorInfo=n,!1}if(!e.data.is_ok)return t.dataError=new Error(e.data.msg),t.dataErrorInfo=e.data.msg,!1;return!0}(t,m);n?(m._isDataOk=!0,m._isTotallyOk=!0,m._res=t.data,i.isFunction(m.onSuccess)&&m.onSuccess(t.data),m.getDispatcher().dispatchEvent(new r.Event2(m.successEventType,m)),m._dispatchComplete()):m._dispatchDataError()},this._onXhrProgress=function(e){},this._onXhrTimeout=function(e){console.log("member on onTimeout",e),m._retry()},this._onXhrError=function(e){console.log("member on onNetError",e),m._retry()},this._retry=function(){if(m.retryCount++,!m._canRetry())return m.netError||m.netErrorInfo?m._dispatchNetError():m.dataError||m.dataErrorInfo?m._dispatchDataError():console.error("unkown Member error, team is ".concat(m.team," and member is ").concat(m.member)),void m._dispatchComplete();setTimeout((function(){m.send()}),1e3*m.retryCount)},this._dispatchComplete=function(){i.isFunction(m.onComplete)&&m.onComplete(m),m.getDispatcher().dispatchEvent(new r.Event2(m.completeEventType,m)),m._reset()},this._reset=function(){m.retryCount=0,m.dataError=null,m.dataErrorInfo="",m.netError=null,m.netErrorInfo="",m._isNetOk=!1,m._isDataOk=!1,m._isTotallyOk=!1,m._res=null},this._dispatchNetError=function(){i.isFunction(m.onNetError)&&m.onNetError(m),m.getDispatcher().dispatchEvent(new r.Event2(m.netErrorEventType,m)),m._dispatchComplete()},this._dispatchDataError=function(){i.isFunction(m.onDataError)&&m.onDataError(m),m.getDispatcher().dispatchEvent(new r.Event2(m.dataErrorEventType,m)),m._dispatchComplete()},this._canRetry=function(){return m.retryCount<m.maxRetryCount},this.team=t,this.member=n,this.body=a||{},this.onSuccess=s,this.onNetError=c,this.onDataError=d,this.onComplete=l,this.maxRetryCount=5,this.retryCount=0,this.dataError=null,this.dataErrorInfo="",this.netError=null,this.netErrorInfo="",this._isNetOk=!1,this._isDataOk=!1,this._isTotallyOk=!1,this._res=null,this.dispatcher=u,this._response=null,this._responseText=null,this.isCentralHandleNetError=p,this.isCentralHandleDataError=f,this.successEventType="member_event_".concat(this.team,"_").concat(this.member,"_success"),this.netErrorEventType="member_event_".concat(this.team,"_").concat(this.member,"_net_error"),this.dataErrorEventType="member_event_".concat(this.team,"_").concat(this.member,"_data_error"),this.completeEventType="member_event_".concat(this.team,"_").concat(this.member,"_complete")}return Object(a.a)(e,[{key:"isNetOk",get:function(){return this._netIsOk}},{key:"isDataOk",get:function(){return this._isDataOk}},{key:"isTotoallOk",get:function(){return this._isTotallyOk}},{key:"res",get:function(){return this._res}},{key:"responseErrorMessage",get:function(){return console.log("resErrorMessage is",this.response),this._response?this._response.err_msg?this._response.err_msg:this._response.data&&this._response.data.msg?this._response.msg:"":""}}]),e}();s.dispatcher=null,t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Event2=void 0;var o=n(22),a=function(){function e(e,t,n){void 0===n&&(n=!1),this._target="Event.target",this.type=e,this.data=t,this.cancelable=n,this.canceled=!1,this[this._target]=null}return Object.defineProperty(e.prototype,"target",{get:function(){return this[this._target]},enumerable:!1,configurable:!0}),e.prototype.toString=function(){var e=this,t={};return o.each(Object.keys(this),(function(n){console.log("key key key",n),"data"===n&&console.log("key is ",n,e[n]),t[n]=e[n]})),t},e}();t.Event2=a},,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Event2=void 0;var o=n(22),a=function(){function e(e,t,n){void 0===t&&(t=null),void 0===n&&(n=!1),this._target="Event.target",this.type=e,this.data=t,this.cancelable=n,this.canceled=!1,this[this._target]=null}return Object.defineProperty(e.prototype,"target",{get:function(){return this[this._target]},enumerable:!1,configurable:!0}),e.prototype.toString=function(){var e=this,t={};return o.each(Object.keys(this),(function(n){console.log("key key key",n),"data"===n&&console.log("key is ",n,e[n]),t[n]=e[n]})),t},e}();t.Event2=a},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.CrossMember=t.CrossEvent=void 0;var a=n(33),r=n(23),i=n(22),s=function(e){function t(t,n,o,a,r){var i=e.call(this,t,n)||this;return i.responseText=n,i.errType=a,i.err=r,i.res=o,i}return o(t,e),t}(r.Event2);t.CrossEvent=s,function(e){!function(e){e.onSuccess="onSuccess",e.onLoadError="onLoadError",e.onError="onError",e.onComplete="onComplete"}(e.EventTypes||(e.EventTypes={})),function(e){e.timeout="timeout",e.netError="netError"}(e.ErrorTypes||(e.ErrorTypes={}))}(s=t.CrossEvent||(t.CrossEvent={})),t.CrossEvent=s;var c=function(e){function t(){var n=e.call(this)||this;return n._isNetOk=!1,n.retryCount=0,n.maxRetryCount=5,n.load=function(e,o,a,r,s){n.endpoint=o,n.data=a,n.headers=r,n.method=e;var c=new XMLHttpRequest;if(c.addEventListener("abort",n._onXhrAbort.bind(n)),c.addEventListener("load",n._onXhrLoad.bind(n)),c.addEventListener("progress",n._onXhrProgress.bind(n)),c.addEventListener("timeout",n._onXhrTimeout.bind(n)),c.addEventListener("error",n._onXhrError.bind(n)),e===t.Methods.post?!1===i.isString(a)&&(a=JSON.stringify(a)):e===t.Methods.get&&(i.isObject(a)&&(a=new URLSearchParams(a).toString()),o=o+"?"+a),c.open(e,o),r)for(var d in r)c.setRequestHeader(d,r[d]);void 0!==s&&null!==s&&s(c),c.send(a)},n._onXhrAbort=function(e){console.log("member on abort",e)},n._onXhrLoad=function(e){var t;n._isNetOk=!0;try{t=JSON.parse(e.target.responseText)}catch(e){}n.dispatchEvent(new s(s.EventTypes.onSuccess,e.target.responseText,t)),n._dispatchComplete()},n._onXhrProgress=function(e){},n._onXhrTimeout=function(e){console.log("member on onTimeout",e),n._retry(s.ErrorTypes.timeout,e)},n._onXhrError=function(e){console.log("member on onNetError",e),n._retry(s.ErrorTypes.netError,e)},n._retry=function(e,t){if(n.retryCount++,!n._canRetry())return n.dispatchEvent(new s(s.EventTypes.onError,"",null,e,t)),void n._dispatchComplete();setTimeout((function(){n.load(n.method,n.endpoint,n.data)}),1e3*n.retryCount)},n._canRetry=function(){return n.retryCount<n.maxRetryCount},n._dispatchComplete=function(){n.dispatchEvent(new s(s.EventTypes.onComplete))},n}return o(t,e),t}(a.EventDispatcher);t.CrossMember=c,function(e){!function(e){e.get="get",e.post="post"}(e.Methods||(e.Methods={}))}(c=t.CrossMember||(t.CrossMember={})),t.CrossMember=c},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.PageModel=t.pageModel=t.GotoPageParams=void 0;var a=n(33),r=n(43),i=n(72),s=n(34),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),Object.defineProperty(t.prototype,"selectedTabId",{get:function(){return this._selectedTabId},set:function(e){if(this._selectedTabId!==e){var n=this._selectedTabId;this._selectedTabId=e;var o=new r.default(t.eventSelectedTabIdChanged,n,e,r.default.UPDATE);this.dispatchEvent(o)}},enumerable:!1,configurable:!0}),t.debugPage=!1,t.events={gotoFirstPage:"gotoFirstPage",gotoRotePage:"gotoRotePage",mainViewMounted:"mainViewMounted",pageInit:"pageInit",f7Init:"f7init",tabLengthChanged:"tablenthChanged"},t.routerCallBackEventName="routerBack",t.pageNames={goodsSearch:"search",discount:"discount",expressPackage:"express_package",mine:"mine",goodsDetail:"detail",goodsShare:"share",TbOrderClaim:"tb_order_claim",HowToUseShare:"how_to_use_share",GoodsRedEnvelopeJump:"red_envelope_jump",OrdersJd:"orders_jd",testa:"testxx",Admin:"admin",SberManage:"sber_manage"},t.mainViewTabs={package:{name:"package",tabId:i.TabIds.Package,path:"/"},discount:{name:"discount",tabId:i.TabIds.Discount,path:"/discount"},mine:{name:"mine",tabId:i.TabIds.Mine,path:"/mine"},admin:{name:"admin",tabId:i.TabIds.Admin,path:"/admin"}},t.mainViewDataUrl=s.isOnlineEnv?"":"/baobeidaola/website/",t.mainViewPushStateRoot=s.isOnlineEnv?"":"/baobeidaola/website",t.eventSelectedTabIdChanged="eventSelectedTabIdChanged",t}(a.EventDispatcher);t.PageModel=c;var d=function(){};t.GotoPageParams=d;var l=new c;t.pageModel=l},,,,function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.ComponentBase=void 0;var a=n(0),r=n(33),i=n(43),s=n(22),c=n(23),d=function(e){function t(n){var o=e.call(this,n)||this;return o.dispatcher=new r.EventDispatcher,o._isMounted=!1,o._waitingStateObject={},o.componentWillUnmount=function(){o.isMounted=!1},o.componentDidMount=function(){o.isMounted=!0,o._laterCallSetState()},o.setState=function(e){s.assign(o._waitingStateObject,e),setTimeout(o._laterCallSetState,1)},o._laterCallSetState=function(){if(o.isMounted){for(var n in o._waitingStateObject)o.state[n]=o._waitingStateObject[n];e.prototype.setState.call(o,o._waitingStateObject);var a=o._waitingStateObject;o._waitingStateObject={};var r=new c.Event2(t.eventStateUpdated);o.dispatcher.dispatchEvent(r),o._onStateUpdate(a)}},o}return o(t,e),Object.defineProperty(t,"eventIsMountedChanged",{get:function(){return"eventIsMountedChanged"},enumerable:!1,configurable:!0}),Object.defineProperty(t,"eventStateUpdated",{get:function(){return"eventStateUpdated"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isMounted",{get:function(){return this._isMounted},set:function(e){if(this._isMounted!==e){var n=this._isMounted;this._isMounted=e;var o=new i.default(t.eventIsMountedChanged,n,e,i.default.UPDATE);this.dispatcher.dispatchEvent(o)}},enumerable:!1,configurable:!0}),t.prototype._onStateUpdate=function(e){},t}(a.Component);t.ComponentBase=d},,,,function(e,t,n){"use strict";var o=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var o=Array(e),a=0;for(t=0;t<n;t++)for(var r=arguments[t],i=0,s=r.length;i<s;i++,a++)o[a]=r[i];return o};Object.defineProperty(t,"__esModule",{value:!0}),t.EventDispatcher=void 0;var a=n(22),r=function(){var e=this;this.listenMap={},this.listenDomainMap=new Map,this.onceListeners={},this.addEventListenerOnce=function(t,n,o){e.addOnceListener(t,n,o,void 0)},this.addOnceListener=function(t,n,o,a){var r=e.onceListeners[t];if(r||(e.onceListeners[t]=r=new Map),!1===r.has(n)){var i=e.onceListenerCb(t,n,a);r.set(n,i),a?e.addDomainEventListener(a,t,i,o):e.addEventListener(t,i,o)}},this.onceListenerCb=function(t,n,o){return function(e){n(e);var a=this.onceListeners[t];o?this.removeDomainEventListener(o,t,a.get(n)):this.removeEventListener(t,a.get(n))}.bind(e)},this.addEventListener=function(t,n,o){void 0===o&&(o=-1),!1===a.isFunction(n)&&(console.trace("add event listener is not a function",n),alert("addEventListener is not a function")),void 0===t&&(console.trace("add event listener type is undefind",t,n,o),alert("add event listener type is undefind"));var r=e.listenMap[t];r||(e.listenMap[t]=r=[]);var i=r.indexOf(n);i>-1&&r.splice(i,1),-1===o&&(o=r.length),o=Math.max(0,Math.min(o,r.length)),r.splice(o,0,n)},this.removeEventListener=function(t,n){var o=e.listenMap[t];if(!o)return!1;var a=o.indexOf(n);return-1!==a&&(o.splice(a,1),!0)},this.addDomainEventListener=function(t,n,o,a){void 0===a&&(a=-1);var r=e.listenDomainMap.get(t);r||(r={},e.listenDomainMap.set(t,r));var i=r[n];return i||(i=r[n]=[]),-1===i.indexOf(o)&&i.push(o),e.addEventListener(n,o,a)},this.addDomainOnceListener=function(t,n,o,a){e.addOnceListener(n,o,a,t)},this.removeDomainEventListener=function(t,n,o){var a=e.listenDomainMap.get(t);if(!a)return!1;var r=a[n];if(!r)return!1;var i=r.indexOf(o);return-1!==i&&(r.splice(i,1),e.removeEventListener(n,o))},this.removeDomain=function(t){var n=e.listenDomainMap.get(t);if(!n)return!1;var o=function(t){n[t].forEach((function(e){this.removeEventListener(t,e)}),e)};for(var a in n)o(a);return e.listenDomainMap.delete(t),!0},this.dispatchEvent=function(t){var n=e.listenMap[t.type];if(!n)return!1;t[t._target]=e;for(var o=0,r=(n=n.slice()).length;o<r;o++){if(t.canceled)return!1;var i=n[o];0!=a.isFunction(i)?i(t):console.trace("dispatche event is not a function",i,n)}return!0},this.dispatchArgs=function(t){for(var n,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];var s=e.listenMap[t];if(!s)return!1;for(var c=0,d=(s=s.slice()).length;c<d;c++)0!=a.isFunction(s[c])?(n=s[c]).apply.apply(n,o([null],r)):console.trace("dispatchArgs is not a function",s[c],s);return!0},this.willTrigger=function(t){return void 0!==e.listenMap[t]&&e.listenMap[t].length>0}};t.EventDispatcher=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sharerCode=t.userIdHashIds=t.sharerId=t.isRenrenSber=t.pcWidth=t.getWebsiteRoot=t.isOnlineEnv=t.title=t.gateway=t.platform=t.isProd=t.isDev=t.titlePrefix=void 0;var o=new(n(184))("o",5);t.userIdHashIds=o;var a="production",r="production",i="test",s="test2",c="qiwoa",d="zjLocal",l="zjLocalhost",u="zjLocal22",p="zjLocalbaobei",f=!1;t.isOnlineEnv=f;var m={"192.168.177.180":d,localhost:l,"22.youhui.baobeidaolagolocal.com":u,"baobeidaolagolocal.com":u,"123.localbaobeidaola.com":p,"baobeidaola.com":a,"www.baobeidaola.com":a,"a.test.baobeidaola.com":r,"xiaochengxu.fanfanlo.com":i,"fanfanlo.com":s,"qiwoa.com":c}[window.location.hostname];t.platform=m;var g="";t.gateway=g;var v="";t.title=v;t.pcWidth="550";t.isRenrenSber=!1;var h="";t.sharerId=h;var _="";switch(t.sharerCode=_,function(){var e=window.location.href.split("?");if(0!=e.length)for(var n=e[e.length-1].split("&"),a=0;a<n.length;a++){var r=n[a].split("=");r.length<2||"s"==r[0]&&(t.sharerCode=_=r[1],t.sharerId=h=o.decode(r[1])[0].toString())}}(),console.log("process.env.NODE_EVN is","production",h),t.titlePrefix="",m){case d:"http://123.localbaobeidaola.com:3012/baobeidaola/website/",t.gateway=g="//192.168.177.180:15040/r/",t.title=v="\u5f00\u53d1\u73af\u5883",t.titlePrefix="1";break;case p:t.gateway=g="//123.localbaobeidaola.com:15040/r/",t.title=v="\u6cdb\u57df\u540d\u73af\u5883",t.titlePrefix="1";break;case l:t.gateway=g="//localhost:15040/r/",t.title=v="\u5f00\u53d1\u73af\u5883",t.titlePrefix="1";break;case u:t.gateway=g="//22.youhui.baobeidaolagolocal.com:15040/r/",t.title=v="\u5f00\u53d1\u73af\u5883",t.titlePrefix="1";break;case a:t.gateway=g="//baobeidaola.com/r/",t.title=v="\u5b9d\u8d1d\u5230\u5566",t.isOnlineEnv=f=!0;break;case r:t.gateway=g="//a.test.baobeidaola.com/r/",t.title=v="\u5b9d\u8d1d\u5230\u5566";break;case i:t.gateway=g="//xiaochengxu.fanfanlo.com/r/",t.title=v="\u6d4b\u8bd5\u73af\u5883",t.titlePrefix="2",t.isOnlineEnv=f=!0;break;case s:t.gateway=g="//fanfanlo.com/r/",t.title=v="\u6d4b\u8bd5\u73af\u5883",t.titlePrefix="2",t.isOnlineEnv=f=!0;break;case c:t.gateway=g="//qiwoa.com/r/",t.title=v="\u6d4b\u8bd5\u73af\u5883",t.titlePrefix="2",t.isOnlineEnv=f=!0;break;default:throw"\u8bbe\u7f6eenv\u65f6\u4e48\u6709\u627e\u5230\u5f00\u53d1\u8005\u914d\u7f6e\uff0c\u8bf7\u6253\u5f00env.js\u67e5\u770b"}t.isDev=false;var b=m===a;t.isProd=b,t.getWebsiteRoot=function(){return""},console.log("isProd, platform, prod",b,m,a,f)},,function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.User=void 0;var a,r=n(33),i=n(43),s=n(34),c=n(22),d=0,l=function(e){function t(){var t=e.call(this)||this;return t.index=++d,t.id=0,t.copyFromJson=function(e){if(t.json=e,!e)return t.logout();a=t,c.assign(t,e),t.sberId=e.sber_id,t.isAdmin=3230===t.id||2===t.id||10===t.id||507===t.id,t.isLogged=!0},t._isAdmin=!1,t.logout=function(){0!==t.id&&window.location.reload(),t.isAdmin=!1},t._mobile="",t._isLogged=!1,t._attached_mobiles=[],t}return o(t,e),Object.defineProperty(t,"eventMobileChanged",{get:function(){return"eventMobileChanged"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"mobile",{get:function(){return this._mobile},set:function(e){if(this._mobile!==e){var n=this._mobile;this._mobile=e;var o=new i.default(t.eventMobileChanged,n,e,i.default.UPDATE);this.dispatchEvent(o)}},enumerable:!1,configurable:!0}),Object.defineProperty(t,"eventIsLoggedChanged",{get:function(){return"eventIsLoggedChanged"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isLogged",{get:function(){return this._isLogged},set:function(e){if(this._isLogged!==e){var n=this._isLogged;this._isLogged=e;var o=new i.default(t.eventIsLoggedChanged,n,e,i.default.UPDATE);this.dispatchEvent(o)}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sharerCode",{get:function(){return s.userIdHashIds.encode([this.id||0])},enumerable:!1,configurable:!0}),Object.defineProperty(t,"eventAttached_mobilesChanged",{get:function(){return"eventAttached_mobilesChanged"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"attached_mobiles",{get:function(){return this._attached_mobiles},set:function(e){if(this._attached_mobiles!==e){var n=this._attached_mobiles;this._attached_mobiles=e;var o=new i.default(t.eventAttached_mobilesChanged,n,e,i.default.UPDATE);this.dispatchEvent(o)}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isSber",{get:function(){return!!a&&!!this.json.sber_id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isAdmin",{get:function(){return this._isAdmin},set:function(e){if(this._isAdmin!==e){var n=this._isAdmin;this._isAdmin=e;var o=new i.default(t.eventIsAdminChanged,n,e,i.default.UPDATE);this.dispatchEvent(o)}},enumerable:!1,configurable:!0}),t.eventIsAdminChanged="eventIsAdminChanged",t}(r.EventDispatcher);t.User=l},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.trackingModel=t.TrackingModel=void 0;var a=n(43),r=function(e){function t(){var t=e.call(this)||this;return t._openid_binded=!1,t._user_binded=!1,t._send_send_remind=!1,t}return o(t,e),Object.defineProperty(t.prototype,"trackingUuid",{get:function(){return this._trackingUuid},set:function(e){if(this._trackingUuid!==e){var n=this._trackingUuid;this._trackingUuid=e;var o=new a.default(t.events.eventTrackingUuidChanged,n,e,a.default.UPDATE);this.dispatchEvent(o)}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"openid_binded",{get:function(){return this._openid_binded},set:function(e){if(this._openid_binded!==e){var n=this._openid_binded;this._openid_binded=e;var o=new a.default(t.eventOpenid_bindedChanged,n,e,a.default.UPDATE);this.dispatchEvent(o)}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"user_binded",{get:function(){return this._user_binded},set:function(e){if(this._user_binded!==e){var n=this._user_binded;this._user_binded=e;var o=new a.default(t.eventUser_bindedChanged,n,e,a.default.UPDATE);this.dispatchEvent(o)}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"send_send_remind",{get:function(){return this._send_send_remind},set:function(e){if(this._send_send_remind!==e){var n=this._send_send_remind;this._send_send_remind=e;var o=new a.default(t.eventSend_send_remindChanged,n,e,a.default.UPDATE);this.dispatchEvent(o)}},enumerable:!1,configurable:!0}),t.eventOpenid_bindedChanged="eventOpenid_bindedChanged",t.eventUser_bindedChanged="eventUser_bindedChanged",t.eventSend_send_remindChanged="eventSend_send_remindChanged",t}(n(33).EventDispatcher);t.TrackingModel=r,function(e){!function(e){e.eventTrackingUuidChanged="eventTrackingUuidChanged"}(e.events||(e.events={}))}(r||(r={})),t.TrackingModel=r;var i=new r;t.trackingModel=i},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.PageEvent=void 0;var a=function(e){function t(t,n,o){var a=e.call(this,t)||this;return a.page=n,a.router=o,a}return o(t,e),t}(n(23).Event2);t.PageEvent=a,function(e){!function(e){e.onPageInit="onPageInit",e.onPageReinit="onPageReinit",e.onPageBeforeIn="onPageBeforeIn",e.onPageMounted="onPageMounted",e.onPageAfterIn="onPageAfterIn",e.onPageBeforOut="onPageBeforOut",e.onPageAfterOut="onPageAfterOut",e.onPageBeforUnmount="onPageBeforUnmount",e.onPageBeforRemove="onPageBeforRemove",e.onPageTabShow="onPageTabShow",e.onPageTabHide="onPageTabHide"}(e.EventTypes||(e.EventTypes={}))}(a=t.PageEvent||(t.PageEvent={})),t.PageEvent=a},,,,,function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.PropertyChangeEvent=void 0;var a=function(e){function t(t,n,o,a,r){void 0===r&&(r=!1);var i=e.call(this,t,o,r)||this;return i._oldValue=n,i._newValue=o,i._kind=a,i}return o(t,e),Object.defineProperty(t.prototype,"oldValue",{get:function(){return this._oldValue},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newValue",{get:function(){return this._newValue},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"kind",{get:function(){return this._kind},enumerable:!1,configurable:!0}),t}(n(18).Event2);t.PropertyChangeEvent=a,function(e){!function(e){e.Delete="delete",e.Update="update",e.Change="change"}(e.Kind||(e.Kind={}))}(a=t.PropertyChangeEvent||(t.PropertyChangeEvent={})),t.PropertyChangeEvent=a,a.DELETE="delete",a.UPDATE="update",a.CHANGE="change",t.default=a},function(e,t,n){"use strict";n.r(t),n.d(t,"DdxRequest",(function(){return s}));var o=n(21),a=n(8),r=n(24),i=n(4);var s=Object(o.a)((function e(t,n,o,s,c,d){var l=this;Object(a.a)(this,e),this.send=function(e,t,n){l.isConnecting=!0,e=e||l.endpoint,(t=t||l.params).apikey="2Zgrz6fPI9W2mVCfJuNDyQdaT5fOrW3J",l.alias=n||l.alias;var o=l.member=new r.CrossMember;o.addEventListener(r.CrossEvent.EventTypes.onError,l._onError),o.addEventListener(r.CrossEvent.EventTypes.onSuccess,l._onSuccess),o.addEventListener(r.CrossEvent.EventTypes.onComplete,l._onComplete),o.load(r.CrossMember.Methods.get,e,t,{"content-type":"text/plain"})},this._onError=function(e){console.log("ddx member on fail is ".concat(l.alias||""),e),l.onFail&&l.onFail(e)},this._onSuccess=function(e){var t=e.res,n="";if(t?-1==t.code?n="\u6ca1\u6709\u8be5\u5185\u5bb9\u6570\u636e":t.data?200!=t.code&&(n="\u6570\u636e\u8fd4\u56de\u9519\u8bef"):n="\u6ca1\u6709\u8fd4\u56de\u6570\u636e\u5185\u5bb9":n="\u6ca1\u6709\u8fd4\u56de\u6570\u636e",n)return l.onFail&&l.onFail(e),i.a.toast.create({closeTimeout:3e3,text:"".concat(n," ").concat(l.alias||""," "),destroyOnClose:!0}).open();l.onSuccess&&l.onSuccess(t)},this._onComplete=function(e){l.isConnecting=!1,l.onComplete&&l.onComplete()},this.endpoint=t,this.params=n,this.onSuccess=o,this.onFail=s,this.onComplete=c,this.isConnecting=!1,this.member=null,this.alias=d}))},function(e,t,n){"use strict";n.r(t),n.d(t,"TbMember",(function(){return s}));var o=n(8),a=n(21),r=n(4),i=n(24),s=function(){function e(t,n,a){var i=this;Object(o.a)(this,e),this.trackingUuid="",this._onError=function(e){i.onError&&i.onError(e)},this._onSuccess=function(e){var t=e.res;if(!t||"request:ok"!=t.errMsg||!t.data)return i.onError&&i.onError(t),r.a.toast.create({closeTimeout:3e3,text:"\u8ba2\u5355\u4fa0\u6dd8\u5b9d\u6ca1\u6709\u8fd4\u56de\u6570\u636e",destroyOnClose:!0}).open();var n=t.data;"function"==typeof i.onSuccess&&i.onSuccess(n)},this._onComplete=function(e){i.isConnecting=!1,i.onComplete&&i.onComplete()},this.onSuccess=t,this.onError=n,this.onComplete=a,this.retryCount=0,this.member=null}return Object(a.a)(e,[{key:"send",value:function(e){var t=this.member=new i.CrossMember;t.addEventListener(i.CrossEvent.EventTypes.onError,this._onError),t.addEventListener(i.CrossEvent.EventTypes.onSuccess,this._onSuccess),t.addEventListener(i.CrossEvent.EventTypes.onComplete,this._onComplete),t.load(i.CrossMember.Methods.post,"//gw.api.taobao.com/router/rest",e,{"content-type":"application/x-www-form-urlencoded"})}},{key:"retry",value:function(){this.retryCount++,this.send()}},{key:"canRetry",value:function(){return this.retryCount<5}}]),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.goodsSearchRouter=void 0;var o=n(25),a=n(78),r=n(34),i=n(51);t.goodsSearchRouter={path:"/"+o.PageModel.pageNames.goodsSearch,name:o.PageModel.pageNames.goodsSearch,mainTab:o.PageModel.mainViewTabs.discount,canOpenDirect:!0,component:a.GoodsSearchPage,on:{pageInit:function(e,t){},pageReinit:function(e,t){},pageBeforeIn:function(e,t){document.title=r.titlePrefix+"-"+r.title+"-\u641c\u7d22\u5b9d\u8d1d"},pageMounted:function(e,t){},pageAfterIn:function(e,t){},pageBeforeOut:function(e,t){},pageAfterOut:function(e,t){},onPageBeforeUnmount:function(e,t){},pageBeforeRemove:function(e,t){i.model.searchType=i.Model.SearchType.None,console.log(o.PageModel.pageNames.goodsSearch+" on page pageBeforeRemove is",e,t)},pageTabShow:function(e,t){},pageTabHide:function(e,t){}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.formatDate=t.isMobile=t.getQueryVariable=t.getQuery=t.objectDecodeUriComponent=t.objectEncodeUriComponent=t.objectToUrlParams=t.getPageUrlWithParams=t._laterCallSetData=t.laterCallSetData=void 0;var o=new Map;function a(e){setTimeout((function(){o.delete(e.page),e.page.setData(e.data)}),1)}function r(e,t){var n="";for(var o in e)n.length>0&&(n+="&"),n+=o+"="+(t?encodeURIComponent(e[o]):e[o]);return n}t.laterCallSetData=function(e,t){var n;if(o.has(e))for(var r in n=o.get(e),t)n.data[r]=t[r];else n={page:e,data:t},o.set(e,n),a(n)},t._laterCallSetData=a,t.getPageUrlWithParams=function(e){var t=r(e.options,!1);return"/"+e.route+"?"+t},t.objectToUrlParams=r,t.objectEncodeUriComponent=function(e,t){for(var n in e)t[n]=encodeURIComponent(e[n]);return t},t.objectDecodeUriComponent=function(e,t){for(var n in e)t[n]=decodeURIComponent(e[n]);return t},t.getQuery=function(e){var t={};if(-1!==e.indexOf("?"))for(var n=e.substr(1).split("&"),o=0;o<n.length;o++){var a=n[o].split("=");t[a[0]]=a[1]}return t},t.getQueryVariable=function(e,t){if(-1!==t.indexOf("?"))for(var n=t.slice(t.indexOf("?")+1).split("&"),o=0;o<n.length;o++){var a=n[o].split("=");if(console.log("pppppp",a[0]),a[0]===e)return a[1]}return null},t.isMobile=function(e){return/^1[3456789]\d{9}$/.test(e)},t.formatDate=function(e,t){var n={"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"q+":Math.floor((e.getMonth()+3)/3),S:e.getMilliseconds()};for(var o in/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length))),n)new RegExp("("+o+")").test(t)&&(t=t.replace(RegExp.$1,1===RegExp.$1.length?n[o]:("00"+n[o]).substr((""+n[o]).length)));return t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getECommerceChannelTb=t.getECommerceChannelVip=t.getECommerceChannelPdd=t.getECommerceChannelJd=void 0;var o=n(148),a=n(149),r=n(150),i=n(151),s={"baobeidaola.com":"express","dev.e.baobeidaola.com":"express","192.168.177.180:3012/baobeidaola/website":"express","fanfanlo.com":"bottom","dev.e.fanfanlo.com":"bottom","xiaochengxu.fanfanlo.com":"bottom","192.168.177.180:3012/baobeidaola/website/fanfanlo":"bottom","shangwoa.com":"fission","dev.e.shangwoa.com":"fission","192.168.177.180:3012/baobeidaola/website/fission":"fission","qiwoa.com":"private","dev.e.qiwoa.com":"private","192.168.177.180:3012/baobeidaola/website/traffic":"private"};function c(){var e=window.location.href;for(var t in s)if(e.indexOf(t)>-1)return s[t]}t.getECommerceChannelJd=function(){var e=c();return o.ecommerceChannelJd[e]},t.getECommerceChannelPdd=function(){var e=c();return a.ecommerceChannelPdd[e]},t.getECommerceChannelVip=function(){var e=c();return r.ecommerceChannelVip[e]},t.getECommerceChannelTb=function(){var e=c();return i.ecommerceChannelTb[e]}},,,function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.model=t.Model=void 0;var a=n(33),r=n(76),i=n(43),s=function(e){function t(){var n=e.call(this)||this;return n.goodsItemWidth=0,n.goodsItemHeight=0,n._onGoodsItemSizeMeasured=function(e){n.goodsItemWidth=e.data.width,n.goodsItemHeight=e.data.height},n._searchType=t.SearchType.None,n._platform=null,n.addEventListener(r.GoodsListItemMeasure.GoodsListItemSizeMeasured,n._onGoodsItemSizeMeasured),n}return o(t,e),Object.defineProperty(t.prototype,"searchType",{get:function(){return this._searchType},set:function(e){if(this._searchType!==e){var n=this._searchType;this._searchType=e;var o=new i.default(t.eventSearchTypeChanged,n,e,i.default.UPDATE);this.dispatchEvent(o)}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"platform",{get:function(){return this._platform},set:function(e){if(this._platform!==e){var n=this._platform;this._platform=e;var o=new i.default(t.eventPlatformChanged,n,e,i.default.UPDATE);this.dispatchEvent(o)}},enumerable:!1,configurable:!0}),t.eventSearchTypeChanged="eventSearchTypeChanged",t.eventPlatformChanged="eventPlatformChanged",t}(a.EventDispatcher);t.Model=s,function(e){!function(e){e.None="none",e.Key="key",e.Url="url"}(e.SearchType||(e.SearchType={}))}(s=t.Model||(t.Model={})),t.Model=s,t.model=new s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.goodsDetailPageRouter=void 0;var o=n(25),a=n(140);t.goodsDetailPageRouter={path:"/"+o.PageModel.pageNames.goodsDetail,name:o.PageModel.pageNames.goodsDetail,mainTab:o.PageModel.mainViewTabs.discount,canOpenDirect:!0,component:a.GoodsDetailPage,title:function(){},on:{pageInit:function(e,t){},pageReinit:function(e,t){},pageBeforeIn:function(e,t){var n=decodeURIComponent(t.route.query.d),o=JSON.parse(n);a.getPage().setUrlParams(o)},pageMounted:function(e,t){},pageAfterIn:function(e,t){},pageBeforeOut:function(e,t){},pageAfterOut:function(e,t){},onPageBeforeUnmount:function(e,t){},pageBeforeRemove:function(e,t){},pageTabShow:function(e,t){},pageTabHide:function(e,t){}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.goodsShareRouter=void 0;var o=n(25),a=n(141);t.goodsShareRouter={path:"/"+o.PageModel.pageNames.goodsShare,name:o.PageModel.pageNames.goodsShare,mainTab:o.PageModel.mainViewTabs.discount,canOpenDirect:!0,component:a.Ppage,title:function(){},on:{pageInit:function(e,t){},pageReinit:function(e,t){},pageBeforeIn:function(e,t){var n=decodeURIComponent(t.route.query.d),o=JSON.parse(n);a.getPage().setParams(o)},pageMounted:function(e,t){},pageAfterIn:function(e,t){},pageBeforeOut:function(e,t){},pageAfterOut:function(e,t){},onPageBeforeUnmount:function(e,t){},pageBeforeRemove:function(e,t){},pageTabShow:function(e,t){},pageTabHide:function(e,t){}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TbOrderClaimRouter=void 0;var o=n(25),a=n(167),r=n(168),i=n(38),s=o.PageModel.pageNames.TbOrderClaim;t.TbOrderClaimRouter={path:"/"+s,name:s,mainTab:o.PageModel.mainViewTabs.discount,canOpenDirect:!0,component:a.TbOrderClaimPage,title:function(){},on:{pageInit:function(e,n){var a=new i.PageEvent(i.PageEvent.EventTypes.onPageInit,n,t.TbOrderClaimRouter);r.model.dispatchEvent(a),o.pageModel.dispatchEvent(a)},pageReinit:function(e,n){var a=new i.PageEvent(i.PageEvent.EventTypes.onPageReinit,n,t.TbOrderClaimRouter);r.model.dispatchEvent(a),o.pageModel.dispatchEvent(a)},pageBeforeIn:function(e,n){var a=decodeURIComponent(n.route.query);console.log("sssssssssssssss",JSON.stringify(a));var s=new i.PageEvent(i.PageEvent.EventTypes.onPageBeforeIn,n,t.TbOrderClaimRouter);r.model.dispatchEvent(s),o.pageModel.dispatchEvent(s)},pageMounted:function(e,n){var a=new i.PageEvent(i.PageEvent.EventTypes.onPageMounted,n,t.TbOrderClaimRouter);r.model.dispatchEvent(a),o.pageModel.dispatchEvent(a)},pageAfterIn:function(e,n){var a=new i.PageEvent(i.PageEvent.EventTypes.onPageAfterIn,n,t.TbOrderClaimRouter);r.model.dispatchEvent(a),o.pageModel.dispatchEvent(a)},pageBeforeOut:function(e,n){var a=new i.PageEvent(i.PageEvent.EventTypes.onPageBeforOut,n,t.TbOrderClaimRouter);r.model.dispatchEvent(a),o.pageModel.dispatchEvent(a)},pageAfterOut:function(e,n){var a=new i.PageEvent(i.PageEvent.EventTypes.onPageAfterOut,n,t.TbOrderClaimRouter);r.model.dispatchEvent(a),o.pageModel.dispatchEvent(a)},onPageBeforeUnmount:function(e,n){var a=new i.PageEvent(i.PageEvent.EventTypes.onPageBeforUnmount,n,t.TbOrderClaimRouter);r.model.dispatchEvent(a),o.pageModel.dispatchEvent(a)},pageBeforeRemove:function(e,n){var a=new i.PageEvent(i.PageEvent.EventTypes.onPageBeforRemove,n,t.TbOrderClaimRouter);r.model.dispatchEvent(a),o.pageModel.dispatchEvent(a)},pageTabShow:function(e,n){var a=new i.PageEvent(i.PageEvent.EventTypes.onPageTabShow,n,t.TbOrderClaimRouter);r.model.dispatchEvent(a),o.pageModel.dispatchEvent(a)},pageTabHide:function(e,n){var a=new i.PageEvent(i.PageEvent.EventTypes.onPageTabHide,n,t.TbOrderClaimRouter);r.model.dispatchEvent(a),o.pageModel.dispatchEvent(a)}}}},,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.discountRouter=void 0;var o=n(25),a=n(77),r=n(34),i=n(38);t.discountRouter={path:"/"+o.PageModel.pageNames.discount,name:o.PageModel.pageNames.discount,mainTab:o.PageModel.mainViewTabs.discount,canOpenDirect:!0,component:a.DiscountPage,on:{pageInit:function(e,n){var a=new i.PageEvent(i.PageEvent.EventTypes.onPageInit,n,t.discountRouter);o.pageModel.dispatchEvent(a)},pageReinit:function(e,n){var a=new i.PageEvent(i.PageEvent.EventTypes.onPageReinit,n,t.discountRouter);o.pageModel.dispatchEvent(a)},pageBeforeIn:function(e,n){document.title=r.titlePrefix+"-"+r.title+"-\u5b9d\u8d1d\u63a8\u8350";var a=new i.PageEvent(i.PageEvent.EventTypes.onPageBeforeIn,n,t.discountRouter);o.pageModel.dispatchEvent(a)},pageMounted:function(e,n){var a=new i.PageEvent(i.PageEvent.EventTypes.onPageMounted,n,t.discountRouter);o.pageModel.dispatchEvent(a)},pageAfterIn:function(e,n){var a=new i.PageEvent(i.PageEvent.EventTypes.onPageAfterIn,n,t.discountRouter);o.pageModel.dispatchEvent(a)},pageBeforeOut:function(e,n){var a=new i.PageEvent(i.PageEvent.EventTypes.onPageBeforOut,n,t.discountRouter);o.pageModel.dispatchEvent(a)},pageAfterOut:function(e,n){var a=new i.PageEvent(i.PageEvent.EventTypes.onPageAfterOut,n,t.discountRouter);o.pageModel.dispatchEvent(a)},onPageBeforeUnmount:function(e,n){var a=new i.PageEvent(i.PageEvent.EventTypes.onPageBeforUnmount,n,t.discountRouter);o.pageModel.dispatchEvent(a)},pageBeforeRemove:function(e,n){var a=new i.PageEvent(i.PageEvent.EventTypes.onPageBeforRemove,n,t.discountRouter);o.pageModel.dispatchEvent(a)},pageTabShow:function(e,n){var a=new i.PageEvent(i.PageEvent.EventTypes.onPageTabShow,n,t.discountRouter);o.pageModel.dispatchEvent(a)},pageTabHide:function(e,n){var a=new i.PageEvent(i.PageEvent.EventTypes.onPageTabHide,n,t.discountRouter);o.pageModel.dispatchEvent(a)}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mineRouter=void 0;var o=n(25),a=n(179),r=n(119),i=n(38);t.mineRouter={path:"/"+o.PageModel.pageNames.mine,name:o.PageModel.pageNames.mine,mainTab:o.PageModel.mainViewTabs.mine,canOpenDirect:!0,component:a.MinePage,on:{pageInit:function(e,n){var a=new i.PageEvent(i.PageEvent.EventTypes.onPageInit,n,t.mineRouter);r.model.dispatchEvent(a),o.pageModel.dispatchEvent(a)},pageReinit:function(e,n){var a=new i.PageEvent(i.PageEvent.EventTypes.onPageReinit,n,t.mineRouter);r.model.dispatchEvent(a),o.pageModel.dispatchEvent(a)},pageBeforeIn:function(e,n){var a=new i.PageEvent(i.PageEvent.EventTypes.onPageBeforeIn,n,t.mineRouter);r.model.dispatchEvent(a),o.pageModel.dispatchEvent(a)},pageMounted:function(e,n){var a=new i.PageEvent(i.PageEvent.EventTypes.onPageMounted,n,t.mineRouter);r.model.dispatchEvent(a),o.pageModel.dispatchEvent(a)},pageAfterIn:function(e,n){var a=new i.PageEvent(i.PageEvent.EventTypes.onPageAfterIn,n,t.mineRouter);r.model.dispatchEvent(a),o.pageModel.dispatchEvent(a)},pageBeforeOut:function(e,n){var a=new i.PageEvent(i.PageEvent.EventTypes.onPageBeforOut,n,t.mineRouter);r.model.dispatchEvent(a),o.pageModel.dispatchEvent(a)},pageAfterOut:function(e,n){var a=new i.PageEvent(i.PageEvent.EventTypes.onPageAfterOut,n,t.mineRouter);r.model.dispatchEvent(a),o.pageModel.dispatchEvent(a)},onPageBeforeUnmount:function(e,n){var a=new i.PageEvent(i.PageEvent.EventTypes.onPageBeforUnmount,n,t.mineRouter);r.model.dispatchEvent(a),o.pageModel.dispatchEvent(a)},pageBeforeRemove:function(e,n){var a=new i.PageEvent(i.PageEvent.EventTypes.onPageBeforRemove,n,t.mineRouter);r.model.dispatchEvent(a),o.pageModel.dispatchEvent(a)},pageTabShow:function(e,n){var a=new i.PageEvent(i.PageEvent.EventTypes.onPageTabShow,n,t.mineRouter);r.model.dispatchEvent(a),o.pageModel.dispatchEvent(a)},pageTabHide:function(e,n){var a=new i.PageEvent(i.PageEvent.EventTypes.onPageTabHide,n,t.mineRouter);r.model.dispatchEvent(a),o.pageModel.dispatchEvent(a)}}}},,,,function(e,t,n){"use strict";n.r(t),n.d(t,"saveKeys",(function(){return a})),n.d(t,"PageInfo",(function(){return r})),n.d(t,"RecommendPageInfo",(function(){return i}));var o=n(8),a={pdd:"pddRecommendPageInfo",jd:"jdRecommendPageInfo",vip:"vipRecommendPageInfo",tb:"tbRecommendPageInfo"},r=function e(){var t=this;Object(o.a)(this,e),this.reset=function(e,n,o){t.index=e,t.limit=n,t.channel=o},this.total=-1},i=function e(){var t=this;Object(o.a)(this,e),this.init=function(e,n,o,a){t.name=e,t.channels=n,t.pageIndex=o,t.pageLimit=a},this._reset=function(){for(var e=0;e<t.channels.length;e++){var n=t.channels[e],o=t.map[n]||new r;o.reset(t.pageIndex,t.pageLimit,n),t.map[n]=o}t._channels=t.channels.slice(),t.channelIndex=-1},this.getNextPageInfo=function(){0==t._channels.length&&t._reset();var e=Math.min(t.channelIndex+1,t._channels.length-1),n=t._channels[e],o=t.map[n];if(o.index>10)return t._channels.splice(e,1),t.getNextPageInfo();if(o.index>-1&&o.total>-1&&o.index*o.limit>=o.total)return t._channels.splice(e,1),t.getNextPageInfo();return o.index++,e==t._channels.length-1&&(e=-1),t.channelIndex=e,o},this.save=function(){console.log("on recommend page save ",t)},this.pageIndex=-1,this.pageLimit=20,this.channels=[],this.map={},this._channels=[],this.channelIndex=-1,this.name=""}},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HowToUseShareRouter=void 0;var o=n(25),a=n(144),r=n(145),i=n(38),s=o.PageModel.pageNames.HowToUseShare;t.HowToUseShareRouter={path:"/"+s,name:s,mainTab:o.PageModel.mainViewTabs.discount,component:a.HowToUseSharePage,canOpenDirect:!0,title:function(){},on:{pageInit:function(e,n){var a=new i.PageEvent(i.PageEvent.EventTypes.onPageInit,n,t.HowToUseShareRouter);r.model.dispatchEvent(a),o.pageModel.dispatchEvent(a)},pageReinit:function(e,n){var a=new i.PageEvent(i.PageEvent.EventTypes.onPageReinit,n,t.HowToUseShareRouter);r.model.dispatchEvent(a),o.pageModel.dispatchEvent(a)},pageBeforeIn:function(e,n){var a=new i.PageEvent(i.PageEvent.EventTypes.onPageBeforeIn,n,t.HowToUseShareRouter);r.model.dispatchEvent(a),o.pageModel.dispatchEvent(a)},pageMounted:function(e,n){var a=new i.PageEvent(i.PageEvent.EventTypes.onPageMounted,n,t.HowToUseShareRouter);r.model.dispatchEvent(a),o.pageModel.dispatchEvent(a)},pageAfterIn:function(e,n){var a=new i.PageEvent(i.PageEvent.EventTypes.onPageAfterIn,n,t.HowToUseShareRouter);r.model.dispatchEvent(a),o.pageModel.dispatchEvent(a)},pageBeforeOut:function(e,n){var a=new i.PageEvent(i.PageEvent.EventTypes.onPageBeforOut,n,t.HowToUseShareRouter);r.model.dispatchEvent(a),o.pageModel.dispatchEvent(a)},pageAfterOut:function(e,n){var a=new i.PageEvent(i.PageEvent.EventTypes.onPageAfterOut,n,t.HowToUseShareRouter);r.model.dispatchEvent(a),o.pageModel.dispatchEvent(a)},onPageBeforeUnmount:function(e,n){var a=new i.PageEvent(i.PageEvent.EventTypes.onPageBeforUnmount,n,t.HowToUseShareRouter);r.model.dispatchEvent(a),o.pageModel.dispatchEvent(a)},pageBeforeRemove:function(e,n){var a=new i.PageEvent(i.PageEvent.EventTypes.onPageBeforRemove,n,t.HowToUseShareRouter);r.model.dispatchEvent(a),o.pageModel.dispatchEvent(a)},pageTabShow:function(e,n){var a=new i.PageEvent(i.PageEvent.EventTypes.onPageTabShow,n,t.HowToUseShareRouter);r.model.dispatchEvent(a),o.pageModel.dispatchEvent(a)},pageTabHide:function(e,n){var a=new i.PageEvent(i.PageEvent.EventTypes.onPageTabHide,n,t.HowToUseShareRouter);r.model.dispatchEvent(a),o.pageModel.dispatchEvent(a)}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GoodsRedEnvelopeJumpRouter=void 0;var o=n(25),a=n(147),r=n(152),i=n(38),s=o.PageModel.pageNames.GoodsRedEnvelopeJump;t.GoodsRedEnvelopeJumpRouter={path:"/"+s,name:s,mainTab:o.PageModel.mainViewTabs.discount,component:a.GoodsRedEnvelopeJumpPage,canOpenDirect:!0,title:function(){},on:{pageInit:function(e,n){var a=new i.PageEvent(i.PageEvent.EventTypes.onPageInit,n,t.GoodsRedEnvelopeJumpRouter);r.model.dispatchEvent(a),o.pageModel.dispatchEvent(a)},pageReinit:function(e,n){var a=new i.PageEvent(i.PageEvent.EventTypes.onPageReinit,n,t.GoodsRedEnvelopeJumpRouter);r.model.dispatchEvent(a),o.pageModel.dispatchEvent(a)},pageBeforeIn:function(e,n){var s=decodeURIComponent(n.route.query.t);a.getPage().setParams(s);var c=new i.PageEvent(i.PageEvent.EventTypes.onPageBeforeIn,n,t.GoodsRedEnvelopeJumpRouter);r.model.dispatchEvent(c),o.pageModel.dispatchEvent(c)},pageMounted:function(e,n){var a=new i.PageEvent(i.PageEvent.EventTypes.onPageMounted,n,t.GoodsRedEnvelopeJumpRouter);r.model.dispatchEvent(a),o.pageModel.dispatchEvent(a)},pageAfterIn:function(e,n){var a=new i.PageEvent(i.PageEvent.EventTypes.onPageAfterIn,n,t.GoodsRedEnvelopeJumpRouter);r.model.dispatchEvent(a),o.pageModel.dispatchEvent(a)},pageBeforeOut:function(e,n){var a=new i.PageEvent(i.PageEvent.EventTypes.onPageBeforOut,n,t.GoodsRedEnvelopeJumpRouter);r.model.dispatchEvent(a),o.pageModel.dispatchEvent(a)},pageAfterOut:function(e,n){var a=new i.PageEvent(i.PageEvent.EventTypes.onPageAfterOut,n,t.GoodsRedEnvelopeJumpRouter);r.model.dispatchEvent(a),o.pageModel.dispatchEvent(a)},onPageBeforeUnmount:function(e,n){var a=new i.PageEvent(i.PageEvent.EventTypes.onPageBeforUnmount,n,t.GoodsRedEnvelopeJumpRouter);r.model.dispatchEvent(a),o.pageModel.dispatchEvent(a)},pageBeforeRemove:function(e,n){var a=new i.PageEvent(i.PageEvent.EventTypes.onPageBeforRemove,n,t.GoodsRedEnvelopeJumpRouter);r.model.dispatchEvent(a),o.pageModel.dispatchEvent(a)},pageTabShow:function(e,n){var a=new i.PageEvent(i.PageEvent.EventTypes.onPageTabShow,n,t.GoodsRedEnvelopeJumpRouter);r.model.dispatchEvent(a),o.pageModel.dispatchEvent(a)},pageTabHide:function(e,n){var a=new i.PageEvent(i.PageEvent.EventTypes.onPageTabHide,n,t.GoodsRedEnvelopeJumpRouter);r.model.dispatchEvent(a),o.pageModel.dispatchEvent(a)}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.expressPackageRouter=void 0;var o=n(25),a=n(176),r=n(34),i=n(38);t.expressPackageRouter={path:"/"+o.PageModel.pageNames.expressPackage,name:o.PageModel.pageNames.expressPackage,mainTab:o.PageModel.mainViewTabs.discount,canOpenDirect:!0,component:a.ExpressPackages,on:{pageInit:function(e,n){var a=new i.PageEvent(i.PageEvent.EventTypes.onPageInit,n,t.expressPackageRouter);o.pageModel.dispatchEvent(a)},pageReinit:function(e,n){var a=new i.PageEvent(i.PageEvent.EventTypes.onPageReinit,n,t.expressPackageRouter);o.pageModel.dispatchEvent(a)},pageBeforeIn:function(e,n){document.title=r.titlePrefix+"-"+r.title+"-\u6211\u7684\u5305\u88f9";var a=new i.PageEvent(i.PageEvent.EventTypes.onPageBeforeIn,n,t.expressPackageRouter);o.pageModel.dispatchEvent(a)},pageMounted:function(e,n){var a=new i.PageEvent(i.PageEvent.EventTypes.onPageMounted,n,t.expressPackageRouter);o.pageModel.dispatchEvent(a)},pageAfterIn:function(e,n){var a=new i.PageEvent(i.PageEvent.EventTypes.onPageAfterIn,n,t.expressPackageRouter);o.pageModel.dispatchEvent(a)},pageBeforeOut:function(e,n){var a=new i.PageEvent(i.PageEvent.EventTypes.onPageBeforOut,n,t.expressPackageRouter);o.pageModel.dispatchEvent(a)},pageAfterOut:function(e,n){var a=new i.PageEvent(i.PageEvent.EventTypes.onPageAfterOut,n,t.expressPackageRouter);o.pageModel.dispatchEvent(a)},onPageBeforeUnmount:function(e,n){var a=new i.PageEvent(i.PageEvent.EventTypes.onPageBeforUnmount,n,t.expressPackageRouter);o.pageModel.dispatchEvent(a)},pageBeforeRemove:function(e,n){var a=new i.PageEvent(i.PageEvent.EventTypes.onPageBeforRemove,n,t.expressPackageRouter);o.pageModel.dispatchEvent(a)},pageTabShow:function(e,n){var a=new i.PageEvent(i.PageEvent.EventTypes.onPageTabShow,n,t.expressPackageRouter);o.pageModel.dispatchEvent(a)},pageTabHide:function(e,n){var a=new i.PageEvent(i.PageEvent.EventTypes.onPageTabHide,n,t.expressPackageRouter);o.pageModel.dispatchEvent(a)}}}},,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TabIds=void 0,function(e){e.Package="tabPackage",e.Discount="tabDiscount",e.Mine="tabMine",e.Admin="admin"}(t.TabIds||(t.TabIds={}))},function(e,t,n){"use strict";n.r(t),n.d(t,"jdDdxGetGoodsDetail",(function(){return v}));var o=n(18),a=n(10),r=n(44),i=n(12),s=n(124),c=n(48);const{goodsModel:d,GoodsModel:l}=n(16),u=n(22);let p="//api.tbk.dingdanxia.com/jd/by_unionid_promotion";const f=new r.DdxRequest(p,null,(function(e){if(!e||!e.data)return Object(a.showSimpleToast)("\u6ca1\u6709\u83b7\u53d6\u5230jd\u94fe\u63a5");let t={app_id:"wx91d27dbf599dff74",page_path:"pages/union/proxy/proxy?spreadUrl="+e.data.shortURL};m.we_app_info=t,u.assign(m,e.data),d.parseJdGoods(m),g.setJdGoods({goods:m}),d.dispatchEvent(new o.Event2(l.events.onPddWeAppInfoLoaded,m))}),(function(e){console.log("jd ddx goods detail tag","onFail is",e),g.setJdGoodsFailed({debugInfo:JSON.stringify(e)}),Object(a.showSimpleToast)('jd "\u4eac\u4e1c\u5546\u54c1\u8be6\u60c5\u8fd4\u56de\u9519\u8bef"}')}),(function(e){}));let m,g;function v(e,t){m=e,g=t;let n=i.userModel.user.id||"00000000";n=function(e,t,n){for(;n.length<t;)n=e+n;return n}("0",8,n);let o=Object(c.getECommerceChannelJd)()+"020"+Object(s.getPositionIdByGoods)(e);o=Number(o).toString(),Object(a.showSimpleToast)("jd pid "+o);let r={positionId:o,unionId:2016490606,materialId:e.materialUrl,autoSearch:!0};e.giftCouponKey&&(r.giftCouponKey=e.giftCouponKey),console.log("jd params is222",e.materialUrl,r),e.bestCoupon,f.send(p,r)}},function(e,t,n){"use strict";n.r(t),n.d(t,"PddMember",(function(){return s}));var o=n(8),a=n(21),r=n(24),i=n(4),s=(n(15),function(){function e(t,n,a,r,s){var c=this;Object(o.a)(this,e),this.trackingUuid="",this._onError=function(e){c.onFail&&c.onFail(e)},this._onSuccess=function(e){var t=e.res;if(!t||t.error_response)return c.onFail&&c.onFail(t),i.a.toast.create({closeTimeout:3e3,text:"\u62fc\u591a\u591a\u6ca1\u6709\u8fd4\u56de\u6570\u636e",destroyOnClose:!0}).open();c.onSuccess&&c.onSuccess(t.data)},this._onComplete=function(e){c.isConnecting=!1,c.onComplete&&c.onComplete()},this.endpoint=t,this.body=n||{},this.onSuccess=a,this.onError=r,this.onComplete=s,this.retryCount=0}return Object(a.a)(e,[{key:"send",value:function(){var t=e.gateway,n=this.member=new r.CrossMember;n.addEventListener(r.CrossEvent.EventTypes.onError,this._onError),n.addEventListener(r.CrossEvent.EventTypes.onSuccess,this._onSuccess),n.addEventListener(r.CrossEvent.EventTypes.onComplete,this._onComplete),n.load(r.CrossMember.Methods.post,t,this.body,{"content-type":"application/json"},(function(e){e.withCredentials=!0}))}}]),e}());s.gateway="https://gw-api.pinduoduo.com/api/router",t.default=s},function(e,t){e.exports={endpoints:{goodsRecommendGet:function(){return"pdd.ddk.goods.recommend.get"},goodsSearch:function(){return"pdd.ddk.goods.search"},goodsGetGoodsDetail:function(){return"pdd.ddk.goods.detail"}}}},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.GoodsListItemMeasure=void 0;var a=n(29),r=n(14),i=n(111),s=n(18),c=n(22),d=function(e){function t(n){var o=e.call(this,n)||this;return o._measured=!1,o._setTestGoodsItemRef=function(e){e&&(o._measured||c.isNaN(e.width)||c.isNaN(e.height)||(o._dispatcher.dispatchEvent(new s.Event2(t.GoodsListItemSizeMeasured,{width:e.width,height:e.height})),o._measured=!0,o.setState({show:!1})))},o.render=function(){return React.createElement(React.Fragment,null,o.state.show&&React.createElement(r.List,{style:{margin:"0px"}},React.createElement(i.GoodsListItem,{ref:o._setTestGoodsItemRef,id:"testGoodsItem",item:i.goodsListItemMockPddData})))},o._dispatcher=n.dispatcher,o.state={show:!n.measured},o}return o(t,e),t.GoodsListItemSizeMeasured="GoodsListItemSizeMeasured",t}(a.ComponentBase);t.GoodsListItemMeasure=d},function(e,t,n){"use strict";n.r(t),n.d(t,"DiscountPageContent",(function(){return _})),n.d(t,"DiscountPage",(function(){return E}));var o=n(21),a=n(8),r=n(27),i=n(26),s=n(0),c=n.n(s),d=n(4),l=n(106),u=n(70),p=n(133),f=n(71),m=n(46),g=n(29),v=(n(52),n(10)),h=n(55),_=function(e){Object(r.a)(n,e);var t=Object(i.a)(n);function n(e){var o;return Object(a.a)(this,n),(o=t.call(this,e))._addEvents=function(){},o._onSearchbarFocusIn=function(){document.activeElement.blur(),d.a.views.main.router.navigate({path:m.goodsSearchRouter.path})},o.render=function(){return c.a.createElement("div",{className:"navbar"},c.a.createElement("div",{className:"navbar-bg"}),c.a.createElement("div",{className:"navbar-inner sliding"},c.a.createElement("form",{className:"searchbar",style:{width:"100%"}},c.a.createElement("div",{className:"searchbar-inner"},c.a.createElement("div",{className:"searchbar-input-wrap"},c.a.createElement("input",{onFocus:o._onSearchbarFocusIn,type:"search",placeholder:"\u5546\u54c1\u94fe\u63a5\u3001\u6807\u9898\u6216\u5173\u952e\u5b57"}),c.a.createElement("i",{className:"searchbar-icon"}),c.a.createElement("span",{className:"input-clear-button"})),c.a.createElement("span",{className:"searchbar-disable-button"},"Cancel")))))},o.state={},o._addEvents(),o}return Object(o.a)(n)}(c.a.Component),b=0,E=function(e){Object(r.a)(n,e);var t=Object(i.a)(n);function n(e){var o;return Object(a.a)(this,n),(o=t.call(this,e))._loadMore=function(){console.log("load more")},o._onEmpty=function(e){console.log("eeeeeeeeeeee",e)},o._onCopyWeixinClick=function(){Object(v.showSimpleToast)("\u5fae\u4fe1\u53f7\u5df2\u590d\u5236\uff0c\u5feb\u53bb\u52a0\u597d\u53cb\u9886\u6492\u5e01\u91d1\u5427\uff01\uff01\uff01")},o.render=function(){var e="weixinCopyBtn"+ ++b;return setTimeout((function(){new h(".".concat(e))})),c.a.createElement(l.a,{pageContent:!1},c.a.createElement(_,null),c.a.createElement(u.a,{className:""},c.a.createElement("div",{className:"block"},c.a.createElement("div",null,"\u6211\u4eec\u63d0\u4f9b\u7535\u5546\u5e73\u53f0\u91cc\u627e\u4e0d\u5230\u7684\u9690\u85cf\u4f18\u60e0\u5238\u4ee5\u53ca\u5927\u591a\u6570\u5546\u54c1\u63d0\u4f9b\u73b0\u91d1\u8865\u8d34\u7684\u798f\u5229\u3002"),c.a.createElement("div",null,"\u6211\u4eec\u7684\u4f7f\u547d\u662f\uff1a\u60a8\u8d2d\u7269\uff0c\u6211\u6492\u5e01\uff01"),c.a.createElement("div",null,"\u60a8\u53ea\u9700\u628a\u7535\u5546\u5e73\u53f0\u8981\u8d2d\u4e70\u7684\u5546\u54c1\u94fe\u63a5\u3001\u6807\u9898\u590d\u5236\u4e0b\u6765\uff0c\u7c98\u8d34\u5230\u4e0a\u9762\u641c\u7d22\u6846\uff0c\u5c31\u80fd\u770b\u5230\u8fd9\u4e2a\u5546\u54c1\u6709\u6ca1\u6709\u4f18\u60e0\u548c\u6211\u4eec\u7ed9\u60a8\u7684\u8865\u8d34\u3002"),c.a.createElement("div",null,"\u6216\u8005\u60a8\u4e5f\u53ef\u4ee5\u7528\u5173\u952e\u5b57\u76f4\u63a5\u641c\u7d22\u3002"),c.a.createElement("hr",null),c.a.createElement("div",null,"\u8865\u8d34\u5206\u4e24\u90e8\u5206\uff1a"),c.a.createElement("ul",null,c.a.createElement("li",null,"\u7b2c\u4e00\u90e8\u5206\uff0c\u4eac\u4e1c\u7684\u5546\u54c1\u8d2d\u4e70\u524d\u53ef\u4ee5\u5728\u8fd9\u91cc\u5148\u9886\u53d6\u8865\u8d34\u91d1\uff0c\u5728\u8d2d\u4e70\u65f6\u76f4\u63a5\u5f53\u73b0\u91d1\u4f7f\u7528\u3002\u5176\u5b83\u5e73\u53f0\u6b63\u5728\u9646\u7eed\u6dfb\u52a0\u4e2d\u3002"),c.a.createElement("li",null,"\u7b2c\u4e8c\u90e8\u5206\uff0c\u5728\u60a8\u8d2d\u4e70\u7684\u5546\u54c1\u6536\u8d27\u540e\uff0c\u4e14\u8fc7\u4e86\u9000\u6362\u8d27\u671f\uff0c\u5404\u7535\u5546\u5e73\u53f0\u572820\u53f7-\u6708\u5e95\u671f\u95f4\u4f1a\u8ddf\u6211\u4eec\u7ed3\u7b97\uff0c\u7ed3\u7b97\u540e\uff0c\u6211\u4eec\u4f1a\u5728\u5fae\u4fe1\u3001QQ\u7fa4\u91cc\u7ed9\u60a8\u53d1\u653e\u5b9a\u5411\u7ea2\u5305\uff0c\u8bf7\u6ce8\u610f\u67e5\u6536\u5965~~~")),c.a.createElement("hr",null),c.a.createElement("div",null,"\u5c0f\u63d0\u793a\uff1a"),c.a.createElement("ul",null,c.a.createElement("li",null,"\u60a8\u6709\u5927\u4ef6\u6216\u8005\u4e0d\u6025\u7740\u4e70\u7684\u5546\u54c1\u53ef\u4ee5\u8ba9\u7fa4\u91cc\u7684\u8c0d\u62a5\u5458\u5e2e\u60a8\u89c2\u5bdf\uff0c\u9047\u5230\u6253\u6298\u65f6\u6211\u4eec\u4f1a\u53ca\u65e9\u901a\u77e5\u60a8\u3002\u8b6c\u5982\u4eac\u4e1c\u6bcf\u5929\u90fd\u4f1a\u6709\u591a\u79cd\u5546\u54c1\u662f\u65e5\u5e38\u4ef75\u6298\u751a\u81f33\u6298\u4ee5\u4e0b\uff0c\u6dd8\u5b9d\u548c\u62fc\u591a\u591a\u4e5f\u6709\u767e\u4ebf\u8865\u8d34\u7684\u60ca\u559c\u4ef7\u3002\u8fd9\u6837\u53ef\u4ee5\u8ba9\u60a8\u907f\u514d\u4e70\u4e86\u5403\u4e8f\u7684\u4ef7\u683c\u3002"),c.a.createElement("li",null,"\u51e0\u5927\u5e73\u53f0\u91cc\u7ea2\u5305\u5e45\u5ea6\u6700\u5927\u7684\u662f\u552f\u54c1\u4f1a\uff0c\u5176\u6b21\u662f\u4eac\u4e1c\u3002"),c.a.createElement("li",null,"\u7206\u6b3e\u4ef7\u548c\u96f6\u5143\u8d2d\u548c\u798f\u5229\u8d2d\u6700\u591a\u7684\u662f\u4eac\u4e1c\u3002")),c.a.createElement("hr",null),c.a.createElement(p.a,null,c.a.createElement("div",null,"\u9886\u7ea2\u5305\u5fae\u4fe1\u53f7\uff1abaobeidaola"),c.a.createElement("div",null,c.a.createElement(f.a,{className:e,onClick:o._onCopyWeixinClick,"data-clipboard-text":"baobeidaola"},"\u590d\u5236"))))))},o}return Object(o.a)(n)}(g.ComponentBase)},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.GoodsSearchPage=void 0;var a,r=n(0),i=n(14),s=n(29),c=n(138),d=n(155),l=n(76),u=n(51),p=n(156),f=n(16),m=function(e){function t(t){var n=e.call(this,t)||this;return n._eventsAdded=!1,n._isSingle=!1,n._isTabs=!1,n._laterInit=function(){setTimeout((function(){a===n&&(u.model.searchType=u.Model.SearchType.None)}),300)},n._addEvents=function(){n._eventsAdded||(n.dispatcher.addEventListener(s.ComponentBase.eventIsMountedChanged,n._onIsMountChanged),u.model.addEventListener(u.Model.eventSearchTypeChanged,n._onSearchTypeChanged),n._eventsAdded=!0)},n._removeEvents=function(){n._removeGoodsModelEvents(),n.dispatcher.addEventListener(s.ComponentBase.eventIsMountedChanged,n._onIsMountChanged),u.model.addEventListener(u.Model.eventSearchTypeChanged,n._onSearchTypeChanged),n._eventsAdded=!1},n._onIsMountChanged=function(e){!0===e.newValue?(n._addEvents(),n._setShowState(u.model.searchType)):n._removeEvents()},n._onSearchTypeChanged=function(e){n._setShowState(e.newValue)},n._setShowState=function(e){if(n.isMounted){var t=!1,o=!1;switch(n._isSingle=!1,n._isTabs=!1,e){case u.Model.SearchType.Key:n._isTabs=!0,o=!0;break;case u.Model.SearchType.Url:n._isSingle=!0,o=!0;break;case u.Model.SearchType.None:t=!0}o&&f.goodsModel.addDomainEventListener(n,f.GoodsModel.events.goodsSearchBack,n._goodsSearchBack),n.setState({showTabs:!1,showSingle:!1,showHistoryFavor:t,showSearching:o})}},n._goodsSearchBack=function(e){n._removeGoodsModelEvents();var t=n._isTabs,o=n._isSingle;n.setState({showTabs:t,showSingle:o,showSearching:!1})},n._removeGoodsModelEvents=function(){f.goodsModel.removeDomain(n)},n._searchingRender=function(){return n.state.showSearching?r.createElement(r.Fragment,null,r.createElement("h3",{style:{textAlign:"center"}},"\u6b63\u5728\u641c\u7d22\u5546\u54c1")):r.createElement(r.Fragment,null)},n.render=function(){return r.createElement(i.Page,{pageContent:!1,className:"no-toolbar"},r.createElement(p.GoodsSearchBar,null),n.state.showTabs&&r.createElement(c.PlatformSubtabs,null),r.createElement(i.PageContent,null,r.createElement(l.GoodsListItemMeasure,{dispatcher:u.model,measured:u.model.goodsItemHeight>0}),n.state.showSingle&&r.createElement(d.SinglePlatformSearch,{key:"1"}),n.state.showTabs&&r.createElement(c.PlatformTabs,null),n.state.showHistoryFavor&&r.createElement("div",null,"\u60a8\u53ef\u4ee5\u7528\u5173\u952e\u5b57\u3001\u5546\u54c1\u94fe\u63a5\u3001\u6dd8\u53e3\u4ee4\u8fdb\u884c\u641c\u7d22\u5594"),n._searchingRender()))},a=n,n.state={showTabs:!1,showSingle:!1,showHistoryFavor:!0,showSearching:!1},n._addEvents(),n._laterInit(),n}return o(t,e),t}(s.ComponentBase);t.GoodsSearchPage=m},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return E}));var o=n(8),a=n(21),r=n(27),i=n(26),s=n(0),c=n.n(s),d=n(4),l=n(71),u=n(47),p=n(1),f=n(17),m=n(15),g=n(13),v=n(18),h=n(12),_=n(34),b=n(10),E=function(e){Object(r.a)(n,e);var t=Object(i.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e))._addEvents=function(){},a._onMobileChange=function(e){var t=e.target.value;a.state.mobile=t,a.setState({mobile:t,isLegalMobile:!1}),t&&(t.length<11||(Object(u.isMobile)(t)?a.setState({isLegalMobile:!0}):d.a.dialog.alert("\u4e0d\u6b63\u786e\u7684\u624b\u673a\u53f7\uff0c\u8bf7\u91cd\u65b0\u586b\u5199\u3002",(function(){Object(p.a)("#mobile").focus()}))))},a._onCodeChange=function(e){var t=e.target.value;a.setState({code:t})},a._onFetchCodeClick=function(){a.state.isLegalMobile&&a._fetchCode()},a._onLoginClick=function(){if(!a.loginMember){var e=a.loginMember=new f.default(m.default.TVisitor,m.default.MVisitorLoginByCode,{code:a.state.code,account_type:"web",mobile:a.state.mobile},(function(e){h.userModel.dispatchEvent(new v.Event2(h.UserModel.events.fetchLogin))}),(function(e){console.log("tms.TVisitor, tms.MVisitorLoginByCode net error is",e.netError,e.netErrorInfo)}),(function(e){console.log("tms.TVisitor, tms.MVisitorLoginByCode data error is",e.dataError,e.dataErrorInfo)}),(function(e){a.loginMember=null}),null,!0,!0);g.mainModel.dispatchEvent(new v.Event2(g.MainModel.events.addWaitingMember,e.send))}},a.render=function(){return c.a.createElement("div",null,c.a.createElement("form",{className:"list",id:"my-form"},c.a.createElement("ul",null,c.a.createElement("li",null,c.a.createElement("div",{className:"item-content item-input"},c.a.createElement("div",{className:"item-inner"},c.a.createElement("div",{className:"item-title item-label"},"\u624b\u673a\u53f7\u7801"),c.a.createElement("div",{className:"item-input-wrap"},c.a.createElement("input",{id:"mobile",maxLength:11,onChange:a._onMobileChange,value:a.state.mobile,type:"number",name:"mobile",placeholder:"\u8bf7\u8f93\u5165\u60a8\u7684\u624b\u673a\u53f7\u7801"}))))),c.a.createElement("li",null,c.a.createElement("div",{className:"item-content item-input"},c.a.createElement("div",{className:"item-inner col"},c.a.createElement("div",{className:"item-title item-label "},"\u9a8c\u8bc1\u7801"),c.a.createElement("div",{className:"item-input-wrap "},c.a.createElement("input",{onChange:a._onCodeChange,maxLength:6,type:"number",disabled:a.state.isLegalMobile?"":"disabled",name:"code",placeholder:"\u8bf7\u8f93\u5165\u624b\u673a\u63a5\u6536\u5230\u7684\u9a8c\u8bc1\u7801"}))),c.a.createElement("div",{className:"item-media"},c.a.createElement(l.a,{className:a.state.isLegalMobile?"":"color-gray",onClick:a._onFetchCodeClick},"\u83b7\u53d6")))),c.a.createElement("li",null,c.a.createElement("div",{className:"item-content item-input"},c.a.createElement("div",{className:"item-media"},c.a.createElement(l.a,{className:a.state.isLegalMobile?"":"color-gray",onClick:a._onLoginClick},"\u767b\u5f55")))))))},a.codeMember=null,a.loginMember=null,a.state={mobile:_.isDev?"1312112956":"",isLegalMobile:!1,isFetchingCode:!1,code:""},a._addEvents(),a}return Object(a.a)(n,[{key:"_fetchCode",value:function(){var e=this;if(this.state.isLegalMobile){if(!this.codeMember){var t=this.codeMember=new f.default(m.default.TVisitor,m.default.MVisitorVerificationCode,{mobile:this.state.mobile},(function(e){console.log("tms.TVisitor, tms.MVisitorVerificationCode res is",e),Object(b.showSimpleToast)("\u9a8c\u8bc1\u7801\u5df2\u53d1\u9001\uff0c\u8bf7\u6ce8\u610f\u63a5\u6536\u3002")}),(function(e){console.log("tms.TVisitor, tms.MVisitorVerificationCode net error is",e.netError,e.netErrorInfo)}),(function(e){console.log("tms.TVisitor, tms.MVisitorVerificationCode data error is",e.dataError,e.dataErrorInfo)}),(function(t){e.codeMember=null}),null,!0,!0);g.mainModel.dispatchEvent(new v.Event2(g.MainModel.events.addWaitingMember,t.send)),this.setState({isFetchingCode:!0})}}else d.a.dialog.alert("\u4e0d\u6b63\u786e\u7684\u624b\u673a\u53f7\uff0c\u8bf7\u91cd\u65b0\u586b\u5199\u3002",(function(){Object(p.a)("#mobile").focus()}))}}]),n}(c.a.Component)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OrdersJdRouter=void 0;var o=n(25),a=n(169),r=n(120),i=n(38),s=o.PageModel.pageNames.OrdersJd;t.OrdersJdRouter={canOpenDirect:!0,path:"/"+s,name:s,mainTab:o.PageModel.mainViewTabs.discount,component:a.OrdersJdPage,title:function(){},on:{pageInit:function(e,t){r.model.dispatchEvent(new i.PageEvent(i.PageEvent.EventTypes.onPageInit,t))},pageReinit:function(e,t){r.model.dispatchEvent(new i.PageEvent(i.PageEvent.EventTypes.onPageReinit,t))},pageBeforeIn:function(e,t){r.model.dispatchEvent(new i.PageEvent(i.PageEvent.EventTypes.onPageBeforeIn,t))},pageMounted:function(e,t){r.model.dispatchEvent(new i.PageEvent(i.PageEvent.EventTypes.onPageMounted,t))},pageAfterIn:function(e,t){r.model.dispatchEvent(new i.PageEvent(i.PageEvent.EventTypes.onPageAfterIn,t))},pageBeforeOut:function(e,t){r.model.dispatchEvent(new i.PageEvent(i.PageEvent.EventTypes.onPageBeforOut,t))},pageAfterOut:function(e,t){r.model.dispatchEvent(new i.PageEvent(i.PageEvent.EventTypes.onPageAfterOut,t))},onPageBeforeUnmount:function(e,t){r.model.dispatchEvent(new i.PageEvent(i.PageEvent.EventTypes.onPageBeforUnmount,t))},pageBeforeRemove:function(e,t){r.model.dispatchEvent(new i.PageEvent(i.PageEvent.EventTypes.onPageBeforRemove,t))},pageTabShow:function(e,t){r.model.dispatchEvent(new i.PageEvent(i.PageEvent.EventTypes.onPageTabShow,t))},pageTabHide:function(e,t){r.model.dispatchEvent(new i.PageEvent(i.PageEvent.EventTypes.onPageTabHide,t))}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AdminRouter=void 0;var o=n(25),a=n(171),r=n(175),i=n(38),s=o.PageModel.pageNames.Admin;t.AdminRouter={canOpenDirect:!0,path:"/"+s,name:s,mainTab:o.PageModel.mainViewTabs.admin,component:a.AdminPage,title:function(){},on:{pageInit:function(e,t){r.model.dispatchEvent(new i.PageEvent(i.PageEvent.EventTypes.onPageInit,t))},pageReinit:function(e,t){r.model.dispatchEvent(new i.PageEvent(i.PageEvent.EventTypes.onPageReinit,t))},pageBeforeIn:function(e,t){if(t.route.query&&t.route.query.d){var n=decodeURIComponent(t.route.query.d),o=JSON.parse(n);a.getPage().setParams(o)}r.model.dispatchEvent(new i.PageEvent(i.PageEvent.EventTypes.onPageBeforeIn,t))},pageMounted:function(e,t){r.model.dispatchEvent(new i.PageEvent(i.PageEvent.EventTypes.onPageMounted,t))},pageAfterIn:function(e,t){r.model.dispatchEvent(new i.PageEvent(i.PageEvent.EventTypes.onPageAfterIn,t))},pageBeforeOut:function(e,t){r.model.dispatchEvent(new i.PageEvent(i.PageEvent.EventTypes.onPageBeforOut,t))},pageAfterOut:function(e,t){r.model.dispatchEvent(new i.PageEvent(i.PageEvent.EventTypes.onPageAfterOut,t))},onPageBeforeUnmount:function(e,t){r.model.dispatchEvent(new i.PageEvent(i.PageEvent.EventTypes.onPageBeforUnmount,t))},pageBeforeRemove:function(e,t){r.model.dispatchEvent(new i.PageEvent(i.PageEvent.EventTypes.onPageBeforRemove,t))},pageTabShow:function(e,t){r.model.dispatchEvent(new i.PageEvent(i.PageEvent.EventTypes.onPageTabShow,t))},pageTabHide:function(e,t){r.model.dispatchEvent(new i.PageEvent(i.PageEvent.EventTypes.onPageTabHide,t))}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SberManageRouter=void 0;var o=n(25),a=n(172),r=n(174),i=n(38),s=o.PageModel.pageNames.SberManage;t.SberManageRouter={canOpenDirect:!0,path:"/"+s,name:s,mainTab:o.PageModel.mainViewTabs.discount,component:a.SberManagePage,title:function(){},on:{pageInit:function(e,t){r.model.dispatchEvent(new i.PageEvent(i.PageEvent.EventTypes.onPageInit,t))},pageReinit:function(e,t){r.model.dispatchEvent(new i.PageEvent(i.PageEvent.EventTypes.onPageReinit,t))},pageBeforeIn:function(e,t){if(t.route.query&&t.route.query.d){var n=decodeURIComponent(t.route.query.d),o=JSON.parse(n);a.getPage().setParams(o)}r.model.dispatchEvent(new i.PageEvent(i.PageEvent.EventTypes.onPageBeforeIn,t))},pageMounted:function(e,t){r.model.dispatchEvent(new i.PageEvent(i.PageEvent.EventTypes.onPageMounted,t))},pageAfterIn:function(e,t){r.model.dispatchEvent(new i.PageEvent(i.PageEvent.EventTypes.onPageAfterIn,t))},pageBeforeOut:function(e,t){r.model.dispatchEvent(new i.PageEvent(i.PageEvent.EventTypes.onPageBeforOut,t))},pageAfterOut:function(e,t){r.model.dispatchEvent(new i.PageEvent(i.PageEvent.EventTypes.onPageAfterOut,t))},onPageBeforeUnmount:function(e,t){r.model.dispatchEvent(new i.PageEvent(i.PageEvent.EventTypes.onPageBeforUnmount,t))},pageBeforeRemove:function(e,t){r.model.dispatchEvent(new i.PageEvent(i.PageEvent.EventTypes.onPageBeforRemove,t))},pageTabShow:function(e,t){r.model.dispatchEvent(new i.PageEvent(i.PageEvent.EventTypes.onPageTabShow,t))},pageTabHide:function(e,t){r.model.dispatchEvent(new i.PageEvent(i.PageEvent.EventTypes.onPageTabHide,t))}}}},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.pageController=void 0;var o=n(25),a=n(14),r=n(129),i=n(12),s=n(36),c=n(13),d=n(72),l=n(178),u=(n(22),function(){var e=this;this._laterRefreshTabShowHideId=null,this.init=function(){e._addEvents(),e._initHistory()},this.start=function(){},this._addEvents=function(){o.pageModel.addEventListener(o.PageModel.routerCallBackEventName,e._onPageBack),o.pageModel.addEventListener(o.PageModel.events.mainViewMounted,e._onMainViewMounted),o.pageModel.addEventListener(o.PageModel.events.pageInit,e._onPageInit),o.pageModel.addEventListener(o.PageModel.events.f7Init,e._onF7Init),i.userModel.user.addEventListener(s.User.eventIsLoggedChanged,e._onUserLoggedChange)},this._onF7Init=function(t){e._addRouteInitEvent()},this._onUserLoggedChange=function(t){e._checkUserUrlParams()},this._checkUserUrlParams=function(){e._addUserUrlParams()},this._addRouteInitEvent=function(){var t=e;a.f7.view.main.router.once("routeChange",(function(){t._checkUserUrlParams()}))},this._addUserUrlParams=function(){var e=a.f7.view.main.router.currentRoute;if(e&&e.name&&c.mainModel.getSharerCode()){e.query=e.query||{},e.query.s=c.mainModel.getSharerCode();var t=a.f7.view.main.router.generateUrl({name:e.name,query:e.query,params:e.params});a.f7.view.main.router.updateCurrentUrl(t)}},this._onPageInit=function(t){if(e._checkUserUrlParams(),e._checkUrlTab(),t&&t.data){var n=t.data.route;if(n){var o={params:n.params};l.onPageModalShow(n.name,n.url,o)}}},this._checkUrlTab=function(){switch(a.f7.view.main.router.currentRoute.path.slice(1)){case o.PageModel.pageNames.discount:o.pageModel.selectedTabId=d.TabIds.Discount;break;case o.PageModel.pageNames.mine:o.pageModel.selectedTabId=d.TabIds.Mine;break;case o.PageModel.pageNames.expressPackage:case"/":o.pageModel.selectedTabId=d.TabIds.Package}},this._onMainViewMounted=function(){e._checkGotoPage()},this._checkGotoPage=function(){if(!o.PageModel.debugPage){var e=a.f7.views.main.router.initialUrl;if(e&&(e=e.split("?")[0]),e!==a.f7.views.main.router.url){var t=r.routeMap[e];t&&t.mainTab!==o.pageModel.selectedTabId&&(o.pageModel.selectedTabId=t.mainTab)}}},this._onPageBack=function(e){a.f7.view.main.router.back()},this._initHistory=function(){!function(e){var t=e.pushState;e.pushState=function(n){return"function"==typeof e.onpushstate&&e.onpushstate({state:n}),t.apply(e,arguments)}}(window.history)},this._laterRefreshTabShowHide=function(){null!=e._laterRefreshTabShowHideId&&clearTimeout(e._laterRefreshTabShowHideId),e._laterRefreshTabShowHideId=setTimeout((function(){return e._refreshTabShowHide()}),100)},this._refreshTabShowHide=function(){switch(e._laterRefreshTabShowHideId=null,a.f7.views.main.router.url){case o.PageModel.mainViewTabs.package.path:case o.PageModel.mainViewTabs.discount.path:case o.PageModel.mainViewTabs.mine.path:case"/expressPackage":a.f7.toolbar.show(".toolbar-bottom");break;default:a.f7.toolbar.hide(".toolbar-bottom")}},this._onWebisteOpen=function(){console.log("window location href is ",window.location.href)}}),p=new u;t.pageController=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.autoDebugController=void 0;var o=n(25),a=n(72),r=n(14),i=n(46),s=n(53),c=n(34),d=n(54),l=n(65),u=n(64),p=new function(){var e=this;this.init=function(){},this.start=function(){o.PageModel.debugPage&&setTimeout((function(){c.isProd||e._test()}),1e3)},this._test=function(){e._testDiscountTabPage()},this._testMineTabPage=function(){o.pageModel.selectedTabId=a.TabIds.Mine,setTimeout((function(){r.f7.view.main.router.navigate(d.TbOrderClaimRouter.path)}),1e3)},this._testDiscountTabPage=function(){o.pageModel.selectedTabId=a.TabIds.Discount,setTimeout((function(){r.f7.view.main.router.navigate(i.goodsSearchRouter.path)}),1e3)},this._testRoutePage=function(){},this._testRouteTab=function(){},this._testHowToUseShare=function(){r.f7.view.main.router.navigate(u.HowToUseShareRouter.path)},this._testRedEnvelopeJump=function(){r.f7.view.main.router.navigate({path:l.GoodsRedEnvelopeJumpRouter.path,query:{t:0x16c0d1e034ff0100}})},this._testSharePage=function(){var e;e={platform:"jd",title:"\u3010\u7fe0\u67ab\u9601\u7cbe\u54c1\u3011E\u4e0d\u9508\u94a2\u52fa\u5b50\u5bb6\u7528\u7f51\u7ea2\u5706\u52fa\u7cbe\u54c1\u52fa\u521b\u610fins\u97e9\u5f0f\u5c0f\u52fa\u53ef\u7231\u5973\u795e\u52fa 4\u53ea\u53ee\u5f53\u732b\u3010\u91d1\u5934\u3011\u989c\u8272\u968f\u673a",img:"https://img14.360buyimg.com/pop/jfs/t1/168711/31/26232/131396/61a977aeEd3bdc3f4/1d48eaeca5bf44e3.jpg",discount:0,storeDiscount:"14",url:"https://u.jd.com/vKz3f5n",app:"",pin:"https://wq.jd.com/pingou_api/GetAutoTuan?sku_id=10041543971276&from=cps",print:10.9,rate:109},r.f7.view.main.router.navigate({path:s.goodsShareRouter.path,query:{d:encodeURIComponent(JSON.stringify(e))}})}};t.autoDebugController=p},function(e,t,n){"use strict";n.d(t,"a",(function(){return _e}));var o=n(50),a=n(8),r=n(21),i=n(42),s=n.n(i),c=n(12),d=n(13),l=n(15),u=n(17),p=n(18),f=function(){function e(){var t=this;Object(a.a)(this,e),this.init=function(){t._addEvents(),c.userModel.init(),t._runLogin()},this.start=function(){},this._addEvents=function(){c.userModel.addEventListener(c.UserModel.events.fetchLogin,t._onFetchLogin)},this._onFetchLogin=function(){t._runLogin()},this._runLogin=function(){if(!t._loginMember){c.userModel.userConnecting=!0;var e=d.mainModel.getSavedBrowserFinger(),n={};e&&(n.browser_finger=e);var o=t._loginMember=new u.default(l.default.TSession,l.default.MSessionLogin,n,(function(e){c.userModel.user.copyFromJson(e.user)}),(function(e){console.log("tms.TSession, tms.MSessionLogin net error is",e.netError,e.netErrorInfo)}),(function(e){console.log("tms.TSession, tms.MSessionLogin data error is",e.dataError,e.dataErrorInfo)}),(function(e){t._loginMember=null,c.userModel.userConnecting=!1,c.userModel.dispatchEvent(new p.Event2(c.UserModel.eventUserConnectComplete)),t._checkUpdateBrowserFinger()}),null,!0,!0);d.mainModel.dispatchEvent(new p.Event2(d.MainModel.events.addWaitingMember,o.send))}},this._loginMember=null}return Object(r.a)(e,[{key:"_checkUpdateBrowserFinger",value:function(){var e=Object(o.a)(s.a.mark((function e(){var t,n,o,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.mainModel.getBrowserFingerInfo();case 2:if(t=e.sent,n=t.now,o=t.old,n!==o){e.next=7;break}return e.abrupt("return");case 7:a=new u.default(l.default.TSession,l.default.MSessionSaveBrowserFinger,{old:o,now:n,platform:"web"},(function(e){c.userModel.dispatchEvent(new p.Event2(c.UserModel.eventUserBrowserFingerSaved))}),(function(e){console.log("TMs.TSession, TMs.MSessionSaveBrowserFinger net error is",e.netError,e.netErrorInfo)}),(function(e){console.log("TMs.TSession, TMs.MSessionSaveBrowserFinger data error is",e.dataError,e.dataErrorInfo)}),(function(e){}),null,!0,!0),d.mainModel.dispatchEvent(new p.Event2(d.MainModel.events.addWaitingMember,a.send));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),e}(),m=new f,g=n(37);var v=n(126),h=n(37),_=h.trackingModel,b=h.TrackingModel,E=new(Object(r.a)((function e(){var t=this;Object(a.a)(this,e),this.init=function(){t._addEvents(),Object(v.trackingBindUserInit)()},this.start=function(){new u.default(l.default.TTracking,l.default.MTrackingGetVisitOpenKey,{account_type:"web",path:window.location.href,app_version:n(121).version.toString(),device:window.navigator.userAgent},(function(e){g.trackingModel.trackingUuid=e.uuid}),(function(e){console.log("tms.TTracking, tms.MTrackingGetVisitOpenKey net error is",e.netError,e.netErrorInfo)}),(function(e){console.log("tms.TTracking, tms.MTrackingGetVisitOpenKey data error is",e.dataError,e.dataErrorInfo)}),(function(e){}),null,!0,!0).send()},this._addEvents=function(){_.addEventListener(b.events.eventTrackingUuidChanged,t._onTrackingUuidChanged)},this._onTrackingUuidChanged=function(e){}}))),y=n(34);console.log("version is ",n(121));var M={gateway:y.gateway};console.log("websiteConf is",M);var P=n(22),w=n.n(P);n(36),n(47);var T,C=n(4),R=n(84),S=n(85),O=n(16),k=n(10),I=n(17).Member,G=n(74).PddMember,j=n(15).TMs,x=n(75).endpoints,L=n(16).goodsModel,U=n(62),N=U.RecommendPageInfo,B=U.saveKeys,D=U.PageInfo,A={forRecommend:"forRecommend",forSearch:"forSeach"},F=new N;F.init(B.pdd,[5,6,1],-1,10);var J,V=new D,H={recommendRequestTypes:A};H.refreshGoodsList=function(){L.clearPddGoodsRecommend(),H.getPddRecommendSign()},function(){function e(e){if(e&&e.params){var t;console.log("rrrrrrrrrrrrr",e);try{t=JSON.parse(e.res_string)}catch(n){return Object(k.showSimpleToast)("pdd recommend get err",n.toString())}J(t)}}function t(e){}function n(e){}H.getPddRecommendSign=function(o,a){if(V=F.getNextPageInfo(),T=o,a=a||{},o===A.forRecommend)a.offset=V.index*V.limit;a.limit=V.limit,a.channel_type=V.channel,a.activity_tags=[10564,10584,24,4,7,10851,31],new I(j.TPddGoods,j.MPddGoodsRecommendGet,{from:"web",params:a||{}},e,t,n).send()}}(),function(){function e(e){if(e&&e.goods_basic_detail_response&&e.goods_basic_detail_response.list){var t=e.goods_basic_detail_response.list;if(t&&0!=t.length){e.goods_basic_detail_response.search_id;var n=[];e.goods_basic_detail_response.list.forEach((function(e){return n.push(e.goods_sign)})),L.offset+=e.goods_basic_detail_response.list.length,T==A.forRecommend&&(L.isFetchingGoods=!1,V.total=e.goods_basic_detail_response.total),L.setPddGoodsList(e.goods_basic_detail_response.list)}else L.recommendsTotallyFetched=!0}}function t(e){}function n(e){}J=e,function(o){new G(x.goodsRecommendGet(),o,e,t,n).send()}}();var z=n(16).goodsModel,q=n(44).DdxRequest,W=n(62),K=W.RecommendPageInfo,X=W.saveKeys,Q=W.PageInfo,Y="//api.tbk.dingdanxia.com/vip/goodsList",$=new K;$.init(X.vip,[1],0,10);var Z=new Q;var ee=new q(Y,null,(function(e){e.data&&z.setVipGoodsList(e.data)}),(function(e){console.log("vip ddx recommend tag","onFail is",e)}),(function(e){}));function te(){if(!ee.isConnecting){var e={page:(Z=$.getNextPageInfo()).index,pageSize:Z.limit,channelType:Z.channel};ee.send(Y,e)}}var ne=n(16).goodsModel,oe=n(17).Member,ae=n(45).TbMember,re=n(15).TMs,ie=n(62),se=ie.RecommendPageInfo,ce=ie.saveKeys,de=ie.PageInfo,le=new se;le.init(ce.tb,[31362,4093,27160,32366,34616,4094,13366,3786,27446,30443,28026,3756,4092],0,10);var ue,pe,fe=new de;ue=new oe(re.TTbGoods,re.MTbGoodsUptimusMaterial,{},(function(e){!e||e.params,pe.send(e.params)}),(function(e){console.log("taobao optimus material tm fail",e)}),(function(e){})),pe=new ae((function(e){ne.setTbGoodsList(e.tbk_dg_optimus_material_response.result_list.map_data)}),(function(e){console.log("taobao optimus material tb fail",e)}),(function(e){}));var me=H.getPddRecommendSign,ge=H.recommendRequestTypes,ve=new(Object(r.a)((function e(){var t=this;Object(a.a)(this,e),this.init=function(){O.goodsModel.init(),O.goodsModel.addEventListener(O.GoodsModel.events.fetchReadGoodsSignList,(function(){O.goodsModel.offset=0})),g.trackingModel.addEventListener(g.TrackingModel.events.eventTrackingUuidChanged,(function(e){t.startFetchGoods(),O.goodsModel.dispatchEvent(new p.Event2(O.GoodsModel.events.fetchReadGoodsSignList))})),O.goodsModel.addEventListener(O.GoodsModel.events.needMoreGoodsList,(function(e){t.fetchPddGoods()})),O.goodsModel.addEventListener(O.GoodsModel.events.pddGoodsListRefreshed,(function(e){e.data.newList.length>0||t.fetchPddGoods()}))},this.startFetchGoods=function(){},this.fetchPddGoods=function(){O.goodsModel.isFetchingGoods||O.goodsModel.recommendsTotallyFetched||(O.goodsModel.isFetchingGoods=!0,me(ge.forRecommend),te(),function(){var e={material_id:(fe=le.getNextPageInfo()).channel,page_size:fe.limit,page_no:fe.index};console.log("params is",e),ue.body={params:e},ue.send()}())}}))),he=function(){function e(){var t=this;Object(a.a)(this,e),this.start=function(){t._isLaunched||(t._isLaunched=!0,E.start(),R.pageController.start(),S.autoDebugController.start())},this._addEvents=function(){g.trackingModel.addEventListener(g.TrackingModel.events.eventTrackingUuidChanged,t._onTrackingUuidChanged),d.mainModel.addEventListener(d.MainModel.events.addWaitingMember,t._onAddWaitingMember),d.mainModel.addEventListener(d.MainModel.events.routerBack,t._onRouterBack),c.userModel.addEventListener(c.UserModel.eventUserBrowserFingerSaved,t._onBrowserFingerSavedToServer)},this._onBrowserFingerSavedToServer=function(e){d.mainModel.saveBrowderFinger()},this._onAddWaitingMember=function(e){!1!==w.a.isFunction(e.data)?(d.mainModel.waitingMembers.push(e.data),t._runWaitingMembers()):console.error("_onAddWaitingMember is not a function",e)},this._onTrackingUuidChanged=function(e){t._startAll(),t._runWaitingMembers()},this._startAll=function(){m.start()},this._onRouterBack=function(e){var t=e.data;console.log("ooo",t),C.a.view.main.router.back()},this._initHistory=function(){!function(e){var t=e.pushState;e.pushState=function(n){return"function"==typeof e.onpushstate&&e.onpushstate({state:n}),t.apply(e,arguments)}}(window.history)}}return Object(r.a)(e,[{key:"init",value:function(){var e=Object(o.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u.default.gateway=M.gateway,u.default.dispatcher=d.mainModel,this._addEvents(),R.pageController.init(),e.next=6,d.mainModel.init();case 6:m.init(),E.init(),ve.init(),S.autoDebugController.init(),this.start();case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_runWaitingMembers",value:function(){var e=this;g.trackingModel.trackingUuid&&(d.mainModel.waitingMembers.length<=0||(d.mainModel.waitingMembers.shift()(),setTimeout((function(){e._runWaitingMembers()}),50)))}}]),e}(),_e=new he},,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.GoodsList=void 0;var a=n(29),r=n(14),i=n(111),s=function(e){function t(t){var n=e.call(this,t)||this;return n.render=function(){return React.createElement(r.List,{medialList:!0,virtualList:!0,virtualListParams:{items:n.state.items,height:n.state.height}},React.createElement("ul",null,n.state.items.map((function(e,t){return React.createElement(i.GoodsListItem,{key:t,virtualListIndex:n.state.items.indexOf(e),item:e})}))))},n.state={items:t.items,height:t.height},n}return o(t,e),t}(a.ComponentBase);t.GoodsList=s},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.GoodsListItem=t.goodsListItemMockPddData=void 0;var a=n(29),r=n(14),i=n(16);n(139);var s,c=n(56),d=n(47),l=n(52);s={category_name:"\u624b\u673a",clt_cpn_end_time:1651507199,clt_cpn_min_amt:500,coupon_remain_quantity:82e3,clt_cpn_remain_quantity:46e3,promotion_rate:7,service_tags:[3,24],mall_id:984904,mall_name:"\u6cfd\u559c\u7533\u7136\u7533\u7136\u4e13\u5356\u5e97",mall_coupon_end_time:0,clt_cpn_batch_sn:"A0201VC-607985963097196360",lgst_txt:"\u9ad8",goods_name:"\u624b\u673a\u7535\u8111\u901a\u7528\u76f4\u64ad\u58f0\u5361\u53d8\u58f0\u5668\u8bbe\u5907\u5168\u5957\u88c5\u9ea6\u514b\u98ceK\u5531\u6b4c\u8bdd\u7b52\u4e3b\u64ad\u5feb\u624b\u5361\u53d8\u58f0\u5668",has_material:!1,clt_cpn_discount:500,goods_id:200354774,brand_name:"\u6cfd\u559c\u7533\u7136",predict_promotion_rate:9,goods_desc:"\u624b\u673a\u7535\u8111\u901a\u7528\u76f4\u64ad\u58f0\u5361\u53d8\u58f0\u5668\u8bbe\u5907\u5168\u5957\u88c5\u9ea6\u514b\u98ceK\u5531\u6b4c\u8bdd\u7b52\u4e3b\u64ad\u5feb\u624b",opt_name:"\u624b\u673a",share_rate:0,opt_ids:[1543,10696,10728,11368,3370,11370,3371,1547,12,10701,21330,245,21333,10487,9016,9017,9689,9018,3162,11386,21244,221,9693,1566],goods_image_url:"https://img.pddpic.com/mms-material-img/2021-06-16/001c2146-474a-43f2-8fee-202ab3ed3cea.jpeg",has_mall_coupon:!1,unified_tags:["5\u5143\u798f\u5229\u5238","\u9000\u8d27\u5305\u8fd0\u8d39","\u6781\u901f\u9000\u6b3e",null,"\u5916\u7f6e\u58f0\u5361\u7545\u9500\u699c\u7b2c2\u540d"],coupon_start_time:1635436800,min_group_price:8999,coupon_discount:500,coupon_end_time:1643212799,zs_duo_id:0,mall_coupon_remain_quantity:0,plan_type:1,clt_cpn_quantity:5e4,cat_ids:[5752,5824,19149],coupon_min_order_amount:500,category_id:1543,mall_coupon_discount_pct:0,activity_type:101,coupon_total_quantity:9e4,mall_coupon_min_order_amount:0,merchant_type:4,clt_cpn_start_time:1636041600,sales_tip:"10\u4e07+",only_scene_auth:!0,desc_txt:"\u9ad8",mall_coupon_id:0,goods_thumbnail_url:"https://t00img.yangkeduo.com/goods/images/2021-07-19/30170b2841fe30d97626c0a6a4ee2268.jpeg",opt_id:1543,search_id:"13508e85-44ca-4110-abed-af5085ff9ac7",activity_tags:[1e4,10924],has_coupon:!0,min_normal_price:15500,mall_coupon_start_time:0,serv_txt:"\u9ad8",mall_coupon_total_quantity:0,mall_coupon_max_discount_amount:0,mall_cps:1,goods_sign:"Y9v2omG_1UJKDypBwfDZsD0Js2X2K0L3_JQuzDjGp5v",goods_platform:"\u62fc\u591a\u591a",platform:"\u62fc\u591a\u591a",platform_abbr:"pdd",clt_cpn_discount2:"5.00",coupon_discount2:"5",min_group_price2:"84.99",promotion_rate2:29},t.goodsListItemMockPddData=s;var u=function(e){function t(t){var n=e.call(this,t)||this;return n._setRef=function(e){e&&(n._ref=e,n.width=c.Dom7(e).width(),n.height=c.Dom7(e).height())},n._onClick=function(){var e=n.state.item,t={platform_abbr:e.platform_abbr};switch(e.platform_abbr){case i.GoodsModel.platforms.jd.abbr:t.goods_sign=e.materialUrl;break;case i.GoodsModel.platforms.pdd.abbr:t.goods_sign=e.goods_sign;break;case i.GoodsModel.platforms.vip.abbr:t.goodsId=e.goodsId,t.goods_sign=e.destUrl||e.url||e.ulUrl;break;case i.GoodsModel.platforms.tb.abbr:t.goods_sign=e.item_id,"promotion_rate2"in e&&(t.rate=e.promotion_rate2),"coupon_share_url"in e&&(t.coupon_share=d.getQueryVariable("e",e.coupon_share_url)),"coupon_discount2"in e&&(t.coupon=e.coupon_discount2);var o=""+(e.click_url||e.url||e.item_url);t.url=o;break;default:return r.f7.toast.create({closeTimeout:3e3,text:"\u5546\u54c1\u5e73\u53f0\u7c7b\u578b ",destroyOnClose:!0}).open()}var a=encodeURIComponent(JSON.stringify(t));r.f7.views.main.router.navigate({path:l.goodsDetailPageRouter.path,query:{d:a}})},n.render=function(){var e=n.state.item,t=React.createElement(React.Fragment,null),o=React.createElement(React.Fragment,null),a=React.createElement(React.Fragment,null);return i.goodsModel.hasGoodsStoreDiscount(e)&&(t=React.createElement(React.Fragment,null,React.createElement("div",{className:"floatLeft"},i.goodsModel.readGoodsStoreDiscount(e)),React.createElement("div",{className:"floatLeft"},"\u5143\u5e97\u94fa\u5238")),o=React.createElement("div",{className:"floatLeft"},React.createElement("span",{className:""},"\xa0\xa0"))),i.goodsModel.hasGoodsDiscount(e)&&(a=React.createElement(React.Fragment,null,React.createElement("div",{className:"floatLeft"},i.goodsModel.readGoodsDiscount(e)),React.createElement("div",{className:"floatLeft"},"\u5143\u5546\u54c1\u5238"))),React.createElement("div",{onClick:n._onClick,ref:n._setRef,key:n.state.key,style:{padding:"0px",margin:"0rem",width:"100%"}},React.createElement(r.Card,{style:{marginTop:"0px",marginBottom:"0px",marginLeft:"0px",marginRight:"0px",width:"100%",height:"100%"}},React.createElement(r.CardContent,{style:{padding:"4px",width:"100%",height:"100%"}},React.createElement("div",{className:"wrapper",style:{width:"100%",height:"100%"}},React.createElement("div",{className:"left imgContainer"},React.createElement("img",{src:i.goodsModel.readGoodsImgUrl(n.state.item),className:"img lazy"})),React.createElement("div",{className:"middle rightContainer"},React.createElement("div",null,React.createElement("div",{className:"goodsNameLine"},i.goodsModel.readGoodsName(n.state.item))),React.createElement("div",{className:"couponLine"},t,o,a),React.createElement("div",{className:"rightContainerFlex"}),React.createElement("div",{style:{clear:"both"},className:"platformNameLine"},React.createElement("div",null,React.createElement("div",{className:"floatLeft"},"\u4f18\u60e0\u4ef7\uff1a"),React.createElement("div",{className:"floatLeft redText"},n.state.item.min_group_price2),React.createElement("div",{className:"floatLeft"},"\u5143"))),React.createElement("div",{style:{clear:"both"},className:"platformNameLine"},React.createElement("div",{className:"floatLeft"},React.createElement("span",{className:""},n.state.item.goods_platform)),React.createElement("div",{className:"floatLeft"},React.createElement("span",{className:""},"\xa0|\xa0")),React.createElement("div",{className:"floatLeft"},React.createElement("span",{className:""}," \u9884\u4f30\u9001\u4ee3\u91d1\u5e01\uff1a")),React.createElement("div",{className:"floatLeft"},React.createElement("span",{className:""},i.goodsModel.readGoodsCaicaibi(n.state.item)))))))))},n.state={key:t.key,index:t.index,item:t.item},n}return o(t,e),t}(a.ComponentBase);t.GoodsListItem=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mainViewParams=void 0;var o=n(25),a=n(18),r=n(14),i={allowDuplicateUrls:!0,stackPages:!0,"data-url":o.PageModel.mainViewDataUrl,pushState:!0,pushStateOnLoad:!0,history:!0,passRouteParamsToRequest:!0,mdSwipeBack:!0,pushStateRoot:o.PageModel.mainViewPushStateRoot,browserHistoryRoot:o.PageModel.mainViewPushStateRoot,browserHistory:!0,url:"/expressPackage",browserHistorySeparator:"?#",browserHistoryStoreHistory:!0,browserHistoryOnLoad:!0,browserHistoryAnimateOnLoad:!0,browserHistoryAnimate:!0,on:{pageInit:function(e){o.pageModel.dispatchEvent(new a.Event2(o.PageModel.events.pageInit,e))},init:function(){console.log("f7 view on init ",r.f7.view.main.router.currentRoute),setTimeout((function(){}),1e3)}}};t.mainViewParams=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fetchGoodsDetailData=void 0;var o=n(16),a=n(73).jdDdxGetGoodsDetail,r=n(114).getPromotionUrlSign,i=n(115).fetchTbGoodsCreateTaokouling,s=n(116).fetchTbGoodsDetail,c=n(117).vipDdxGetGoodsDetail;t.fetchGoodsDetailData=function(e,t){var n={sharer_id:e.sharer_id};switch(n.platform_abbr=e.platform_abbr,e.platform_abbr){case o.GoodsModel.platforms.jd.abbr:n.materialUrl=e.goods_sign,n.goods_sign=e.goods_sign,o.goodsModel.selectedGoodsInfo.platform=o.GoodsModel.platforms.jd.name;break;case o.GoodsModel.platforms.pdd.abbr:n.goods_sign=e.goods_sign,o.goodsModel.selectedGoodsInfo.platform=o.GoodsModel.platforms.pdd.name;break;case o.GoodsModel.platforms.vip.abbr:n.goodsId=e.goodsId,n.destUrl=e.goods_sign,o.goodsModel.selectedGoodsInfo.platform=o.GoodsModel.platforms.vip.name;break;case o.GoodsModel.platforms.tb.abbr:n.item_id=e.goods_sign,"rate"in e&&(n.promotion_rate2=e.rate),"coupon"in e&&(n.coupon_discount2=e.coupon),n.click_url=decodeURIComponent(e.url)}o.goodsModel.selectedGoodsInfo.goods=n,function(e,t){if(t.setState({goods:e}),e.we_app_info&&e.we_app_info.appId&&e.we_app_info.page_path)return;switch(e.platform_abbr){case o.GoodsModel.platforms.jd.abbr:a(e,t);break;case o.GoodsModel.platforms.pdd.abbr:r([e.goods_sign],e.search_id,e,!0);break;case o.GoodsModel.platforms.vip.abbr:c(e,!0);break;case o.GoodsModel.platforms.tb.abbr:s(e,t.onTbDetailLoaded,(function(e){}),(function(){})),i(e,t.onTbDetailLoaded,(function(e){}),(function(){}))}}(n,t)}},function(e,t,n){"use strict";n.r(t),n.d(t,"ii",(function(){return b})),n.d(t,"getPromotionUrlSign",(function(){return y}));var o,a,r,i,s=n(10),c=n(48),d=n(17).Member,l=n(74).PddMember,u=n(15).TMs,p=n(22),f=n(75).endpoints,m=n(16),g=m.goodsModel,v=m.GoodsModel,h=n(23).Event2,_=n(14).f7,b={},E=!1;!function(){function e(e){if(e&&e.params){var t;if(E){var n=e.res_detail_text;try{t=JSON.parse(n)}catch(c){return Object(s.showSimpleToast)("\u89e3\u6790\u62fc\u591a\u591a\u5546\u54c1\u8be6\u60c5\u65f6\u53d1\u751f\u9519\u8bef")}i(t,a)}t=null;var o=e.res_text;try{t=JSON.parse(o)}catch(c){return Object(s.showSimpleToast)("\u89e3\u6790\u62fc\u591a\u591a\u5546\u54c1\u4f18\u60e0\u65f6\u53d1\u9001\u9519\u8bef")}r(t)}}function t(e){}function n(e){}b.getPromotionUrlSign=function(r,i,s,l,p){p,o=s,a=r,E=l;var f={generate_mall_collect_coupon:!0,generate_we_app:!0,generate_short_url:!0,generate_schema_url:!0};f.goods_sign_list=r,f.search_id=i,f.type="pdd.ddk.goods.promotion.url.generate",console.log("get promotion url goods is",s);var m={sharer_id:s.sharer_id,params:f,need_detail:l,from:"web",channel_id:Object(c.getECommerceChannelPdd)()};console.log("get promotion url param is",m),new d(u.TPddGoods,u.MPddPromotionUrlGenerate,m,e,t,n).send()}}(),function(){function e(e){if(!e||!e.goods_promotion_url_generate_response||!e.goods_promotion_url_generate_response.goods_promotion_url_list||0==e.goods_promotion_url_generate_response.goods_promotion_url_list.length)return _.toast.create({closeTimeout:3e3,text:"\u83b7\u53d6\u8df3\u8f6c\u62fc\u591a\u591a\u6570\u636e\u5931\u8d25",destroyOnClose:!0}).open();var t=e.goods_promotion_url_generate_response.goods_promotion_url_list[0];if(t.goods_sign=a[0],o)return o.we_app_info=t.we_app_info,o.mobile_short_url=t.mobile_short_url,o.mobile_url=t.mobile_url,o.schema_url=t.schema_url,o.short_url=t.short_url,o.url=t.url,void g.dispatchEvent(new h(v.events.onPddWeAppInfoLoaded,o));g.setPddWeAppInfo(t),console.log("onPddSuccess2 is",t)}function t(e){}function n(e){}r=e,function(o,r){a=r,new l(f.goodsRecommendGet(),o,e,t,n).send()}}(),function(){function e(e){if(!e||!e.goods_detail_response||!e.goods_detail_response.goods_details||0==e.goods_detail_response.goods_details.length)return _.toast.create({closeTimeout:3e3,text:"\u83b7\u53d6\u8df3\u8f6c\u62fc\u591a\u591a\u6570\u636e\u5931\u8d25",destroyOnClose:!0}).open();var t=e.goods_detail_response.goods_details[0];if(t.goods_sign=a[0],o)return p.assign(o,t),g.parsePddGoods(o),void g.dispatchEvent(new h(v.events.onPddWeAppInfoLoaded,o));g.setPddWeAppInfo(t),console.log("onPddDetailSuccess 2 is",t)}function t(e){}function n(e){}i=e,function(o,r){a=r,console.log("_goodsSignList 3 is",a),new l(f.goodsGetGoodsDetail(),o,e,t,n).send()}}();var y=b.getPromotionUrlSign},function(e,t,n){"use strict";n.r(t),n.d(t,"fetchTbGoodsCreateTaokouling",(function(){return c}));var o=n(10),a=n(12),r=n(17).Member,i=n(15).TMs,s=(n(16).goodsModel,n(45).TbMember);n(22);function c(e,t,n,c){var d,l,u;d=new r(i.TTbGoods,i.MTbGoodsCreateTaokouling,{},(function(t){if(!t||!t.res_text)return Object(o.showSimpleToast)("\u672c\u5e73\u53f0\u6dd8\u5b9d\u6ca1\u6709\u8fd4\u56de\u6570\u636e");var n;try{n=JSON.parse(t.res_text)}catch(a){return Object(o.showSimpleToast)("\u89e3\u6790\u6dd8\u53e3\u4ee4\u662f\u51fa\u73b0\u9519\u8bef")}if(t.res_ddx_text)try{e.ddxTkl=JSON.parse(t.res_ddx_text),p(e)}catch(a){}l(n)}),(function(e){console.log("taobao optimus material tm fail",e),n&&n(e,1)}),(function(e){})),function(){var t=!1;function a(n){return console.log("eeeeee onTbSuccess2",n),n?n.tbk_tpwd_create_response?n.tbk_tpwd_create_response.data?(e.taokouling=n.tbk_tpwd_create_response.data,t=!0,p(u),void(t=!0)):Object(o.showSimpleToast)("\u6dd8\u5b9d\u6ca1\u6709\u8fd4\u56de\u5217\u8868"):Object(o.showSimpleToast)("\u6dd8\u5b9d\u6ca1\u6709\u8fd4\u56de\u6570\u636e"):Object(o.showSimpleToast)("\u6dd8\u5b9d\u6ca1\u6709\u8fd4\u56de")}l=a,new s(a,(function(e){console.log("taobao optimus material tb fail",e),n&&n(e,2)}),(function(e){c&&c(e,t)}))}();var p=t;u=e;var f={url:(-1===e.click_url.indexOf("https:")?"https:":"")+e.click_url,ext:"yiji",user_id:a.userModel.user.mobile?a.userModel.user.mobile:"",text:"shuoming"};d.body={from:"web",params:f},d.send()}},function(e,t,n){"use strict";n.r(t),n.d(t,"fetchTbGoodsDetail",(function(){return d}));var o=n(10),a=n(17).Member,r=n(15).TMs,i=n(16).goodsModel,s=n(45).TbMember,c=n(22);function d(e,t,n,d){var l,u,p;l=new a(r.TTbGoods,r.MTbGoodsDetail,{},(function(e){if(console.log("xxxxxxxxxxx",e),!e||!e.res_text)return Object(o.showSimpleToast)("tb no res");var t;try{t=JSON.parse(e.res_text)}catch(n){return Object(o.showSimpleToast)("parse tb detail error")}u(t)}),(function(e){console.log("taobao optimus material tm fail",e),n&&n(e,1)}),(function(e){})),function(){var e=!1;function t(t){if(!t)return Object(o.showSimpleToast)("\u6dd8\u5b9d\u6ca1\u6709\u8fd4\u56de");if(!t.tbk_item_info_get_response)return Object(o.showSimpleToast)("\u6dd8\u5b9d\u6ca1\u6709\u8fd4\u56de\u6570\u636e");if(!t.tbk_item_info_get_response.results)return Object(o.showSimpleToast)("\u6dd8\u5b9d\u6ca1\u6709\u8fd4\u56de\u5217\u8868");if(!t.tbk_item_info_get_response.results.n_tbk_item)return Object(o.showSimpleToast)("\u6dd8\u5b9d\u6ca1\u6709\u8fd4\u56de\u5546\u54c11");if(!t.tbk_item_info_get_response.results.n_tbk_item[0])return Object(o.showSimpleToast)("\u6dd8\u5b9d\u6ca1\u6709\u8fd4\u56de\u5546\u54c12");var n=t.tbk_item_info_get_response.results.n_tbk_item[0];c.assign(p,n),i.parseTbGoods(p),e=!0,f(p),e=!0}u=t,new s(t,(function(e){console.log("taobao optimus material tb fail",e),n&&n(e,2)}),(function(t){d&&d(t,e)}))}();var f=t;p=e;var m={num_iids:e.item_id,platform:2};l.body={params:m,from:"web"},l.send()}},function(e,t,n){"use strict";n.r(t),n.d(t,"vipDdxGetGoodsDetail",(function(){return _}));var o,a,r,i=n(10),s=n(12),c=n(48),d=n(23).Event2,l=n(16),u=l.goodsModel,p=l.GoodsModel,f=n(44).DdxRequest,m=n(22),g="//api.tbk.dingdanxia.com/vip/url_privilege",v="//api.tbk.dingdanxia.com/vip/item_info",h="vip ddx goods detail tag";function _(e,t){r=e,t&&a.send(v,{id:e.goodsId});var n="uid_".concat(s.userModel.user.id||0);e.sharer_id&&(n+="__pid_".concat(e.sharer_id));var i={statParam:n,chanTag:Object(c.getECommerceChannelVip)(),id:e.goodsId,url:e.destUrl};o.send(g,i)}o=new f(g,null,(function(e){if(!e||!e.data)return Object(i.showSimpleToast)("\u6ca1\u6709\u83b7\u53d6\u5230\u552f\u54c1\u4f1a\u94fe\u63a5");e.data.vipWxUrl,r.we_app_info=e.data,u.dispatchEvent(new d(p.events.onPddWeAppInfoLoaded,r))}),(function(e){console.log(h,"onFail is",e)}),(function(e){})),a=new f(v,null,(function(e){if(!e||!e.data)return Object(i.showSimpleToast)("\u6ca1\u6709\u83b7\u53d6\u5230\u552f\u54c1\u4f1a\u8be6\u60c5");m.assign(r,e.data),u.parseVipGoods(r),u.dispatchEvent(new d(p.events.onPddWeAppInfoLoaded,r))}),(function(e){console.log(h,"onFail is",e)}),(function(e){}))},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.documentVisibility=t.DocumentVisibility=void 0;var a=n(33),r=n(43),i=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._visible=!1,t}return o(t,e),Object.defineProperty(t.prototype,"visible",{get:function(){return this._visible},set:function(e){if(this._visible!==e){var n=this._visible;this._visible=e;var o=new r.default(t.eventVisibleChanged,n,e,r.default.UPDATE);this.dispatchEvent(o)}},enumerable:!1,configurable:!0}),t.visibleChange="visibleChange",t.eventVisibleChanged="eventVisibleChanged",t}(a.EventDispatcher);t.DocumentVisibility=i,t.documentVisibility=new i;var s="hidden"in document?"hidden":"webkitHidden"in document?"webkitHidden":"mozHidden"in document?"mozHidden":null,c=s.replace(/hidden/i,"visibilitychange");function d(){document[s]?t.documentVisibility.visible=!1:t.documentVisibility.visible=!0}d(),document.addEventListener(c,(function(){d()}))},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.model=t.Model=void 0;var a=function(e){function t(){var t=e.call(this)||this;return t.init=function(){},t}return o(t,e),t}(n(33).EventDispatcher);t.Model=a,t.model=new a},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.model=t.OrdersJdPageModel=void 0;var a=function(e){function t(){var t=e.call(this)||this;return t.init=function(){},t}return o(t,e),t}(n(33).EventDispatcher);t.OrdersJdPageModel=a,t.model=new a},function(e){e.exports=JSON.parse('{"version":300,"createTime":"2022-04-29T08:11:26.679Z"}')},,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getPositionIdByGoods=void 0;var o=n(12);function a(e){for(var t=e;t.length<7;)t="0"+t;return t}t.getPositionIdByGoods=function(e){var t=a(e.sharer_id||"0");return t+=a(o.userModel.user.id>0?o.userModel.user.id.toString():"0")}},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.LoggedPage=void 0;n(0);var a=n(14),r=n(18),i=n(17),s=n(15),c=n(13),d=n(12),l=n(29),u=n(119),p=n(38),f=n(166),m=n(36),g=n(55),v=n(10),h=function(e){function t(t){var n=e.call(this,t)||this;return n._eventsInitialized=!1,n._onMoutedChange=function(e){e.newValue?n._addEvents():n._removeEvents()},n._removeEvents=function(){n._eventsInitialized&&(n._eventsInitialized=!1,d.userModel.user.removeEventListener(m.User.eventIsLoggedChanged,n._onUserChanged),u.model.removeEventListener(p.PageEvent.EventTypes.onPageBeforeIn,n._onPageBeforIn))},n._addEvents=function(){n._eventsInitialized||(n._eventsInitialized=!0,u.model.addEventListener(p.PageEvent.EventTypes.onPageBeforeIn,n._onPageBeforIn),d.userModel.user.addEventListener(m.User.eventIsLoggedChanged,n._onUserChanged),new g("#userredenvelopebtn"))},n._onUserChanged=function(){n.setState({user:d.userModel.user})},n._onPageBeforIn=function(){},n._onLogoutClick=function(){var e=n._logoutMember=new i.Member(s.TMs.TSession,s.TMs.MSessionLogout,{},(function(e){console.log("tms.TSession, tms.MSessionLogout res is",e),d.userModel.user.logout()}),(function(e){console.log("tms.TSession, tms.MSessionLogout net error is",e.netError,e.netErrorInfo)}),(function(e){console.log("tms.TSession, tms.MSessionLogout data error is",e.dataError,e.dataErrorInfo)}),(function(e){console.log("tms.TSession, tms.MSessionLogout complete is",e.isNetOk,e.isDataOk,e.isTotallyOk)}),null,!0,!0);c.mainModel.dispatchEvent(new r.Event2(c.MainModel.events.addWaitingMember,e.send))},n._onCopyRedEnvelopeClick=function(){v.showSimpleToast("\u5fae\u4fe1\u9886\u7ea2\u5305id\u5df2\u590d\u5236")},n.render=function(){return React.createElement("div",{className:"page-content",style:{paddingTop:"0px"}},React.createElement(a.Card,null,React.createElement(a.CardHeader,null,"\u60a8\u5728\u5fae\u4fe1\u7fa4\u9886\u53d6\u7ea2\u5305\u7684id"),React.createElement(a.CardContent,null,React.createElement(a.Block,null,React.createElement(a.Row,{style:{alignItems:"center"}},d.userModel.user.fanli_uuid,React.createElement(a.Button,{onClick:n._onCopyRedEnvelopeClick,id:"userredenvelopebtn","data-clipboard-text":d.userModel.user.uuid},"\u590d\u5236")),React.createElement(a.Row,null,"\u70b9\u51fb\u4e0a\u9762\u590d\u5236\u6309\u94ae\uff0c\u7136\u540e\u5230\u5fae\u4fe1\u7fa4\u91cc\u7c98\u8d34\uff0c\u540c\u65f6@\u7fa4\u7ba1\u7406\u5458\uff0c\u4ee5\u540e\u5c31\u4f1a\u7528\u8fd9\u4e2aid\u505a\u51ed\u636e\u5728\u7fa4\u91cc\u7ed9\u60a8\u53d1\u7ea2\u5305\u4e86\uff0c\u4e0d\u8981\u5fd8\u8bb0\u53d6\u5965~~~")))),React.createElement("div",{className:"block"},React.createElement(a.Row,null,React.createElement("span",null,"\u4ee3\u91d1\u5e01"))),React.createElement(f.CaiCaiBi,null),React.createElement("div",null,React.createElement(a.Row,null,React.createElement("div",null,React.createElement("span",null,"\u767b\u5f55\u624b\u673a\uff1a"),React.createElement("span",null,n.state.user.mobile))),React.createElement(a.Row,null,React.createElement(a.Button,{onClick:n._onLogoutClick},"\u9000\u51fa"))))},n,n.state={user:d.userModel.user},n.dispatcher.addEventListener(l.ComponentBase.eventIsMountedChanged,n._onMoutedChange),n}return o(t,e),t}(l.ComponentBase);t.LoggedPage=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.trackingBindUserInit=void 0;var o=n(12),a=n(36),r=n(17),i=n(15),s=n(13),c=n(18),d=n(37);function l(){o.userModel.trackingUserBinded=!1;var e=new r.default(i.TMs.TTracking,i.TMs.MTrackingBindUser,{uuid:d.trackingModel.trackingUuid,openid:o.userModel.user.uuid},(function(e){e&&e.is_ok&&(o.userModel.trackingUserBinded=!0)}),(function(e){console.log("TMs.TTraking, TMs. net error is",e.netError,e.netErrorInfo)}),(function(e){console.log("TMs.TTraking, TMs. data error is",e.dataError,e.dataErrorInfo)}),(function(e){}),null,!0,!0);s.mainModel.dispatchEvent(new c.Event2(s.MainModel.events.addWaitingMember,e.send))}t.trackingBindUserInit=function(){o.userModel.user.addEventListener(a.User.eventIsLoggedChanged,l)}},function(e,t,n){"use strict";function o(){return!!window.navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i)}n.d(t,"a",(function(){return o}))},,function(e,t,n){"use strict";n.r(t),n.d(t,"routes",(function(){return g})),n.d(t,"routeMap",(function(){return v}));n(78),n(0),n(25);var o=n(46),a=(n(77),n(66)),r=n(57),i=n(58),s=n(52),c=n(53),d=n(54),l=n(64),u=n(65),p=n(80),f=n(81),m=n(82),g=[a.expressPackageRouter,r.discountRouter,i.mineRouter,o.goodsSearchRouter,s.goodsDetailPageRouter,c.goodsShareRouter,d.TbOrderClaimRouter,l.HowToUseShareRouter,u.GoodsRedEnvelopeJumpRouter,p.OrdersJdRouter,f.AdminRouter,m.SberManageRouter],v={};g.forEach((function(e){v[e.path]=e}))},,,,,,,,function(e,t,n){},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.PlatformTabs=t.PlatformSubtabs=void 0;var a=n(29),r=n(14),i=n(110),s=n(51),c=n(16),d=0,l={platform:c.GoodsModel.platforms.tb,name:c.GoodsModel.platforms.tb.name,abbr:c.GoodsModel.platforms.tb.abbr,items:[],tabKey:++d},u={platform:c.GoodsModel.platforms.pdd,name:c.GoodsModel.platforms.pdd.name,abbr:c.GoodsModel.platforms.pdd.abbr,items:[],tabKey:++d},p={platform:c.GoodsModel.platforms.jd,name:c.GoodsModel.platforms.jd.name,abbr:c.GoodsModel.platforms.jd.abbr,items:[],tabKey:++d},f={platform:c.GoodsModel.platforms.vip,name:c.GoodsModel.platforms.vip.name,abbr:c.GoodsModel.platforms.vip.abbr,items:[],tabKey:++d},m=[p,l,u,f],g={jd:p,tb:l,pdd:u,vip:f},v=function(e){function t(t){var n=e.call(this,t)||this;return n.render=function(){return React.createElement("div",{className:"subnavbar"},React.createElement("div",{className:"subnavbar-inner",style:{padding:"0px"}},React.createElement("div",{className:"segmented segmented-raised"},n.state.tabs.map((function(e,t){var n="button tab-link ";return 0===t&&(n+="tab-link-active"),React.createElement("a",{key:t,className:n,href:"#","data-tab":"#tab"+t},e.name)})))))},n.state={tabs:m},n}return o(t,e),t}(a.ComponentBase);t.PlatformSubtabs=v;var h=function(e){function t(t){var n=e.call(this,t)||this;return n._setTabKeys=function(){m.map((function(e,t){e.tabKey=++d}))},n._addEvents=function(){n._prepareSearchResultData(),c.goodsModel.addEventListener(c.GoodsModel.events.pddGoodsSearchBack,n._onPddGoodsSearchBack),c.goodsModel.addEventListener(c.GoodsModel.events.jdGoodsSearchBack,n._onPddGoodsSearchBack),c.goodsModel.addEventListener(c.GoodsModel.events.vipGoodsSearchBack,n._onPddGoodsSearchBack),c.goodsModel.addEventListener(c.GoodsModel.events.tbGoodsSearchBack,n._onPddGoodsSearchBack)},n._onPddGoodsSearchBack=function(){n._prepareSearchResultData()},n._prepareSearchResultData=function(){g.tb.items=c.goodsModel.tbGoodsSearchResult||[],g.pdd.items=c.goodsModel.pddGoodsSearchResult||[],g.jd.items=c.goodsModel.jdGoodsSearchResult||[],g.vip.items=c.goodsModel.vipGoodsSearchResult||[],n._setTabKeys(),n.setState({tabs:m})},n.render=function(){return React.createElement(r.Tabs,null,n.state.tabs.map((function(e,t){var o=0===t?"tab-active":"";return React.createElement(r.Tab,{key:n.state.tabs[t].tabKey,id:"tab"+t,className:o},React.createElement(i.GoodsList,{items:n.state.tabs[t].items,height:s.model.goodsItemHeight}))})))},n.render2=function(){return React.createElement("div",null,React.createElement("div",{className:"subnavbar"},React.createElement("div",{className:"subnavbar-inner",style:{padding:"0px"}},React.createElement("div",{className:"segmented segmented-raised"},n.state.tabs.map((function(e,t){var n="button tab-link ";return 0===t&&(n+="tab-link-active"),React.createElement("a",{key:t,className:n,href:"#","data-tab":"#tab"+t},e.name)}))))),React.createElement(r.Tabs,null,n.state.tabs.map((function(e,t){var o=0===t?"tab-active":"";return React.createElement(r.Tab,{key:n.state.tabs[t].tabKey,id:"tab"+t,className:o},React.createElement("p",null,t),React.createElement("p",null,t,"a"),React.createElement(i.GoodsList,{items:n.state.tabs[t].items,height:s.model.goodsItemHeight}))}))))},n.state={width:t.width,height:t.height,tabs:m},n._addEvents(),n}return o(t,e),t}(a.ComponentBase);t.PlatformTabs=h},function(e,t,n){},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.GoodsDetailPage=t.getPage=void 0;var a,r=n(29),i=n(14),s=n(16),c=n(23),d=n(10),l=n(55),u=n(34),p=n(53),f=n(15),m=n(17),g=n(13),v=n(113);n(73).jdDdxGetGoodsDetail,n(114).getPromotionUrlSign,n(154).fetchTbGoodsCouponInfo,n(115).fetchTbGoodsCreateTaokouling,n(116).fetchTbGoodsDetail,n(117).vipDdxGetGoodsDetail;t.getPage=function(){return a};var h=function(e){function t(t){var n=e.call(this,t)||this;return n._eventsInitialized=!1,n._onMountedChange=function(e){e.newValue?(n._addEvents(),n._updateTitle()):(n._removeEvents(),n.clipboard&&(n.clipboard.destroy(),n.clipboard=null))},n._addEvents=function(){n._eventsInitialized||s.goodsModel.addEventListener(s.GoodsModel.events.onPddWeAppInfoLoaded,n._onPddWeAppInfoLoaded)},n._removeEvents=function(){n._eventsInitialized&&s.goodsModel.removeEventListener(s.GoodsModel.events.onPddWeAppInfoLoaded,n._onPddWeAppInfoLoaded)},n._onPddWeAppInfoLoaded=function(e){n.setState({goods:e.data}),n._updateTitle()},n.setUrlParams=function(e){e.sharer_id=g.mainModel.getSharerId(),n._original=JSON.parse(JSON.stringify(e)),n._params=e,v.fetchGoodsDetailData(e,n),n._updateTitle()},n.onTbDetailLoaded=function(e){e.item_id==n.state.goods.item_id&&(n.setState({goods:e}),n._updateTitle())},n.setJdGoods=function(e){n.setState({goods:e}),n._updateTitle()},n.setJdGoodsFailed=function(e){console.log("jd goods failed, goods is",e)},n._updateTitle=function(){if(n.isMounted&&(document.title=u.titlePrefix+"-"+u.title+"-\u5546\u54c1\u8be6\u60c5",n.state.goods)){var e=n.state.goods,t=e.detail_page_title||e.goods_name||e.title;t&&(document.title=u.titlePrefix+"-"+u.title+"-"+t)}},n._laterRun=function(){setTimeout((function(){a==n&&n._parseUrl()}))},n._parseUrl=function(){n._runCallData()},n._runCallData=function(){},n._onGotoBuyClick=function(){if(n.state.goods.platform_abbr===s.GoodsModel.platforms.tb.abbr)n._copyTkl()},n._copyTkl=function(){d.showToast("\u6dd8\u53e3\u4ee4\u5df2\u590d\u5236\uff0c\u6253\u5f00\u6dd8\u5b9d\u5c31\u80fd\u770b\u5230\u5546\u54c1",d.toastPositions.center)},n._getTkl=function(){var e=n.state.goods;return e&&"tb"===e.platform_abbr?e.ddxTkl&&200===e.ddxTkl.code?(n.clipboard||(n.clipboard=new l(".btn")),e.ddxTkl.data.long_coupon_tpwd):e.taokouling?(n.clipboard||(n.clipboard=new l(".btn")),e.taokouling.model+e.taokouling.password_simple):(console.log("\u8fd8\u6ca1\u83b7\u53d6\u5230\u6dd8\u53e3\u4ee4"),""):""},n._shareClick=function(){if("tb"==n.state.goods.platform)return n._openSharePage();n._createShareRedEnvelopeParams()},n._createShareRedEnvelopeParams=function(){console.log("_createShareRedEnvelopeParams _createShareRedEnvelopeParams _createShareRedEnvelopeParams");var e={params_str:JSON.stringify(n._original),sharer_id:g.mainModel.getSharerId()},t=new m.default(f.TMs.TShortUrl,f.TMs.MShortUrlShareJumpCreate,e,(function(e){if(!e.t)return console.log("\u6ca1\u6709\u83b7\u53d6\u5230\u7ea2\u5305\u5206\u4eab\u94fe\u63a5",n._original),d.showSimpleToast("\u6ca1\u6709\u83b7\u53d6\u5230\u7ea2\u5305\u5206\u4eab\u94fe\u63a5");n.state.goods.share_time=e.t,n._openSharePage()}),(function(e){console.log("TMs.TShortUrl, TMs.MShortUrlShareJumpCreate net error is",e.netError,e.netErrorInfo)}),(function(e){console.log("TMs.TShortUrl, TMs.MShortUrlShareJumpCreate data error is",e.dataError,e.dataErrorInfo)}),(function(e){}),null,!0,!0);g.mainModel.dispatchEvent(new c.Event2(g.MainModel.events.addWaitingMember,t.send))},n._openSharePage=function(){var e=n.state.goods;e.tkl=n._getTkl();var t=s.goodsModel.readGoodsShareInfo(e);i.f7.views.main.router.navigate({path:p.goodsShareRouter.path,query:{d:encodeURIComponent(JSON.stringify(t))}})},n.render=function(){var e=n.state.goods,t=React.createElement(React.Fragment,null);return e&&(t=React.createElement(React.Fragment,null,React.createElement("div",{className:"row"},React.createElement("img",{width:"100%",src:e.detail_page_pic||e.goods_image_url||e.main_img_url})),React.createElement("div",null,React.createElement("h3",null,e.detail_page_title||e.goods_name||e.title)),e.clt_cpn_discount2&&React.createElement("div",null,React.createElement("span",null,e.clt_cpn_discount2),React.createElement("span",null,"\u5143\u5e97\u94fa\u5238")),e.coupon_discount2&&React.createElement("div",null,React.createElement("span",null,e.coupon_discount2),React.createElement("span",null,"\u5143\u5546\u54c1\u5238")),function(e){return"jd"!==e.platform_abbr?React.createElement(React.Fragment,null):e.couponInfo?React.createElement("div",{className:"row"},e.couponInfo.map((function(e,t){return React.createElement("a",{key:t,className:"external",target:"_blank",href:e.link},React.createElement("span",null,e.discount,"\u5143\u4f18\u60e0\u5238"))}))):React.createElement(React.Fragment,null)}(e),e.min_group_price2&&React.createElement("div",null,React.createElement("span",null,"\u6700\u4f4e\u8d2d\u4e70\u4ef7\u683c\uff1a"),React.createElement("span",null,e.min_group_price2),React.createElement("span",null,"\u5143")),e.promotion_rate2&&React.createElement("div",null,React.createElement("span",null,"\u9884\u4f30\u9001\u4ee3\u91d1\u5e01\uff1a"),React.createElement("span",null,e.promotion_rate2)),"tb"==e.platform_abbr&&e.taokouling&&React.createElement("div",null,e.taokouling.model,e.taokouling.password_simple),React.createElement("div",{className:"row"},"tb"===e.platform_abbr&&React.createElement(i.Button,{className:"btn",onClick:n._onGotoBuyClick,"data-clipboard-text":n._getTkl()},"\u590d\u5236\u6dd8\u53e3\u4ee4"),"pdd"===e.platform_abbr&&React.createElement(React.Fragment,null,React.createElement(i.Button,{className:"external",onClick:n._onGotoBuyClick,href:e.mobile_short_url,target:"_blank"},"\u62fc\u591a\u591a\u7f51\u9875"),React.createElement(i.Button,{className:"external",onClick:n._onGotoBuyClick,href:e.schema_url,target:"_blank"},"\u62fc\u591a\u591aAPP")),"vip"===e.platform_abbr&&e.we_app_info&&React.createElement(React.Fragment,null,React.createElement(i.Button,{className:"external",onClick:n._onGotoBuyClick,target:"_blank",href:e.we_app_info.ulUrl},"\u552f\u54c1\u4f1a\u7f51\u9875"),React.createElement(i.Button,{className:"external",onClick:n._onGotoBuyClick,target:"_blank",href:e.we_app_info.deeplinkUrl},"\u552f\u54c1\u4f1aAPP")),"jd"===e.platform_abbr&&React.createElement(React.Fragment,null,React.createElement(i.Button,{className:"external",onClick:n._onGotoBuyClick,target:"_blank",href:e.shortURL},"\u4eac\u4e1c"),e.pinGouInfo&&e.pinGouInfo.pingouUrl&&React.createElement(i.Button,{className:"external",onClick:n._onGotoBuyClick,target:"_blank",href:e.pinGouInfo&&e.pinGouInfo.pingouUrl?e.pinGouInfo.pingouUrl:e.shortURL},"\u4eac\u559c\u62fc\u8d2d"))),React.createElement("div",{style:{height:"30px"}}))),React.createElement(i.Page,{pageContent:!0,className:"no-toolbar"},React.createElement("div",{slot:"fixed"},React.createElement("div",{className:"navbar"},React.createElement("div",{className:"navbar-bg"}),React.createElement("div",{className:"navbar-inner sliding",style:{flexDirection:"row"}},React.createElement("a",{className:"link back"},React.createElement("i",{className:"icon icon-back"}),React.createElement("span",{className:"if-not-md"},"\u8fd4\u56de")),React.createElement("div",{style:{flex:"1"},className:"title"},e&&(e.detail_page_title||e.goods_name||e.title)?e.detail_page_title||e.goods_name||e.title:"\u5546\u54c1\u8be6\u60c5"),React.createElement("a",{onClick:n._shareClick},"\u5206\u4eab")))),React.createElement(React.Fragment,null,t))},a=n,n.state={goods:null},n._laterRun(),n.dispatcher.addEventListener(r.ComponentBase.eventIsMountedChanged,n._onMountedChange),n}return o(t,e),t}(r.ComponentBase);t.GoodsDetailPage=h},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),a=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(a,r){function i(e){try{c(o.next(e))}catch(t){r(t)}}function s(e){try{c(o.throw(e))}catch(t){r(t)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((o=o.apply(e,t||[])).next())}))},r=this&&this.__generator||function(e,t){var n,o,a,r,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(a=2&r[0]?o.return:r[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,r[1])).done)return a;switch(o=0,a&&(r=[2&r[0],a.value]),r[0]){case 0:case 1:a=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,o=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(a=(a=i.trys).length>0&&a[a.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){i.label=r[1];break}if(6===r[0]&&i.label<a[1]){i.label=a[1],a=r;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(r);break}a[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(e,i)}catch(s){r=[6,s],o=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.Ppage=t.getPage=void 0;var i,s=n(0),c=n(29),d=n(14),l=n(142),u=n(55),p=n(10),f=n(143),m=n(64),g=n(15),v=n(17),h=n(13),_=n(23),b=n(112),E=n(65),y=n(73),M=n(12),P=n(36),w=n(56),T=n(153);t.getPage=function(){return i};var C=function(e){function t(t){var n=e.call(this,t)||this;return n._eventsInitialized=!1,n.ta=s.createRef(),n.state={goods:null,text:"",redEnvelope:"",goodsUrl:"",envelopeUrl:"",showShareMoneyCheckBox:!1,shareMoney:null,shareMoneyGoods:null,shareMoneyCannotCreate:!1,isSber:!1,canMakeShareMoney:!1,haveShareMoneyChance:!1,shareMoneyChecked:!1,isAdmin:!1},n.setParams=function(e){n._updateGoods(e)},n._updateGoods=function(e){n.state.goods=e;var t=window.location.href.split(b.mainViewParams.browserHistorySeparator)[0],o=e.share_time,a={goods:e,redEnvelope:""};o&&"tb"!=e.platform&&(t=""+t+b.mainViewParams.browserHistorySeparator+E.GoodsRedEnvelopeJumpRouter.path+"?t="+o,a.redEnvelope=t,n.state.redEnvelope=t),n._getGoodsUrl(e),n.setState(a),n._pageContentRender()},n._getGoodsUrl=function(e){if(!e)return"";var t=l.regFenToYuan(e.rate),o=!1,a="";switch(e.platform){case"jd":a=e.pin||e.url,(t>=1||M.userModel.user.isAdmin)&&(o=!0);break;case"tb":case"pdd":case"vip":a=e.url;break;default:return alert("\u5546\u54c1\u6ca1\u6709\u7535\u5546\u5e73\u53f0"),""}return n.setState({canMakeShareMoney:o}),a},n._addEvents=function(){n._eventsInitialized||(n._eventsInitialized=!0,M.userModel.user.addEventListener(P.User.eventIsLoggedChanged,n._onUserLoggedChange),T.localShareMoney.addEventListener(T.LocalShareMoney.updated,n._onShareMoneyCountChanged))},n._onShareMoneyCountChanged=function(){n._updateShareMoneyChance()},n._updateShareMoneyChance=function(){console.log("update share money chance ",T.localShareMoney.count,M.userModel.user.isLogged,M.userModel.user.isSber,T.localShareMoney.canCreate()),n.setState({haveShareMoneyChance:T.localShareMoney.canCreate()})},n._onUserLoggedChange=function(){n._refreshUserIsSber(),n._updateShareMoneyChance()},n._refreshUserIsSber=function(){n.setState({isSber:M.userModel.user.isSber,isAdmin:M.userModel.user.isAdmin}),n._updateShareMoneyChance()},n._removeEvents=function(){n._eventsInitialized&&(n._eventsInitialized=!1,M.userModel.user.removeEventListener(P.User.eventIsLoggedChanged,n._onUserLoggedChange),T.localShareMoney.removeEventListener(T.LocalShareMoney.updated,n._onShareMoneyCountChanged))},n._onMounted=function(e){e.newValue?(n._addEvents(),i=n,n.clipboard||(n.clipboard=new u(".btn"))):n._removeEvents()},n._onTextModify=function(e){n.setState({text:e.target.value})},n._pageContentRender=function(){var e=n.state.goods;if(e){var t=n.state.showShareMoneyCheckBox,o="";"","","\n";var a=""+e.title,r=n.state.redEnvelope,i=(M.userModel.user.isAdmin,r),s=i?"\u4e0d\u8981\u7ea2\u5305\u76f4\u63a5\u8d2d\u4e70\u94fe\u63a5":"\u8d2d\u4e70\u94fe\u63a5",c="jd"==e.platform&&n.state.shareMoney&&n.state.shareMoney.denomination>0?n.state.shareMoney:null,d=c?n.state.shareMoneyGoods:null;c&&(s="\u9886\u8865\u8d34\u91d1\u8d2d\u4e70\u94fe\u63a5");var u=l.regFenToYuan(e.rate);switch(c&&c.denomination&&(u=(Math.floor(100*u-100*c.denomination)/100).toFixed(2)),e.platform){case"jd":a+=c?"\n\u8865\u8d34\u91d1\uff1a"+c.denomination+"\u5143"+"\n\u8865\u8d34\u540e\u4ef7\u683c:"+(e.print-c.denomination):"\n\u4f18\u60e0\u540e\u4ef7\u683c\uff1a"+e.print,a+=d?"\n"+s+"\uff1a"+d.shortURL:"\n"+s+"\uff1a"+e.url,i&&u>0&&(a+="\n\u9884\u4f30\u53ef\u5f97\u7ea2\u5305\uff1a"+u+"\u5143"),o=e.url,t=!0;break;case"tb":a+="\n"+e.url,o=e.url;break;case"pdd":case"vip":a+="\n\u4f18\u60e0\u540e\u4ef7\u683c\uff1a"+e.print,a+="\n"+s+"\uff1a"+e.url,i&&u>0&&(a+="\n\u9884\u4f30\u53ef\u5f97\u7ea2\u5305\uff1a"+u+"\u5143"),o=e.url}i&&(a+="\n\u8981\u7ea2\u5305\u94fe\u63a5\uff1a"+n.state.redEnvelope),n.setState({text:a,goodsUrl:o,showShareMoneyCheckBox:t})}else n.setState({text:""})},n._onCopyTextClick=function(){p.showSimpleToast("\u5546\u54c1\u5185\u5bb9\u5df2\u590d\u5236\u5230\u526a\u5207\u677f")},n._onCopyNoRedEnvelopeClick=function(){p.showSimpleToast("\u76f4\u63a5\u8d2d\u4e70\u94fe\u63a5\u5df2\u590d\u5236\u5230\u526a\u5207\u677f")},n._onCopyRedEnvelopeClick=function(){p.showSimpleToast("\u7ea2\u5305\u94fe\u63a5\u5df2\u590d\u5236\u5230\u526a\u5207\u677f")},n._handleKeyDown=function(e){},n._copyImage=function(){return a(n,void 0,void 0,(function(){var e,t,n,o;return r(this,(function(a){switch(a.label){case 0:return navigator.clipboard?(e=this.state.goods.img,[4,f.imageToCanvasImage(e)]):[2];case 1:return t=a.sent(),n=new window.ClipboardItem(((o={})[t.type]=t,o)),[4,navigator.clipboard.write([n]).then((function(e){console.log("Copied to clipboard successfully!",e,n),p.showSimpleToast("\u5546\u54c1\u56fe\u7247\u5df2\u590d\u5236\u5230\u526a\u5207\u677f")}),(function(e){console.error("unable to write to clipboard. Error:",e),p.showSimpleToast("\u5546\u54c1\u56fe\u7247\u590d\u5236\u5931\u8d25")}))];case 2:return a.sent(),[2]}}))}))},n._onHowToUseShareClick=function(){d.f7.views.main.router.navigate({path:m.HowToUseShareRouter.path})},n._onBackClick=function(){d.f7.views.main.router.back()},n._onUseShareMoneyChanged=function(e){var t=n.state.goods;if(t){var o=e.target.checked;if(n.setState({shareMoneyChecked:o}),!o)return n.state.shareMoney=null,n.state.shareMoneyGoods=null,n.setState({shareMoney:null,shareMoneyGoods:null}),void n._pageContentRender();if("jd"===t.platform)n._checkFetchJdShareMoney()}},n._onShareMoneyResult=function(e){n.state.shareMoney=e,n.shareMoney=e,T.localShareMoney.add(),n.setState({shareMoney:e,shareMoneyCannotCreate:!1}),n._fetchJdGoodsDetail()},n._fetchJdGoodsDetail=function(){var e=JSON.parse(JSON.stringify(n.state.goods));e.materialUrl=e.url,e.giftCouponKey=n.state.shareMoney.gift_coupon_key,y.jdDdxGetGoodsDetail(e,n)},n._updateShareMoney=function(){n.state.shareMoney=n.shareMoney,n.state.shareMoneyGoods=n.shareMoneyGoods,n.setState({shareMoney:n.shareMoney,shareMoneyGoods:n.shareMoneyGoods}),n._pageContentRender()},n._checkFetchJdShareMoney=function(){n.state.goodsUrl&&(n.shareMoney?n._updateShareMoney():n._fetchJdShareMoney())},n._fetchJdShareMoney=function(){var e=1,t=w.Dom7("#shareMoneyNumberInput");t.length>0&&(e=Number(t.val())),console.log("arrrrrr",t,e);var o={sku_material_id:n.state.goodsUrl,value:e,sharer:""};0==M.userModel.user.isSber&&(o.sharer=h.mainModel.getSharerCode());var a=new v.default(g.TMs.TJdGoods,g.TMs.MJdGoodsCreateGift,o,(function(e){console.log("TMs.TJdGoods, TMs.MJdGoodsCreateGift res is",e),e.is_ok&&n._onShareMoneyResult(e)}),(function(e){n.setState({shareMoneyChecked:!1}),console.log("TMs.TJdGoods, TMs.MJdGoodsCreateGift net error is",e.netError,e.netErrorInfo,e)}),(function(e){n.setState({shareMoneyChecked:!1}),"\u8be5\u5546\u54c1\u4e0d\u80fd\u53c2\u4e0e\u63a8\u5e7f\uff0c\u8bf7\u66f4\u6362"===e.responseErrorMessage&&n.setState({shareMoneyCannotCreate:!0}),d.f7.dialog.alert(e.responseErrorMessage,"\u6570\u636e\u8fd4\u56de\u9519\u8bef"),console.log("TMs.TJdGoods, TMs.MJdGoodsCreateGift data error is",e.dataError,e.dataErrorInfo,e.responseErrorMessage,e)}),(function(e){console.log("TMs.TJdGoods, TMs.MJdGoodsCreateGift complete is",e.isNetOk,e.isDataOk,e.isTotallyOk)}),null,!0,!0);h.mainModel.dispatchEvent(new _.Event2(h.MainModel.events.addWaitingMember,a.send))},n.render=function(){var e=n.state.goods;return s.createElement(d.Page,{pageContent:!1,className:"no-toolbar"},s.createElement("div",{slot:"fixed"},s.createElement("div",{className:"navbar"},s.createElement("div",{className:"navbar-bg"}),s.createElement("div",{className:"navbar-inner sliding",style:{flexDirection:"row"}},s.createElement("a",{className:"link ",onClick:n._onBackClick},s.createElement("i",{className:"icon icon-back"}),s.createElement("span",{className:"if-not-md"},"\u8fd4\u56de")),s.createElement("div",{style:{flex:"1"},className:"title"},e&&(e.detail_page_title||e.goods_name||e.title)?e.detail_page_title||e.goods_name||e.title:"\u5546\u54c1\u5206\u4eab\u7f16\u8f91")))),e&&s.createElement(d.PageContent,{style:{paddingTop:"0px"}},s.createElement("div",{className:""},s.createElement(d.Row,{style:{alignItems:"center"},className:"no-gap"},s.createElement("div",{className:"list",style:{content:"none",listStyle:"none"}},!n.state.haveShareMoneyChance&&s.createElement("span",null,"\u60a8\u4eca\u5929\u751f\u6210\u793c\u91d1\u7684\u6b21\u6570\u7528\u5b8c\u4e86"),n.state.haveShareMoneyChance&&n.state.canMakeShareMoney&&s.createElement(d.ListItem,{checkbox:!0,checked:n.state.shareMoneyChecked,disabled:n.state.shareMoneyCannotCreate,readonly:n.state.shareMoneyCannotCreate,color:n.state.shareMoneyCannotCreate?"gray":"red",title:n.state.shareMoneyCannotCreate?"\u4e0d\u53ef\u4f7f\u7528\u793c\u91d1":"\u4eca\u65e5\u53ef\u751f\u6210\u793c\u91d1"+T.localShareMoney.chance+"\u6b21",onChange:n._onUseShareMoneyChanged})),n.state.isAdmin&&n.state.canMakeShareMoney&&s.createElement("div",null,s.createElement("input",{style:{width:"2rem"},type:"number",defaultValue:1,id:"shareMoneyNumberInput"})),s.createElement("div",null,s.createElement(d.Button,{onClick:n._onHowToUseShareClick},"\u4f7f\u7528\u8bf4\u660e")))),s.createElement(d.Card,null,s.createElement(d.CardContent,null,s.createElement("textarea",{key:1,ref:n.ta,onKeyDown:n._handleKeyDown,onChange:n._onTextModify,rows:10,style:{width:"100%",backgroundColor:"#FFFFFF",paddingLeft:"3px",paddingRight:"3px"},defaultValue:n.state.text})),s.createElement(d.CardFooter,null,s.createElement("div",null),n.state.goodsUrl&&s.createElement(d.Button,{className:"btn",onClick:n._onCopyNoRedEnvelopeClick,"data-clipboard-text":n.state.goodsUrl},"\u590d\u5236\u65e0\u7ea2\u5305\u94fe\u63a5"),n.state.redEnvelope&&s.createElement(d.Button,{className:"btn",onClick:n._onCopyRedEnvelopeClick,"data-clipboard-text":n.state.redEnvelope},"\u590d\u5236\u7ea2\u5305\u94fe\u63a5"),s.createElement(d.Button,{className:"btn",onClick:n._onCopyTextClick,"data-clipboard-text":n.state.text},"\u590d\u5236\u5168\u90e8\u6587\u672c"))),s.createElement(d.Card,null,s.createElement(d.CardContent,null,s.createElement("img",{width:"100%",src:n.state.goods.img})))))},i=n,n.dispatcher.addEventListener(c.ComponentBase.eventIsMountedChanged,n._onMounted),n.setJdGoods=n.setJdGoods.bind(n),n.setJdGoodsFailed=n.setJdGoodsFailed.bind(n),n.onTbDetailLoaded=n.onTbDetailLoaded.bind(n),n._refreshUserIsSber(),n}return o(t,e),t.prototype.setJdGoods=function(e){var t=e.goods;console.log("sssset jd goods back",t),this.shareMoneyGoods=t,this.state.shareMoneyGoods=t,this.setState({shareMoneyGoods:t}),this._updateShareMoney()},t.prototype.setJdGoodsFailed=function(e){console.log("jddddd goods failed",e)},t.prototype.onTbDetailLoaded=function(e){throw new Error("Method not implemented.")},t.prototype.onScriptChange=function(e){this.setState({scriptString:e.target.value})},t}(c.ComponentBase);t.Ppage=C},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.regYuanToFen=t.regFenToYuan=void 0;t.regFenToYuan=function(e){var t=e;t=.01*e;var n=(t+="").indexOf(".")>-1?/(\d{1,3})(?=(?:\d{3})+\.)/g:/(\d{1,3})(?=(?:\d{3})+$)/g;return t=t.replace(n,"$1"),t=(t=Number(t)).toFixed(2)};t.regYuanToFen=function(e,t){var n=0,o=e.toString(),a=t.toString();try{n+=o.split(".")[1].length}catch(r){}try{n+=a.split(".")[1].length}catch(r){}return Number(o.replace(".",""))*Number(a.replace(".",""))/Math.pow(10,n)}},function(e,t,n){"use strict";var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(a,r){function i(e){try{c(o.next(e))}catch(t){r(t)}}function s(e){try{c(o.throw(e))}catch(t){r(t)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((o=o.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,o,a,r,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(a=2&r[0]?o.return:r[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,r[1])).done)return a;switch(o=0,a&&(r=[2&r[0],a.value]),r[0]){case 0:case 1:a=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,o=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(a=(a=i.trys).length>0&&a[a.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){i.label=r[1];break}if(6===r[0]&&i.label<a[1]){i.label=a[1],a=r;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(r);break}a[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(e,i)}catch(s){r=[6,s],o=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.imageToCanvasImage=void 0,t.imageToCanvasImage=function(e){return o(this,void 0,void 0,(function(){return a(this,(function(t){return[2,new Promise((function(t,n){var o=new Image;o.crossOrigin="anonymous";var a=document.createElement("canvas"),r=a.getContext("2d");o.onload=function(){a.width=o.naturalWidth,a.height=o.naturalHeight,r.drawImage(o,0,0),a.toBlob((function(e){t(e)}),"image/png")},o.onerror=function(e){n(e)},o.src=e}))]}))}))}},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.HowToUseSharePage=t.getPage=void 0;var a,r=n(29),i=n(14);t.getPage=function(){return a};var s=function(e){function t(t){var n=e.call(this,t)||this;return n._eventsInitialized=!1,n.setParams=function(e){n.setState({params:e})},n._onAdded=function(){a=n,n._addEvents()},n._onRemoved=function(){n._removeEvents()},n._addEvents=function(){n._eventsInitialized||(n._eventsInitialized=!0)},n._removeEvents=function(){n._eventsInitialized&&(n._eventsInitialized=!1)},n._onMounted=function(e){e.newValue?n._onAdded():n._onRemoved()},n.render=function(){return React.createElement(i.Page,{pageContent:!1,className:"no-toolbar"},React.createElement("div",{slot:"fixed"},React.createElement("div",{className:"navbar"},React.createElement("div",{className:"navbar-bg"}),React.createElement("div",{className:"navbar-inner sliding",style:{flexDirection:"row"}},React.createElement("a",{className:"link back"},React.createElement("i",{className:"icon icon-back"}),React.createElement("span",{className:"if-not-md"},"\u8fd4\u56de"))))),React.createElement(i.PageContent,{style:{paddingTop:"0px"}},React.createElement(i.Block,null,React.createElement("ul",null,React.createElement("li",null,"\u5546\u6237\u8d77\u6807\u9898\u4e3a\u4e86\u5339\u914d\u66f4\u591a\u5173\u952e\u5b57\u6765\u589e\u52a0\u5e73\u53f0\u6d41\u91cf\uff0c\u6240\u4ee5\u5546\u54c1\u6807\u9898\u4f1a\u6bd4\u8f83\u5570\u55e6\u91cd\u590d\uff0c\u9605\u8bfb\u8d77\u6765\u6d6a\u8d39\u65f6\u95f4\uff0c\u5efa\u8bae\u4fee\u6539\u6210\u77ed\u6807\u9898\u3002"),React.createElement("li",null,"\u8bf7\u4e0d\u8981\u4fee\u6539\u6587\u5b57\u91cc\u9762\u7684\u94fe\u63a5\u90e8\u5206\u3002"),React.createElement("li",null,"\u5148\u590d\u5236\u7f16\u8f91\u540e\u7684\u6587\u5b57\uff0c\u7136\u540e\u957f\u6309\u56fe\u7247\uff0c\u9009\u62e9\u5206\u4eab\u5230\u5fae\u4fe1\uff0c\u5728\u5206\u4eab\u56fe\u7247\u7684\u540c\u65f6\u628a\u6587\u5b57\u7c98\u8d34\u8fdb\u53bb\u53ef\u4ee5\u66f4\u7701\u4e8b\u4e00\u4e9b\u3002"),React.createElement("li",null,"\u793c\u91d1\u662f\u8d2d\u4e70\u65f6\u76f4\u63a5\u53ef\u4ee5\u4ee3\u66ff\u4eba\u6c11\u5e01\u4f7f\u7528\u7684\u3002"),React.createElement("li",null,"\u7ea2\u5305\u662f\u5546\u54c1\u6536\u8d27-\u786e\u8ba4\u6536\u8d27-\u6ca1\u6709\u9000\u6362\u8d27-\u7b49\u5f85\uff08\u6839\u636e\u5e73\u53f0\u4e0d\u540c\uff09\u4e00\u6bb5\u65f6\u95f4\u540e\u7ed3\u7b97\u7684\u3002 \u4e00\u822c\u662f\u6bcf\u4e2a\u6708\u768420-28\u53f7\u4e4b\u95f4\u7ed3\u7b97\u4e0a\u4e2a\u6708\u7684\uff0c\u4eac\u4e1c\u81ea\u8425\u56e0\u4e3a\u786e\u8ba4\u6536\u8d27\u6bd4\u8f83\u5feb\uff0c\u6240\u4ee5\u53ef\u80fd\u5341\u6765\u5929\u5c31\u80fd\u7ed3\u7b97\u3002"),React.createElement("li",null,"\u60a8\u53ef\u4ee5\u521b\u5efa\u793c\u91d1\uff0c\u7ed9\u5176\u4ed6\u4eb2\u670b\u597d\u53cb\u63a8\u8350\u8be5\u793c\u91d1\uff0c\u670b\u53cb\u901a\u8fc7\u8be5\u793c\u91d1\u8d2d\u4e70\u5546\u54c1\u4f1a\u88ab\u89c6\u4e3a\u60a8\u7684\u81ea\u8d2d\uff08\u9700\u60a8\u6ce8\u518c\u4e14\u6709\u4e0a\u7ebf\u6492\u5e01\u4f7f\u8005\uff0c\u6492\u5e01\u4f7f\u8005\u5c31\u662f\u5728\u5fae\u4fe1\u3001QQ\u7fa4\u91cc\u7684\u7ba1\u7406\u5458\uff09\uff0c\u5728\u7ed3\u7b97\u65e5\u4f1a\u6709\u7ba1\u7406\u5458\u5728\u7fa4\u91cc\u7ed9\u60a8\u53d1\u5b9a\u5411\u7ea2\u5305\u3002")))))},n.state={params:null},a=n,n.dispatcher.addEventListener(r.ComponentBase.eventIsMountedChanged,n._onMounted),n}return o(t,e),t}(r.ComponentBase);t.HowToUseSharePage=s},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.model=t.HowToUseSharePageModel=void 0;var a=function(e){function t(){var t=e.call(this)||this;return t.init=function(){},t}return o(t,e),t}(n(33).EventDispatcher);t.HowToUseSharePageModel=a,t.model=new a},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.UserPacksInfo=void 0;var a=n(33),r=n(43),i=function(e){function t(){var t=e.call(this)||this;return t.clear=function(){t.waitingList=[],t.houseList=[]},t._houseList=[],t._waitingList=[],t}return o(t,e),Object.defineProperty(t,"eventHouseListChanged",{get:function(){return"eventHouseListChanged"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"houseList",{get:function(){return this._houseList},set:function(e){if(this._houseList!==e){var n=this._houseList;this._houseList=e;var o=new r.default(t.eventHouseListChanged,n,e,r.default.UPDATE);this.dispatchEvent(o)}},enumerable:!1,configurable:!0}),Object.defineProperty(t,"eventWaitingListChanged",{get:function(){return"eventWaitingListChanged"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"waitingList",{get:function(){return this._waitingList},set:function(e){if(this._waitingList!==e){var n=this._waitingList;this._waitingList=e;var o=new r.default(t.eventWaitingListChanged,n,e,r.default.UPDATE);this.dispatchEvent(o)}},enumerable:!1,configurable:!0}),t}(a.EventDispatcher);t.UserPacksInfo=i},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.GoodsRedEnvelopeJumpPage=t.getPage=void 0;var a,r=n(29),i=n(14),s=n(15),c=n(17),d=n(13),l=n(23),u=n(12),p=n(37),f=n(10),m=n(79),g=n(36),v=n(16),h=n(113);t.getPage=function(){return a};var _=function(e){function t(t){var n=e.call(this,t)||this;return n._eventsInitialized=!1,n._checkingMoble="",n.setParams=function(e){console.log("xxxxxxxxxxxxxxffffffffffff",e),n._loadShareInfo(e)},n._onAdded=function(){a=n,n._addEvents(),n._onLoggedChanged()},n._onRemoved=function(){n._removeEvents()},n._addEvents=function(){n._eventsInitialized||(n._eventsInitialized=!0,u.userModel.user.addEventListener(g.User.eventIsLoggedChanged,n._onLoggedChanged),v.goodsModel.addEventListener(v.GoodsModel.events.onPddWeAppInfoLoaded,n._onPddWeAppInfoLoaded),u.userModel.addEventListener(u.UserModel.eventUserConnectComplete,n._onUserConnectComplete))},n._onUserConnectComplete=function(){n.setState({isLogged:u.userModel.user.isLogged})},n._onLoggedChanged=function(){console.log("user logged is",u.userModel.user.isLogged),n.setState({isLogged:u.userModel.user.isLogged})},n._removeEvents=function(){n._eventsInitialized&&(n._eventsInitialized=!1,u.userModel.user.removeEventListener(g.User.eventIsLoggedChanged,n._onLoggedChanged),v.goodsModel.removeEventListener(v.GoodsModel.events.onPddWeAppInfoLoaded,n._onPddWeAppInfoLoaded),u.userModel.removeEventListener(u.UserModel.eventUserConnectComplete,n._onUserConnectComplete))},n._onMounted=function(e){e.newValue?n._onAdded():n._onRemoved()},n._checkToFetchGoodsDetail=function(){n.state;n.state.isFetchingGoodsDetail||n.state.isLogged&&n.state.params&&n._fetchGoodsDetail()},n._fetchGoodsDetail=function(){n.state.isFetchingGoodsDetail=!0,n.setState({isFetchingGoodsDetail:!0}),h.fetchGoodsDetailData(n.state.params,n)},n._loadShareInfo=function(e){if(e){e=e.toString();var t=new c.default(s.TMs.TShortUrl,s.TMs.MShortUrlShareJumpRead,{t:e},(function(e){var t=JSON.parse(e.params),o=JSON.parse(t.p);o.sharer_id=t.s,n.setState({params:o})}),(function(e){console.log("TMs.TShortUrl, TMs.MShortUrlShareJumpRead net error is",e.netError,e.netErrorInfo)}),(function(e){console.log("TMs.TShortUrl, TMs.MShortUrlShareJumpRead data error is",e.dataError,e.dataErrorInfo)}),(function(e){}),null,!0,!0);d.mainModel.dispatchEvent(new l.Event2(d.MainModel.events.addWaitingMember,t.send))}},n._checkIsWaitingUserLogin=function(){var e=!1;return p.trackingModel.trackingUuid?u.userModel.userConnecting&&(e=!0):e=!0,e&&u.userModel.addEventListener(u.UserModel.eventUserConnectingChanged,n._onUserConnectingChanged),e},n._onUserConnectingChanged=function(){n.setState({userConnecting:u.userModel.userConnecting})},n.onTbDetailLoaded=function(e){e.item_id==n.state.goods.item_id&&n.setState({goods:e})},n._onPddWeAppInfoLoaded=function(e){n.setState({goods:e.data}),n._onGoodsLoaded(e.data)},n.setJdGoods=function(e){if(!e)return f.showSimpleToast("\u83b7\u53d6\u5546\u54c1\u94fe\u63a5\u5931\u8d25");var t=e.goods;if(!t)return f.showSimpleToast("\u6ca1\u6709\u83b7\u53d6\u5230\u5546\u54c1\u94fe\u63a5");console.log("jd goods loaded, goods is",t),n.setState({goods:t}),n._onGoodsLoaded(t)},n.setJdGoodsFailed=function(e){console.log("jd goods failed, goods is",e)},n._onGoodsLoaded=function(e){var t="";switch(e.platform_abbr){case v.GoodsModel.platforms.jd.abbr:t=e.shortURL;break;case v.GoodsModel.platforms.pdd.abbr:t=e.short_url;break;case v.GoodsModel.platforms.vip.abbr:e.we_app_info&&(t=null===e||void 0===e?void 0:e.we_app_info.url)}t&&(window.location.href=t),console.log("redirect url is",t,e.platform_abbr,e)},n.renderContent=function(){return 0==u.userModel.user.isLogged?u.userModel.userConnecting?React.createElement(React.Fragment,null,React.createElement("div",null,"\u6b63\u5728\u9a8c\u8bc1\u60a8\u662f\u5426\u5df2\u7ecf\u767b\u5f55\u8fc7\u3002")):React.createElement(React.Fragment,null,React.createElement("div",null,"\u9886\u7ea2\u5305\u9700\u8981\u60a8\u586b\u5199\u624b\u673a\u53f7\u505a\u672c\u7ad9\u552f\u4e00\u8d26\u53f7\u6765\u767b\u8bb0\u4e00\u4e0b\u60a8\u7684\u4fe1\u606f\uff0c\u4ee5\u4fbf\u4e8e\u6211\u4eec\u8fd9\u8fb9\u533a\u5206\u662f\u54ea\u4f4d\u7684\u8ba2\u5355\u3002"),React.createElement(m.default,null)):React.createElement(React.Fragment,null,React.createElement("div",null,"\u5df2\u4e3a\u60a8\u751f\u6210\u4e13\u4eab\u8d2d\u4e70\u94fe\u63a5\uff0c\u6b63\u5728\u4e3a\u60a8\u8df3\u8f6c\uff0c\u8bf7\u7a0d\u5019\u3002"))},n.render=function(){return React.createElement(i.Page,{pageContent:!1,className:"no-toolbar"},React.createElement(i.PageContent,{style:{paddingTop:"0px"}},n.renderContent()))},n.state={params:null,userConnecting:!1,isLogged:!1,goods:null,isFetchingGoodsDetail:!1},a=n,n.dispatcher.addEventListener(r.ComponentBase.eventIsMountedChanged,n._onMounted),n}return o(t,e),t.prototype._onStateUpdate=function(t){e.prototype._onStateUpdate.call(this,t),this._checkToFetchGoodsDetail()},t}(r.ComponentBase);t.GoodsRedEnvelopeJumpPage=_},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ecommerceChannelJd=void 0,t.ecommerceChannelJd={express:"01",bottom:"02",fission:"03",private:"04"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ecommerceChannelPdd=void 0,t.ecommerceChannelPdd={express:1,bottom:2,fission:3,private:4}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ecommerceChannelVip=void 0,t.ecommerceChannelVip={express:1,bottom:2,fission:3,private:4}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ecommerceChannelTb=void 0,t.ecommerceChannelTb={express:1,bottom:2,fission:3,private:4}},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.model=t.GoodsRedEnvelopeJumpPageModel=void 0;var a=function(e){function t(){var t=e.call(this)||this;return t.init=function(){},t}return o(t,e),t}(n(33).EventDispatcher);t.GoodsRedEnvelopeJumpPageModel=a,t.model=new a},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.localShareMoney=t.LocalShareMoney=void 0;var a=n(33),r=n(18),i=n(118),s=n(12),c=n(36),d=n(22),l="localShareMoney",u=2,p=3,f=200,m=!1,g=!1,v=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.count=0,n.version=0,n.load=function(){var e,t=localStorage.getItem(l);if(!t||""===t)return n.reset();try{e=JSON.parse(t)}catch(o){return console.trace("localShareMoney load error",o),void n.reset()}d.assign(n,e),n.date=new Date(e.date),n.date.toDateString()!==(new Date).toDateString()?n.reset():n.dispatchUpdated()},n.add=function(){n.count++,n.save(),n.dispatchUpdated()},n.canCreate=function(){return n.chance>0},n.checkSameDay=function(){n.date.toDateString()!==(new Date).toDateString()&&n.reset()},n.dispatchUpdated=function(){n.dispatchEvent(new r.Event2(t.updated))},n.reset=function(){n.date=new Date,n.count=0,n.version=1,n.save(),n.dispatchUpdated()},n.save=function(){var e;try{e=JSON.stringify({date:n.date,count:n.count,version:1})}catch(t){return void console.trace("local share money save json stringify error",t)}localStorage.setItem(l,e)},n}return o(t,e),Object.defineProperty(t.prototype,"chance",{get:function(){return g?f-this.count:m?p-this.count:u-this.count},enumerable:!1,configurable:!0}),t.updated="updated",t}(a.EventDispatcher);t.LocalShareMoney=v,t.localShareMoney=new v,t.localShareMoney.load(),i.documentVisibility.addEventListener(i.DocumentVisibility.visibleChange,(function(){t.localShareMoney.checkSameDay()})),s.userModel.user.addEventListener(c.User.eventIsLoggedChanged,(function(){m=s.userModel.user.isLogged,g=s.userModel.user.isSber,t.localShareMoney.dispatchUpdated()}))},function(e,t,n){"use strict";n.r(t),n.d(t,"fetchTbGoodsCouponInfo",(function(){return u}));var o=n(10),a=n(17).Member,r=n(15).TMs,i=n(15),s=(i.MTbGoodsDetail,i.MTbGoodsCouponInfo),c=n(16).goodsModel,d=n(45).TbMember,l=n(22);function u(e,t,n,i){var u,p,f;u=new a(r.TTbGoods,s,{},(function(e){e&&e.params||Object(o.showSimpleToast)("tb no res"),p.send(e.params)}),(function(e){console.log("taobao optimus material tm fail",e),n&&n(e,1)}),(function(e){})),function(){var e=!1;p=new d((function(t){if(console.log("eeeeee onTbSuccess",t),!t)return Object(o.showSimpleToast)("\u6dd8\u5b9d\u6ca1\u6709\u8fd4\u56de");if(!t.tbk_item_info_get_response)return Object(o.showSimpleToast)("\u6dd8\u5b9d\u6ca1\u6709\u8fd4\u56de\u6570\u636e");if(!t.tbk_item_info_get_response.results)return Object(o.showSimpleToast)("\u6dd8\u5b9d\u6ca1\u6709\u8fd4\u56de\u5217\u8868");if(!t.tbk_item_info_get_response.results.n_tbk_item)return Object(o.showSimpleToast)("\u6dd8\u5b9d\u6ca1\u6709\u8fd4\u56de\u5546\u54c11");if(!t.tbk_item_info_get_response.results.n_tbk_item[0])return Object(o.showSimpleToast)("\u6dd8\u5b9d\u6ca1\u6709\u8fd4\u56de\u5546\u54c12");var n=t.tbk_item_info_get_response.results.n_tbk_item[0];l.assign(f,n),c.parseTbGoods(f),e=!0,m(f),e=!0}),(function(e){console.log("taobao optimus material tb fail",e),n&&n(e,2)}),(function(t){i&&i(t,e)}))}();var m=t;f=e;var g={me:e.coupon_share_url};u.body={params:g},u.send()}},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.SinglePlatformSearch=void 0;var a=n(29),r=n(76),i=n(51),s=n(16),c=n(34),d=n(110),l=!0,u=function(e){function t(t){var n=e.call(this,t)||this;n._onSizeMeasured=function(e){l=!1,n.setState({showTestItem:!1}),console.log("___________",e)},n.renderGoods=function(){},n.render=function(){var e=n.state.list,t=React.createElement(React.Fragment,null);return e&&0==e.length?t=React.createElement("div",null,"\u60a8\u8981\u641c\u7d22\u7684\u5546\u54c1\u6ca1\u6709\u52a0\u5165",n.state.platform.name,"\u63a8\u5e7f\u8ba1\u5212\uff0c\u8bf7\u60a8\u8bd5\u8bd5\u522b\u7684\u5427\u3002"):e&&e.length>0&&(t=React.createElement(d.GoodsList,{items:e,height:i.model.goodsItemHeight})),React.createElement("div",null,t)};var o=[];switch(i.model.platform){case s.GoodsModel.platforms.jd:o=s.goodsModel.jdGoodsSearchResult;break;case s.GoodsModel.platforms.pdd:o=s.goodsModel.pddGoodsSearchResult;break;case s.GoodsModel.platforms.vip:o=s.goodsModel.vipGoodsSearchResult;break;case s.GoodsModel.platforms.tb:o=s.goodsModel.tbGoodsSearchResult;break;default:if(c.isProd)break;throw console.trace("in SinglePlatformSearch unknow platform",i.model.platform),"in SinglePlatformSearch unknow platform"+JSON.stringify(i.model.platform)}return n.state={showTestItem:l,platform:i.model.platform,list:o},i.model.addEventListener(r.GoodsListItemMeasure.GoodsListItemSizeMeasured,n._onSizeMeasured),n}return o(t,e),t}(a.ComponentBase);t.SinglePlatformSearch=u},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.GoodsSearchBar=void 0;var a=n(29),r=n(25),i=n(18),s=n(16),c=n(157),d=n(158),l=n(162),u=n(163),p=n(164),f=n(14),m=n(51),g=n(34),v=n(165),h=!!g.isProd,_=function(e){function t(t){var n=e.call(this,t)||this;return n._isOnComposition=!0,n._eventsInitialized=!1,n._addEvents=function(){n._eventsInitialized||(n._eventsInitialized=!0)},n._removeEvents=function(){n._eventsInitialized&&(n._eventsInitialized=!1)},n._onMounted=function(e){n._laterTest(),e.newValue?(n._addEvents(),n._laterTest()):n._removeEvents()},n._laterTest=function(){if(!g.isProd&&!h){h=!0;n.setState({searchText:"\u77ed\u9774"}),setTimeout((function(){n._onSeachClick({})}),3e3)}},n._onBackClick=function(){r.pageModel.dispatchEvent(new i.Event2(r.PageModel.routerCallBackEventName,{url:"/"}))},n._onSearchbarSearch=function(e){console.log(" on search bar search ",e)},n._onSearchDisable=function(e){console.log("on search disable ",e)},n._onSearchbarKeyDown=function(e){13===e.which&&n._checkSearch()},n._onSeachClick=function(e){n._checkSearch()},n._checkSearch=function(){var e=n.state.searchText;n._search(e,!0)},n._onSearchTextChange=function(e){n.setState({searchText:e.target.value})},n._onSearchclearClick=function(){n.setState({searchText:""}),m.model.searchType=m.Model.SearchType.None},n._onSearchResultChanged=function(){},n._search=function(e,t){if(e&&n._isMounted){s.goodsModel.clearSearchResult(),n._onSearchResultChanged();var o=n.state.searchInfo=c.checkSearchUrlInfo(e),a=o.isUrl,r=o.platform;o.tbUrl;if(m.model.searchType=a?m.Model.SearchType.Url:m.Model.SearchType.Key,n.state.searchInfo.searchIsBack=!1,n.setState({searchInfo:n.state.searchInfo}),a)switch(e=c.completeSearchUrl(e),r){case"vip":u.vipDdxSearchQuery({keyword:e,page:1,pageSize:10}),m.model.platform=s.GoodsModel.platforms.vip;break;case"jd":l.jdDdxSearchQuery({keyword:e}),m.model.platform=s.GoodsModel.platforms.jd;break;case"pdd":d.pddGoodsSearchRequest.fetch({keyword:e,use_customized:!1,with_coupon:!1}),m.model.platform=s.GoodsModel.platforms.pdd;break;case"tb":v.tbUrlSearch(e),m.model.platform=s.GoodsModel.platforms.tb;break;default:d.pddGoodsSearchRequest.fetch({keyword:e,use_customized:!1,with_coupon:!1}),l.jdDdxSearchQuery({keyword:e})}else d.pddGoodsSearchRequest.fetch({keyword:e,use_customized:!1,with_coupon:!1}),l.jdDdxSearchQuery({keyword:e}),u.vipDdxSearchQuery({keyword:e,page:1,pageSize:10}),p.tbGoodsSearch({q:e});n._setModal(e.length>0),t&&n._addHistory(e)}},n._onCompositionStart=function(){console.log("set false"),n._isOnComposition=!1},n._onCompositionEnd=function(){console.log("set true"),n._isOnComposition=!0},n._onInput=function(){setTimeout((function(){n._isOnComposition&&n.setState({searchText:n.state.searchText})}),100)},n._setModal=function(e){},n._addHistory=function(e){},n.render2=function(){return React.createElement(f.Navbar,null,React.createElement("div",{style:{display:"flex",width:"100%"}},React.createElement("a",{href:"#",className:"link back"},React.createElement("i",{className:"icon icon-back"})),React.createElement("form",{className:"searchbar searchbar-init",style:{flex:1}},React.createElement("div",{className:"searchbar-inner"},React.createElement("div",{className:"searchbar-input-wrap"},React.createElement("input",{style:{paddingLeft:"0px",paddingRight:"0px"},id:"search",type:"search",onChange:n._onSearchTextChange,onKeyPress:n._onSearchbarKeyDown,value:n.state.searchText,placeholder:"\u8bf7\u8f93\u5165\u5546\u54c1\u94fe\u63a5\u6216\u5173\u952e\u5b57"}),React.createElement("span",{onClick:n._onSearchclearClick,className:"input-clear-button"})),React.createElement("div",{slot:"inner-end"},React.createElement(f.Button,{onClick:n._onSeachClick,color:""},"\u641c\u7d22"))))))},n.render=function(){return React.createElement(f.Navbar,null,React.createElement("div",{style:{display:"flex",width:"100%"}},React.createElement("a",{href:"#",className:"link back"},React.createElement("i",{className:"icon icon-back"})),React.createElement("form",{className:"searchbar searchbar-init",style:{flex:1}},React.createElement("div",{className:"searchbar-inner"},React.createElement("div",{className:"searchbar-input-wrap"},React.createElement("input",{style:{paddingLeft:"0px",paddingRight:"0px"},id:"search2",type:"search",onKeyPress:n._onSearchbarKeyDown,onChange:n._onSearchTextChange,placeholder:"\u5546\u54c1\u94fe\u63a5\u3001\u6807\u9898\u6216\u5173\u952e\u5b57"}),React.createElement("span",{className:"input-clear-button"})),React.createElement("div",{slot:"inner-end"},React.createElement(f.Button,{onClick:n._onSeachClick,color:""},"\u641c\u7d22"))))))},n.render3=function(){return React.createElement("div",{className:"navbar"},React.createElement("div",{className:"navbar-bg"}),React.createElement("div",{className:"navbar-inner sliding"},React.createElement("a",{href:"#",className:"link back"},React.createElement("i",{className:"icon icon-back"})),React.createElement("div",{className:"item-content item-input",style:{width:"100%"}},React.createElement("div",{className:"item-inner",style:{width:"100%"}},React.createElement("div",{className:"item-input-wrap",style:{width:"100%",display:"inline"}},React.createElement("input",{style:{width:"100%",float:"left"},type:"text",placeholder:"\u5546\u54c1\u94fe\u63a5\u3001\u6807\u9898\u6216\u5173\u952e\u5b57"}),React.createElement("i",{className:"searchbar-icon",style:{position:"static",float:"right"}}),React.createElement("span",{className:"input-clear-button",style:{marginRight:" 3rem"}})),React.createElement("div",{style:{display:"inline"}})))))},n.state={searchText:""},n.dispatcher.addEventListener(a.ComponentBase.eventIsMountedChanged,n._onMounted),n}return o(t,e),t}(a.ComponentBase);t.GoodsSearchBar=_},function(e,t){e.exports={checkSearchUrlInfo:function(e){var t={isUrl:!1,platform:"",tbUrl:""};if(function(e){for(var t=["vip.com/","vip.cn/"],n=0;n<t.length;n++)if(e.indexOf(t[n])>-1)return!0;return!1}(e))return t.isUrl=!0,t.platform="vip",t;if(function(e){for(var t=["yangkeduo.com","yangkeduo.cn","pinduoduo.com","pinduoduo.cn"],n=0;n<t.length;n++)if(e.indexOf(t[n])>-1)return!0;return!1}(e))return t.isUrl=!0,t.platform="pdd",t;if(function(e){for(var t=["jd.com","jd.cn","jingxi.com","jingxi.cn"],n=0;n<t.length;n++)if(e.indexOf(t[n])>-1)return!0;return!1}(e))return t.isUrl=!0,t.platform="jd",t;var n=function(e){for(var t=["tb.cn","tb.com","taobao.com","taobao.cn","tmall.com","tmall.cn"],n={isUrl:!1,url:""},o=0;o<t.length;o++)if(e.indexOf(t[o])>-1){var a=e.match(/\bhttps?:\/\/\S+/gi);if(1==a.length)return n.isUrl=!0,n.url=a[0],n}return n}(e),o=n.isUrl,a=n.url;return o?(t.isUrl=!0,t.tbUrl=a,t.platform="tb",t):t},completeSearchUrl:function(e){if(0==e.indexOf("https://"))return e;if(0==e.indexOf("//"))return"https:".concat(e);e.split("/");var t=e.indexOf("/"),n=e.slice(0,t);n=n.replace(/\s+/g,"");var o=e.slice(t);return"https://".concat(n).concat(o)}}},function(e,t,n){"use strict";n.r(t),n.d(t,"pddGoodsSearchRequest",(function(){return f}));var o=n(8),a=n(27),r=n(26),i=n(4),s=n(16).goodsModel,c=n(75).endpoints,d=n(159).TmPddRequest,l=n(15).TMs,u="pdd goods search";function p(e){return e&&e.error_response?i.a.toast.create({closeTimeout:3e3,text:"pdd\u641c\u7d22\u65f6\u8fd4\u56de\u9519\u8bef\u4fe1\u606f",destroyOnClose:!0}).open():e&&e.goods_search_response&&e.goods_search_response.goods_list?void(e&&e.goods_search_response&&e.goods_search_response.goods_list&&1==e.goods_search_response.goods_list.length&&!e.goods_search_response.goods_list[0].goods_name?s.setPddSearchResult({goods_search_response:{goods_list:[]}}):s.setPddSearchResult(e.goods_search_response)):i.a.toast.create({closeTimeout:3e3,text:"pdd\u6ca1\u6709\u8fd4\u56de\u6570\u636e",destroyOnClose:!0}).open()}var f=new(function(e){Object(a.a)(n,e);var t=Object(r.a)(n);function n(e,a,r,i,s,c,d){return Object(o.a)(this,n),t.call(this,l.TPddGoods,l.MPddGoodsSearch,e,a,r,i,s,c,d)}return n}(d))((function(e){return e?e.is_ok?void p(JSON.parse(e.res_text)):i.a.toast.create({closeTimeout:3e3,text:"".concat(u," ").concat(e.msg),destroyOnClose:!0}).open():i.a.toast.create({closeTimeout:3e3,text:u+"\u6ca1\u6709\u8fd4\u56de\u6570\u636e",destroyOnClose:!0}).open()}),(function(e){console.log(u,"onMemberError is",e)}),(function(e){}),c.goodsSearch(),p,(function(e){console.log(u,"onThirdError is",e)}),(function(e){}))},function(e,t,n){"use strict";n.r(t),n.d(t,"TmPddRequest",(function(){return d}));var o=n(8),a=n(13),r=n(17),i=n(160),s=i.TMRequest,c=i.EndPointRequest,d=(n(15),function e(t,n,i,d,l,u,p,f,m){var g=this;Object(o.a)(this,e),this.fetch=function(e){g.tmParams=e,g.tm.run()},this.fetchPdd=function(e){g.pddParams=e,g.pdd.run()},this.getTmData=function(){return"params"in g.tmParams?g.tmParams:{from:"web",open_key_uuid:a.openid,params:g.tmParams}},this.getPddData=function(){return g.pddParams},this.tm=new s(r.gateway,t,n,i,d,l,this.getTmData),this.pdd=new c(u,p,f,m,this.getPddData),this.tmParams=null,this.pddParams=null,this.isConnecting=!1})},function(e,t,n){"use strict";n.r(t),n.d(t,"states",(function(){return p})),n.d(t,"Request",(function(){return f})),n.d(t,"TMRequest",(function(){return m})),n.d(t,"EndPointRequest",(function(){return g})),n.d(t,"JdRequest",(function(){return v})),n.d(t,"TbRequest",(function(){return h}));var o=n(27),a=n(26),r=n(8),i=n(22),s=n(161).JdMember,c=n(17).Member,d=n(74).PddMember,l=n(45).TbMember,u="idel",p={fetchStateIdle:u,fetchStateConnecting:"connecting",fetchStateResultOk:"ok",fetchStateResultError:"error"},f=function e(t,n,o,a,s){var c=this;Object(r.a)(this,e),this.getState=function(){return c.state},this.getData=function(){var e=c.params;return i.isFunction(e)&&(e=e()),e},this.run=function(){c.send(c.getData())},this.send=function(e){},this.state=u,this.result=null,this.errResult=null,this.params=a,this.onResult=t,this.onError=n,this.onComplete=o,this.send=s},m=function(e){Object(o.a)(n,e);var t=Object(a.a)(n);function n(e,o,a,i,s,d,l){var u;if(Object(r.a)(this,n),(u=t.call(this,i,s,d,l)).send=function(e){var t=u.getData();(t=t||{}).from="web",new c(u.team,u.member,t,u.onResult,u.onResultError,u.onComplete).send(u.gateway)},u.team=o,u.member=a,!o)throw"TMRequest no team here";return u.gateway=e,u}return n}(f),g=function(e){Object(o.a)(n,e);var t=Object(a.a)(n);function n(e,o,a,i,s){var c;return Object(r.a)(this,n),(c=t.call(this,o,a,i,s)).send=function(e){new d(c.endpoint,c.getData(),c.onResult,c.onResultError,c.onComplete).send()},c.endpoint=e,c}return n}(f),v=function(e){Object(o.a)(n,e);var t=Object(a.a)(n);function n(e,o,a,i){var c;return Object(r.a)(this,n),(c=t.call(this,e,o,a,i)).send=function(e){new s(c.onResult,c.onResultError,c.onComplete).send(e)},c}return n}(f),h=function(e){Object(o.a)(n,e);var t=Object(a.a)(n);function n(e,o,a,i){var s;return Object(r.a)(this,n),(s=t.call(this,e,o,a,i)).send=function(e){new l(s.onResult,s.onResultError,s.onComplete).send(e)},s}return n}(f)},function(e,t,n){"use strict";n.r(t),n.d(t,"JdMember",(function(){return s}));var o=n(8),a=n(21),r=n(4),i=n(24),s=function(){function e(t,n,a){var i=this;Object(o.a)(this,e),this._onError=function(e){i.onFail&&i.onFail(e)},this._onSuccess=function(e){var t=e.res;if(!t||!t.data||200!=t.data.code)return i.onFail&&i.onFail(t),r.a.toast.create({closeTimeout:3e3,text:"\u8ba2\u5355\u4fa0\u4eac\u4e1c\u6ca1\u6709\u8fd4\u56de\u6570\u636e",destroyOnClose:!0}).open();i.onSuccess&&i.onSuccess(t.data)},this._onComplete=function(e){i.isConnecting=!1,i.onComplete&&i.onComplete()},this.onSuccess=t,this.onError=n,this.onComplete=a,this.retryCount=0,this.member=null,this.rawQuery="",this.isConnecting=!1}return Object(a.a)(e,[{key:"send",value:function(t){var n=e.gateway,o=this.member=new i.CrossMember;o.addEventListener(i.CrossEvent.EventTypes.onError,this._onError),o.addEventListener(i.CrossEvent.EventTypes.onSuccess,this._onSuccess),o.addEventListener(i.CrossEvent.EventTypes.onComplete,this._onComplete),o.load(i.CrossMember.Methods.get,n+"?"+t,null,{"content-type":"application/json"})}}]),e}();s.gateway="https://api.jd.com/routerjson"},function(e,t,n){const{goodsModel:o}=n(16),{DdxRequest:a}=n(44);let r="//api.tbk.dingdanxia.com/jd/query_goods";const i=new a(r,null,(function(e){o.setJdDdxSearchResult(e)}),(function(e){console.log("jd ddx search query tag","onFail is",e)}),(function(e){})," \u4eac\u4e1c\u641c\u7d22");e.exports={jdDdxSearchQuery:function(e){i.isConnecting||i.send(r,e,"jd search")}}},function(e,t,n){"use strict";n.r(t),n.d(t,"vipDdxSearchQuery",(function(){return l}));var o=n(16).goodsModel,a=n(13),r=n(44).DdxRequest,i=n(22),s="//api.tbk.dingdanxia.com/vip/query",c=!1;var d=new r(s,null,(function(e){if(e&&e.data)if(c){var t=e.data,n=t.itemInfo;if("couponInfo"in n){var a=n.couponInfo;delete n.couponInfo,t.couponInfo=a}i.extend(t,n),o.setVipDdxSearchResult({data:[t]})}else o.setVipDdxSearchResult(e)}),(function(e){console.log("vip ddx search query tag","onFail is",e)}),(function(e){})," \u552f\u54c1\u4f1a\u641c\u7d22");function l(e){if(!d.isConnecting){c=e.keyword.indexOf("vip.com/")>-1;var t=s;c&&(t="//api.tbk.dingdanxia.com/vip/url_privilege",e={url:e.keyword,chanTag:"web",statParam:a.user?a.user.mobile:"1000",itemInfo:!0}),d.send(t,e)}}},function(e,t,n){"use strict";n.r(t),n.d(t,"tbGoodsSearch",(function(){return f}));var o=n(4),a=n(16).goodsModel,r=n(17).Member,i=n(45).TbMember,s=n(15).TMs,c=n(62),d=c.RecommendPageInfo,l=c.saveKeys,u=c.PageInfo;(new d).init(l.tb,[31362,4093,27160,32366,34616,4094,13366,3786,27446,30443,28026,3756,4092],0,10);var p;new u;function f(e){p.body={params:e,from:"web"},p.send()}p=new r(s.TTbGoods,s.MTbGoodsTbkDgMaterialOptional,{},(function(e){if(!e||!e.res_text)return o.a.toast.create({closeTimeout:3e3,text:"\u6dd8\u5b9d\u641c\u7d22\u670d\u52a1\u5668\u6ca1\u6709\u8fd4\u56de ",destroyOnClose:!0}).open();var t;try{t=JSON.parse(e.res_text)}catch(n){return o.a.toast.create({closeTimeout:3e3,text:"\u6dd8\u5b9d\u641c\u7d22\u89e3\u6790\u6570\u636e\u9519\u8bef ",destroyOnClose:!0}).open()}return t.tbk_dg_material_optional_response?t.tbk_dg_material_optional_response.result_list?t.tbk_dg_material_optional_response.result_list.map_data?void a.setTbGoodsSearchResult(t.tbk_dg_material_optional_response.result_list.map_data):o.a.toast.create({closeTimeout:3e3,text:"\u6dd8\u5b9d\u641c\u7d22\u670d\u52a1\u5668\u6ca1\u6709\u8fd4\u56de map_data",destroyOnClose:!0}).open():o.a.toast.create({closeTimeout:3e3,text:"\u6dd8\u5b9d\u641c\u7d22\u670d\u52a1\u5668\u6ca1\u6709\u8fd4\u56de result_list",destroyOnClose:!0}).open():o.a.toast.create({closeTimeout:3e3,text:"\u6dd8\u5b9d\u641c\u7d22\u670d\u52a1\u5668\u6ca1\u6709\u8fd4\u56de tbk_dg_material_optional_response",destroyOnClose:!0}).open()}),(function(e){console.log("taobao optimus material tm fail",e)}),(function(e){})),new i((function(e){return e?e.tbk_dg_optimus_material_response?e.tbk_dg_optimus_material_response.result_list?e.tbk_dg_optimus_material_response.result_list.map_data?void a.setTbGoodsList(e.tbk_dg_optimus_material_response.result_list.map_data):o.a.toast.create({closeTimeout:3e3,text:"\u6dd8\u5b9d\u641c\u7d22\u6ca1\u6709\u8fd4\u56demap ",destroyOnClose:!0}).open():o.a.toast.create({closeTimeout:3e3,text:"\u6dd8\u5b9d\u641c\u7d22\u6ca1\u6709\u8fd4\u56de\u5217\u8868 ",destroyOnClose:!0}).open():o.a.toast.create({closeTimeout:3e3,text:"\u6dd8\u5b9d\u641c\u7d22\u6ca1\u6709\u8fd4\u56de\u6570\u636e ",destroyOnClose:!0}).open():o.a.toast.create({closeTimeout:3e3,text:"\u6dd8\u5b9d\u641c\u7d22\u6ca1\u6709\u8fd4\u56de ",destroyOnClose:!0}).open()}),(function(e){console.log("taobao optimus material tb fail",e)}),(function(e){}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tbUrlSearch=void 0;var o,a=n(16),r=n(10),i=n(44).DdxRequest,s=n(22),c="//api.tbk.dingdanxia.com/tbk/tkl_privilege",d="tb ddx url goods search  tag";o=new i(c,null,(function(e){if(console.log(d,"onSuccess is",e),!e||!e.data)return r.showSimpleToast("\u6ca1\u6709\u83b7\u53d6\u5230\u6dd8\u5b9d\u5546\u54c1id\u8fd4\u56de\u6570\u636e");if(200!==e.code)return r.showSimpleToast("\u83b7\u53d6\u6dd8\u5b9d\u5546\u54c1id\u65f6code\u4e0d\u7b49\u4e8e200");var t=e.data.itemInfo;delete e.data.itemInfo,s.assign(t,e.data),t.commission_rate=t.qh_final_commission,t.coupon_amount=t.coupon,a.goodsModel.setTbGoodsSearchResult([t])}),(function(e){console.log(d,"onFail is",e)}),(function(e){})),t.tbUrlSearch=function(e){var t={tkl:e,itemInfo:!0};o.send(c,t)}},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.CaiCaiBi=void 0;var a=n(29),r=n(14),i=n(18),s=n(13),c=n(17),d=n(15),l=n(54),u=n(80),p=function(e){function t(t){var n=e.call(this,t)||this;return n._eventsInitialized=!1,n._onAdded=function(){n._addEvents(),n._fetchCaiCaiBiInfo()},n._onRemoved=function(){n._removeEvents()},n._addEvents=function(){n._eventsInitialized||(n._eventsInitialized=!0)},n._removeEvents=function(){n._eventsInitialized&&(n._eventsInitialized=!1)},n._onMounted=function(e){e.newValue?n._onAdded():n._onRemoved()},n._setCaiCaiBiAmountInfo=function(e){var t=[];t.push({name:"\u4eac\u4e1c",unclaimedAmount:e.jd_promotion_processing_fee,amount:0,link:u.OrdersJdRouter.path}),t.push({name:"\u6dd8\u5b9d",unclaimedAmount:0,amount:e.tb_promotion_processing_fee,link:"#"}),t.push({name:"\u62fc\u591a\u591a",unclaimedAmount:e.pdd_promotion_processing_fee,amount:0,link:"#"}),t.push({name:"\u552f\u54c1\u4f1a",unclaimedAmount:e.vip_promotion_processing_fee,amount:0,link:"#"}),t.push({name:"\u5408\u8ba1",unclaimedAmount:e.jd_promotion_processing_fee+e.pdd_promotion_processing_fee+e.vip_promotion_processing_fee,amount:0,link:""}),n.setState({items:t})},n._fetchCaiCaiBiInfo=function(){var e=n._caiCaiBiMember=new c.Member(d.TMs.TFanliCustomer,d.TMs.MFanliCustomerFanliAmountInfo,{},(function(e){n._setCaiCaiBiAmountInfo(e.body)}),(function(e){console.log("TMs.TFanliCustomer, TMs.MFanliCustomerFanliAmountInfo net error is",e.netError,e.netErrorInfo)}),(function(e){console.log("TMs.TFanliCustomer, TMs.MFanliCustomerFanliAmountInfo data error is",e.dataError,e.dataErrorInfo)}),(function(e){}),null,!0,!0);s.mainModel.dispatchEvent(new i.Event2(s.MainModel.events.addWaitingMember,e.send))},n._onTbOrderClaimClick=function(){r.f7.views.main.router.navigate({path:l.TbOrderClaimRouter.path})},n.render=function(){var e=n.state.items;return React.createElement(r.Card,null,React.createElement(r.CardHeader,null,React.createElement("span",null,"\u4ee3\u91d1\u5e01"),React.createElement(r.Button,{onClick:n._onTbOrderClaimClick},"\u8ba4\u9886\u6dd8\u5b9d\u8ba2\u5355")),React.createElement(r.CardContent,null,React.createElement(r.List,{mediaList:!0},e.map((function(e,t){return React.createElement(r.ListItem,{key:t,title:e.name+(t>0?"--\u5f00\u53d1\u4e2d":""),link:e.link,after:0===t?"\u8be6\u60c5":""},React.createElement(r.Row,null,"\u5f85\u9886\u53d6--",e.amount),React.createElement(r.Row,null,"\u672a\u7ed3\u7b97--",e.unclaimedAmount))}))),React.createElement(r.Row,null)))},n.state={items:[]},n.dispatcher.addEventListener(a.ComponentBase.eventIsMountedChanged,n._onMounted),n}return o(t,e),t}(a.ComponentBase);t.CaiCaiBi=p},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.TbOrderClaimPage=t.getPage=void 0;var a,r=n(29),i=n(14),s=n(15),c=n(17),d=n(23),l=n(13),u=n(34);t.getPage=function(){return a};var p="hasSettled",f=function(e){function t(t){var n=e.call(this,t)||this;return n._eventsInitialized=!1,n._test=function(){setTimeout((function(){n._addOrder(n.state.trade_parent_id)}),300)},n.setParams=function(e){n.setState({params:e})},n._onAdded=function(){a=n,n._addEvents(),u.isProd||n._test()},n._onRemoved=function(){n._removeEvents()},n._addEvents=function(){n._eventsInitialized||(n._eventsInitialized=!0)},n._removeEvents=function(){n._eventsInitialized&&(n._eventsInitialized=!1)},n._onMounted=function(e){e.newValue?n._onAdded():n._onRemoved()},n._onTradeParentIdChange=function(e){n.setState({trade_parent_id:e.target.value})},n._onAddOrderClick=function(){n._addOrder(n.state.trade_parent_id)},n._addOrder=function(e){var t=new c.Member(s.TMs.TFanliCustomer,s.TMs.MFanliCustomerAddTbOrderNo,{trade_parent_id:e},(function(e){var t=e.orders;t&&0!=t.length?(n.setState({orderNoRes:e}),console.log("TMs.TFanliCustomer, TMs.MFanliCustomerAddTbOrderNo res is",e)):i.f7.dialog.alert("\u6539\u5355\u53f7\u6ca1\u6709\u8ba2\u5355")}),(function(e){console.log("TMs.TFanliCustomer, TMs.MFanliCustomerAddTbOrderNo net error is",e.netError,e.netErrorInfo)}),(function(e){console.log("TMs.TFanliCustomer, TMs.MFanliCustomerAddTbOrderNo data error is",e.dataError,e.dataErrorInfo)}),(function(e){console.log("TMs.TFanliCustomer, TMs.MFanliCustomerAddTbOrderNo complete is",e.isNetOk,e.isDataOk,e.isTotallyOk)}),null,!0,!0);l.mainModel.dispatchEvent(new d.Event2(l.MainModel.events.addWaitingMember,t.send)),console.log("mmmmmmmmmmmm")},n._onFetchOrderBack=function(e){e.status},n._createOrderNoResElement=function(){if(!n.state.orderNoRes)return React.createElement(React.Fragment,null);var e=n.state.orderNoRes,t="\u8be5\u5355\u53f7\u6dfb\u52a0\u5230\u60a8\u7684\u6dd8\u5b9d\u8ba2\u5355\u5217\u8868\u6210\u529f";if(e.status===p)t="\u8be5\u8ba2\u5355\u5df2\u88ab\u4ed6\u4eba\u8ba4\u9886\uff0c\u8bf7\u52a0\u5ba2\u670d\u5fae\u4fe1\u5904\u7406";return setTimeout((function(){i.f7.card.open(".tb_order_claim_card_expandable",!0),i.f7.once("cardClosed",(function(){n.setState({orderNoRes:null})}))}),100),React.createElement("div",{className:"card card-expandable tb_order_claim_card_expandable"},React.createElement("div",{className:"card-content"},React.createElement("div",{className:"bg-color-yellow",style:{height:"auto"}},React.createElement("div",{className:"card-header text-color-black display-block"},n.state.trade_parent_id,React.createElement("br",null),React.createElement("small",{style:{opacity:.7}},t)),React.createElement("a",{onClick:function(){setTimeout((function(){}),200)},href:"#",className:"link card-close card-opened-fade-in color-black",style:{position:"absolute",right:"15px",top:"15px"}},React.createElement("i",{className:"icon f7-icons"},"xmark_circle_fill"))),React.createElement("div",{className:"card-content-padding"},React.createElement(i.List,null,e.orders.map((function(e,t){var n="\u672a\u77e5"+e.tk_status;switch(e.tk_status){case 3:n="\u8ba2\u5355\u5df2\u7ed3\u7b97";break;case 12:n="\u8ba2\u5355\u5df2\u4ed8\u6b3e";break;case 13:n="\u8ba2\u5355\u5df2\u5931\u6548";break;case 14:n="\u8ba2\u5355\u5df2\u6210\u529f"}return React.createElement(i.Block,null,React.createElement(i.BlockHeader,null,React.createElement("h2",null,e.item_title)),React.createElement(i.Row,{style:{fontSize:"0.7rem"}},React.createElement(i.Col,{width:33},React.createElement("img",{src:e.item_img,width:"100%"})),React.createElement(i.Col,{width:66},React.createElement(i.Row,null,"\u5b9e\u9645\u652f\u4ed8\u91d1\u989d\uff1a",e.alipay_total_price,"\u5143"),React.createElement(i.Row,null,"\u4e0b\u5355\u65f6\u95f4\uff1a",e.tk_create_time),React.createElement(i.Row,null,"\u8ba2\u5355\u72b6\u6001\uff1a",n))))}))))))},n.render=function(){return React.createElement(i.Page,{pageContent:!1,className:"no-toolbar"},React.createElement("div",{className:"navbar"},React.createElement("div",{className:"navbar-bg"}),React.createElement("div",{className:"navbar-inner sliding",style:{flexDirection:"row"}},React.createElement("a",{className:"link back"},React.createElement("i",{className:"icon icon-back"}),React.createElement("span",{className:"if-not-md"},"\u8fd4\u56de")))),React.createElement(i.PageContent,null,React.createElement(i.Block,null,React.createElement(i.Row,null,"\u6dd8\u5b9d\u8ba2\u5355\u8bc6\u522b\u6709\u4e9b\u7279\u6b8a\uff0c\u6709\u4e24\u79cd\u65b9\u6cd5\u6765\u505a\u3002"),React.createElement(i.Row,null,"1\uff1a\u60a8\u5728\u6dd8\u5b9d\u8d2d\u4e70\u5546\u54c1\u540e\uff0c\u590d\u5236\u8ba2\u5355\u53f7\uff0c\u5230\u8fd9\u91cc\u6765\u6dfb\u52a0\u3002")),React.createElement(i.List,{noHairlinesMd:!0},React.createElement(i.ListInput,{floatingLabel:!0,label:"\u6dd8\u5b9d\u8ba2\u5355\u53f7",type:"text",placeholder:"\u6dd8\u5b9d\u8ba2\u5355\u53f7\uff0c\u7c98\u8d34\u5230\u8fd9\u91cc\u3002",clearButton:!0,value:n.state.trade_parent_id,onChange:n._onTradeParentIdChange},React.createElement(i.Icon,{icon:"demo-list-icon",slot:"media"}),React.createElement(i.Button,{onClick:n._onAddOrderClick,slot:"input"},"\u6dfb\u52a0\u8ba2\u5355"))),n._createOrderNoResElement()))},n.state={params:null,trade_parent_id:u.isProd?"":"2107821636184019365",orderNoRes:null},a=n,n.dispatcher.addEventListener(r.ComponentBase.eventIsMountedChanged,n._onMounted),n}return o(t,e),t}(r.ComponentBase);t.TbOrderClaimPage=f},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.model=t.TbOrderClaimPageModel=void 0;var a=function(e){function t(){var t=e.call(this)||this;return t.init=function(){},t}return o(t,e),t}(n(33).EventDispatcher);t.TbOrderClaimPageModel=a,t.model=new a},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.OrdersJdPage=t.getPage=void 0;var a=n(29),r=n(120),i=n(14),s=n(15),c=n(17),d=n(13),l=n(23),u=n(38),p=n(0);n(170);var f,m=n(12),g=n(36);t.getPage=function(){return f};var v={"-1":"\u672a\u77e5",2:"\u65e0\u6548-\u62c6\u5355",3:"\u65e0\u6548-\u53d6\u6d88",4:"\u65e0\u6548-\u4eac\u4e1c\u5e2e\u5e2e\u4e3b\u8ba2\u5355",5:"\u65e0\u6548-\u8d26\u53f7\u5f02\u5e38",6:"\u65e0\u6548-\u8d60\u54c1\u7c7b\u76ee\u4e0d\u8fd4\u4f63",7:"\u65e0\u6548-\u6821\u56ed\u8ba2\u5355",8:"\u65e0\u6548-\u4f01\u4e1a\u8ba2\u5355",9:"\u65e0\u6548-\u56e2\u8d2d\u8ba2\u5355",11:"\u65e0\u6548-\u4e61\u6751\u63a8\u5e7f\u5458\u4e0b\u5355",13:"\u65e0\u6548-\u8fdd\u89c4\u8ba2\u5355",14:"\u65e0\u6548-\u6765\u6e90\u4e0e\u5907\u6848\u7f51\u5740\u4e0d\u7b26",15:"\u5f85\u4ed8\u6b3e",16:"\u5df2\u4ed8\u6b3e",17:"\u5df2\u5b8c\u6210\uff08\u8d2d\u4e70\u7528\u6237\u786e\u8ba4\u6536\u8d27\uff09",19:"\u65e0\u6548-\u4f63\u91d1\u6bd4\u4f8b\u4e3a0",20:"\u65e0\u6548-\u6b64\u590d\u8d2d\u8ba2\u5355\u5bf9\u5e94\u7684\u9996\u8d2d\u8ba2\u5355\u65e0\u6548",21:"\u65e0\u6548-\u4e91\u5e97\u8ba2\u5355",22:"\u65e0\u6548-PLUS\u4f1a\u5458\u4f63\u91d1\u6bd4\u4f8b\u4e3a0",23:"\u65e0\u6548-\u652f\u4ed8\u6709\u793c",24:"\u5df2\u4ed8\u5b9a\u91d1"},h={showInfinitScrollPreloader:!1,firstConnectComplete:!1,orderDataIsTotallyLoaded:!1,orders:[],vl:null},_=function(e){function t(t){var n=e.call(this,t)||this;return n.componentDidMount=function(){i.f7.$(n.ref.current).on("open",(function(e){console.log(e)}))},n._onOpen=function(e){console.log("oooooooooooo",e)},n._onClick=function(e){console.log("cccccccccccccccc")},n.render=function(){var e=n.data,t=v[e.validCode],o=17==e.validCode||16==e.validCode||24==e.validCode;15===e.validCode&&(Date.now()-new Date(e.orderTime).getTime()>864e5?t="\u65e0\u6548-\u4ed8\u6b3e\u8d85\u65f6":o=!0);var a=m.userModel.user.isSber,r=e.superiorFee/100;e.skuName,e.orderTime,e.validCode,e.actualFee;return p.createElement(i.Card,{hideNavbarOnOpen:!0,expandable:!0,onCardOpen:n._onOpen,className:"card",ref:n.ref,style:{height:"8rem"},hideStatusbarOnOpen:!0,onClick:n._onClick,backdrop:!0,closeByBackdropClick:!0,swipeToClose:!0},p.createElement(i.CardContent,{padding:!1},p.createElement("div",{className:"bg-color-yellow2"},p.createElement(i.CardHeader,{textColor:"black",className:"display-block x"},p.createElement("small",{className:"x",style:{opacity:.7,boxSizing:"border-box",paddingRight:"130px"}},p.createElement(i.Row,null,p.createElement("p",{style:{overflow:"hidden",whiteSpace:"nowrap",boxSizing:"border-box",marginRight:"1.3rem",textOverflow:"ellipsis"}},e.skuName)),p.createElement(i.Row,null,p.createElement("div",null,"\u4e0b\u5355\u65f6\u95f4\uff1a"),p.createElement("div",null,e.orderTime)),p.createElement(i.Row,null,p.createElement("div",null,"\u72b6\u6001\uff1a"),p.createElement("div",null,t)),p.createElement(i.Row,null,p.createElement(i.Col,{className:"col-50"},p.createElement("span",null,"\u8428\u6bd4\uff1a"),p.createElement("span",null,o&&e.actualFee?e.actualFee/100+"\u5143":o?"\u5f85\u5b8c\u6210":"\u65e0\u6548\u8ba2\u5355")),a&&o&&r>0&&p.createElement("div",null,p.createElement("span",null,"\u4f7f\u8005\uff1a"),p.createElement("span",null,r),p.createElement("span",null,"\u5143"))))),p.createElement(i.Link,{cardClose:!0,color:"black",className:"card-opened-fade-in",style:{position:"absolute",right:"15px",top:"15px"},iconF7:"xmark_circle_fill"})),p.createElement("div",{className:"card-content-padding x"},p.createElement(i.Col,{className:"x"},p.createElement(i.Row,null,p.createElement("p",null,e.skuName)),(!e.actualFee||0==e.actualFee)&&e.estimateFee>0&&p.createElement(i.Row,null,p.createElement("div",null,"\u9884\u4f30\u4f63\u91d1\uff1a"),p.createElement("div",null,e.skuNum)),e.giftCouponOcsAmount&&e.giftCouponOcsAmount>0&&p.createElement(i.Row,null,p.createElement("div",null,"\u4f7f\u7528\u793c\u91d1\uff1a"),p.createElement("div",null,e.giftCouponOcsAmount,"\u5143")),p.createElement(i.Row,null,p.createElement("div",null,"\u8ba2\u5355\u53f7\uff1a"),p.createElement("div",null,e.orderId)),p.createElement(i.Row,null,p.createElement("div",null,"plus\u4f1a\u5458\uff1a"),p.createElement("div",null,1==e.plus?"\u662f":"\u5426")),p.createElement(i.Row,null,p.createElement("div",null,"\u8d2d\u4e70\u6570\u91cf\uff1a"),p.createElement("div",null,e.skuNum)),p.createElement(i.Row,null,p.createElement("div",null,"\u9884\u4f30\u8bb0\u4f63\u91d1\u989d\uff1a"),p.createElement("div",null,e.estimateCosPrice)),e.skuReturnNum>0&&p.createElement(i.Row,null,p.createElement("div",null,"\u5df2\u9000\u8d27\u6570\u91cf\uff1a"),p.createElement("div",null,e.skuNum)),e.skuFrozenNum>0&&p.createElement(i.Row,null,p.createElement("div",null,"\u552e\u540e\u4e2d\u6570\u91cf\uff1a"),p.createElement("div",null,e.skuNum)),e.payMonth&&p.createElement(i.Row,null,p.createElement("div",null,"\u9884\u4f30\u7ed3\u7b97\u65e5\uff1a"),p.createElement("div",null,e.payMonth)),e.modifyTime&&p.createElement(i.Row,null,p.createElement("div",null,"\u8ba2\u5355\u66f4\u65b0\u65f6\u95f4\uff1a"),p.createElement("div",null,e.modifyTime)),e.finishTime&&p.createElement(i.Row,null,p.createElement("div",null,"\u8ba2\u5355\u5b8c\u6210\u65f6\u95f4\uff1a"),p.createElement("div",null,e.finishTime))))))},n.ref=p.createRef(),n.data=t.data,n.state={data:t.data},n}return o(t,e),t}(a.ComponentBase),b=function(e){function t(t){var n=e.call(this,t)||this;return n._eventsInitialized=!1,n._onPageInit=function(){},n._fetchData=function(){var e=new c.default(s.TMs.TFanliCustomer,s.TMs.MFanliCustomerGetJdOrderList,{},(function(e){h.orders=h.orders.concat(e.list),h.firstConnectComplete=!0,h.orderDataIsTotallyLoaded=e.isEnd,h.showInfinitScrollPreloader=!(h.firstConnectComplete&&h.orderDataIsTotallyLoaded),n.setState({})}),(function(e){console.log("TMs.TFanliCustomer, TMs.MFanliCustomerGetJdOrderList net error is",e.netError,e.netErrorInfo)}),(function(e){console.log("TMs.TFanliCustomer, TMs.MFanliCustomerGetJdOrderList data error is",e.dataError,e.dataErrorInfo)}),(function(e){}),null,!0,!0);d.mainModel.dispatchEvent(new l.Event2(d.MainModel.events.addWaitingMember,e.send))},n.setParams=function(e){n.setState({params:e})},n._onAdded=function(){f=n,n._addEvents()},n._onRemoved=function(){n._removeEvents()},n._addEvents=function(){n._eventsInitialized||(n._eventsInitialized=!0,m.userModel.user.addEventListener(g.User.eventIsLoggedChanged,n._onLoggedChanged),n._fetchData())},n._removeEvents=function(){n._eventsInitialized&&(n._eventsInitialized=!1,m.userModel.user.removeEventListener(g.User.eventIsLoggedChanged,n._onLoggedChanged))},n._onLoggedChanged=function(){n.setState({logged:m.userModel.user.isLogged})},n._onMounted=function(e){e.newValue?n._onAdded():n._onRemoved()},n._loadMore=function(){console.log("llllllllllllllllllllll")},n._open=function(e){console.log("eeeeeeeeeeeee",e)},n.render=function(){var e=n.state.showInfinitScrollPreloader?"infinite-scroll-content":"";return p.createElement(i.Page,{pageContent:!1,className:"no-toolbar"},p.createElement("div",{className:"navbar"},p.createElement("div",{className:"navbar-bg"}),p.createElement("div",{className:"navbar-inner sliding",style:{flexDirection:"row"}},p.createElement("a",{className:"link back"},p.createElement("i",{className:"icon icon-back"}),p.createElement("span",{className:"if-not-md"},"\u8fd4\u56de")))),p.createElement(i.PageContent,{class:e,infinite:n.state.showInfinitScrollPreloader?n._loadMore:null},p.createElement(i.List,{className:"searchbar-found",medialList:!0,virtualList:!0,virtualListParams:{items:h.orders}},p.createElement("ul",null,h.orders.map((function(e,t){return p.createElement(_,{data:e,key:t})}))))))},n.state=h,f=n,n.orderItemTestRef=p.createRef(),n.dispatcher.addEventListener(a.ComponentBase.eventIsMountedChanged,n._onMounted),r.model.addEventListener(u.PageEvent.EventTypes.onPageInit,n._onPageInit),n}return o(t,e),t}(a.ComponentBase);t.OrdersJdPage=b},function(e,t,n){},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.AdminPage=t.getPage=void 0;var a,r=n(29),i=n(14),s=n(82);t.getPage=function(){return a};var c=function(e){function t(t){var n=e.call(this,t)||this;return n._eventsInitialized=!1,n.setParams=function(e){n.setState({params:e})},n._onAdded=function(){a=n,n._addEvents()},n._onRemoved=function(){n._removeEvents()},n._addEvents=function(){n._eventsInitialized||(n._eventsInitialized=!0)},n._removeEvents=function(){n._eventsInitialized&&(n._eventsInitialized=!1)},n._onMounted=function(e){e.newValue?n._onAdded():n._onRemoved()},n.render=function(){return React.createElement(i.Page,{pageContent:!1},React.createElement(i.PageContent,{style:{paddingTop:"0px"}},React.createElement(i.Link,{href:s.SberManageRouter.path},"\u6492\u5e01\u4f7f\u8005\u7ba1\u7406")))},n.state={params:null},a=n,n.dispatcher.addEventListener(r.ComponentBase.eventIsMountedChanged,n._onMounted),n}return o(t,e),t}(r.ComponentBase);t.AdminPage=c},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.SberManagePage=t.getPage=void 0;var a,r=n(29),i=n(14),s=n(173);t.getPage=function(){return a};var c=function(e){function t(t){var n=e.call(this,t)||this;return n._eventsInitialized=!1,n.setParams=function(e){n.setState({params:e})},n._onAdded=function(){a=n,n._addEvents()},n._onRemoved=function(){n._removeEvents()},n._addEvents=function(){n._eventsInitialized||(n._eventsInitialized=!0)},n._removeEvents=function(){n._eventsInitialized&&(n._eventsInitialized=!1)},n._onMounted=function(e){e.newValue?n._onAdded():n._onRemoved()},n.render=function(){return React.createElement(i.Page,{pageContent:!1},React.createElement("div",{className:"navbar"},React.createElement("div",{className:"navbar-bg"}),React.createElement("div",{className:"navbar-inner sliding",style:{flexDirection:"row"}},React.createElement("a",{className:"link back"},React.createElement("i",{className:"icon icon-back"}),React.createElement("span",{className:"if-not-md"},"\u8fd4\u56de")))),React.createElement(i.PageContent,null,React.createElement(s.AddSber,null)))},n.state={params:null},a=n,n.dispatcher.addEventListener(r.ComponentBase.eventIsMountedChanged,n._onMounted),n}return o(t,e),t}(r.ComponentBase);t.SberManagePage=c},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.AddSber=void 0;var a=n(29),r=n(14),i=n(15),s=n(17),c=n(13),d=n(18),l=n(56),u=n(34),p=function(e){function t(t){var n=e.call(this,t)||this;return n._eventsInitialized=!1,n._onAdded=function(){n._addEvents()},n._onRemoved=function(){n._removeEvents()},n._addEvents=function(){n._eventsInitialized||(n._eventsInitialized=!0)},n._removeEvents=function(){n._eventsInitialized&&(n._eventsInitialized=!1)},n._onMounted=function(e){e.newValue?n._onAdded():n._onRemoved()},n._onAddSberClick=function(){var e=l.Dom7("#user_add_sber_input").val();console.log("iiiiiiiiiiiiiii",e),n._addSber(e)},n._addSber=function(e){var t=new s.Member(i.TMs.TUser,i.TMs.MUserAddSber,{mobile:e},(function(e){console.log("TMs.TUser, TMs.MUserAddSber res is",e),r.f7.dialog.alert("\u6dfb\u52a0\u6492\u5e01\u4f7f\u8005\u6210\u529f:"+JSON.stringify(e),"\u6210\u529f")}),(function(e){console.log("TMs.TUser, TMs.MUserAddSber net error is",e.netError,e.netErrorInfo),r.f7.dialog.alert(e.responseErrorMessage,"\u901a\u4fe1\u9519\u8bef")}),(function(e){console.log("TMs.TUser, TMs.MUserAddSber data error is",e.dataError,e.responseErrorMessage,e),r.f7.dialog.alert(e.responseErrorMessage,"\u6570\u636e\u9519\u8bef")}),(function(e){console.log("TMs.TUser, TMs.MUserAddSber complete is",e.isNetOk,e.isDataOk,e.isTotallyOk)}),null,!0,!0);c.mainModel.dispatchEvent(new d.Event2(c.MainModel.events.addWaitingMember,t.send))},n.render=function(){return React.createElement(r.Card,null,React.createElement(r.CardHeader,null,"\u6dfb\u52a0\u6492\u5e01\u4f7f\u80051"),React.createElement(r.CardContent,null,React.createElement("div",{className:"list inline-labels no-hairlines-md"},React.createElement("ul",null,React.createElement("li",{className:"item-content item-input"},React.createElement("div",{className:"item-media"},React.createElement("i",{className:"icon demo-list-icon"})),React.createElement("div",{className:"item-inner"},React.createElement("div",{className:"item-title item-label"},"\u7535\u8bdd"),React.createElement("div",{className:"item-input-wrap"},React.createElement("input",{id:"user_add_sber_input",type:"number",defaultValue:n.state.defaultValue,placeholder:"\u6492\u5e01\u4f7f\u8005\u7684\u7535\u8bdd"}),React.createElement("span",{className:"input-clear-button"})))))),React.createElement(r.Button,{onClick:n._onAddSberClick},"\u6dfb\u52a0")))},n.state={mobile:"",defaultValue:u.isProd?"":"1870138168"},n.dispatcher.addEventListener(a.ComponentBase.eventIsMountedChanged,n._onMounted),n}return o(t,e),t}(a.ComponentBase);t.AddSber=p},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.model=t.SberManagePageModel=void 0;var a=function(e){function t(){var t=e.call(this)||this;return t.init=function(){},t}return o(t,e),t}(n(33).EventDispatcher);t.SberManagePageModel=a,t.model=new a},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.model=t.AdminPageModel=void 0;var a=function(e){function t(){var t=e.call(this)||this;return t.init=function(){},t}return o(t,e),t}(n(33).EventDispatcher);t.AdminPageModel=a,t.model=new a},function(e,t,n){"use strict";n.r(t),n.d(t,"IndexPageContent",(function(){return g})),n.d(t,"ExpressPackages",(function(){return v}));var o=n(42),a=n.n(o),r=n(134),i=n(50),s=n(8),c=n(21),d=n(27),l=n(26),u=n(0),p=n.n(u),f=n(70),m=n(106),g=function(e){Object(d.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(s.a)(this,n);for(var o=arguments.length,c=new Array(o),d=0;d<o;d++)c[d]=arguments[d];return(e=t.call.apply(t,[this].concat(c)))._copy=Object(i.a)(a.a.mark((function e(){var t,n,o,i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(navigator.clipboard){e.next=2;break}return e.abrupt("return");case 2:return"http://localhost:3012/icons/168.png",e.next=5,fetch("http://localhost:3012/icons/168.png");case 5:return t=e.sent,e.next=8,t.blob();case 8:return n=e.sent,o="text/plain",new Blob(["hehehe"],{type:o}),new window.ClipboardItem(Object(r.a)({},o,n)),i=new window.ClipboardItem({"image/png":n}),e.next=15,navigator.clipboard.write([i]).then((function(e){console.log("Copied to clipboard successfully!",e,i)}),(function(e){console.error("unable to write to clipboard. Error:"),console.log(e)}));case 15:return e.abrupt("return");case 19:case"end":return e.stop()}}),e)}))),e}return Object(c.a)(n,[{key:"render",value:function(){return p.a.createElement(f.a,{style:{paddingTop:"0px"}})}}]),n}(p.a.Component);function v(){return p.a.createElement(m.a,{pageContent:!1},p.a.createElement(g,null))}},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.onPageModalShow=void 0;var o,a=n(37),r=n(17),i=n(15),s=n(13),c=n(34),d=n(118),l=0,u=function(e,t,n,o){var u=this;this.getKey=function(){var e=a.trackingModel.trackingUuid;if(!u.uuid&&l==u.index){if(!e){var t=u;return u.errorCount++,void setTimeout((function(){t.getKey()}),1e3*u.errorCount)}new r.default(i.TMs.TTracking,i.TMs.MTrackingGetPageModalOpenKey,{account_type:"xiaochengxu",visitor_visit_key:e,page:u.page,modal:u.modal,params:u.params},u.onKeyResult,u.onKeyError,u.onKeyComplete).send()}},this.onKeyResult=function(e){return e?e.uuid?(u.uuid=e.uuid,void u.runHeartbeat()):(s.mainModel.addErrorLog(i.TMs.TTracking+"-"+i.TMs.MTrackingGetPageModalOpenKey+" \u8fd4\u56de\u6ca1\u6709\u8fd4\u56deuuid"),u.errorCount=1,void u.laterCallGetKey()):(s.mainModel.addErrorLog(i.TMs.TTracking+"-"+i.TMs.MTrackingGetPageModalOpenKey+" \u8fd4\u56de\u6570\u636e\u4e3a\u7a7a"),void u.laterCallGetKey())},this.onKeyError=function(e){s.mainModel.addErrorLog(i.TMs.TTracking+"-"+i.TMs.MTrackingGetPageModalOpenKey+" \u8ddf\u670d\u52a1\u5668\u901a\u4fe1\u65f6\u8fd4\u56de\u9519\u8bef",e),u.laterCallGetKey()},this.laterCallGetKey=function(){var e=u;u.errorCount++,setTimeout((function(){e.getKey()}),1e3*u.errorCount)},this.onKeyComplete=function(){},this.sendComplete=function(){u.ping()},this.runHeartbeat=function(){var e=u;setTimeout((function(){e.checkPing()}),3e3)},this.checkPing=function(){l==u.index&&(u.runHeartbeat(),u.ping())},this.ping=function(){d.documentVisibility.visible&&u.uuid&&(c.isDev||new r.default(i.TMs.TTracking,i.TMs.MTrackingHeartbeat,{account_type:"web",uuid:u.uuid},u.onPingResult,u.onPingError,u.onPingComplete).send())},this.onPingResult=function(e){},this.onPingError=function(e){},this.onPingComplete=function(e){},this.page=e,this.modal=t,this.params=n,this.index=o,this.uuid="",this.errorCount=0};t.onPageModalShow=function(e,t,n){if(e=e.toString(),t=t.toString(),o){if(o.page==e&&o.modal==t)return;o.sendComplete()}(o=new u(e,t,n,++l)).getKey()}},function(e,t,n){"use strict";n.r(t),n.d(t,"MinePageContent",(function(){return g})),n.d(t,"MinePage",(function(){return v}));var o=n(8),a=n(27),r=n(26),i=n(0),s=n.n(i),c=n(12),d=n(36),l=n(79),u=n(70),p=n(106),f=function(e){Object(a.a)(n,e);var t=Object(r.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e))._addEvents=function(){},a.render=function(){return s.a.createElement(u.a,{style:{paddingTop:"0px"}},s.a.createElement("div",null,s.a.createElement(l.default,null)))},a.state={},a._addEvents(),a}return n}(s.a.Component);var m=n(125),g=function(e){Object(a.a)(n,e);var t=Object(r.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e))._addEvents=function(){c.userModel.user.addEventListener(d.User.eventIsLoggedChanged,a._onUserLoggedChanged)},a._onUserLoggedChanged=function(e){a.setState({user:c.userModel.user})},a.render=function(){return a.state.user.isLogged?s.a.createElement(m.LoggedPage,null):s.a.createElement(f,null)},a.state={user:c.userModel.user},a._addEvents(),a}return n}(n(29).ComponentBase);function v(){return s.a.createElement(p.a,{pageContent:!1},s.a.createElement(g,null))}},,function(e,t,n){"use strict";n.r(t),n.d(t,"routes",(function(){return f}));var o=n(78),a=(n(0),n(25)),r=n(46),i=n(77),s=n(66),c=n(57),d=n(58),l=n(52),u=n(53),p=n(54),f=[s.expressPackageRouter,c.discountRouter,d.mineRouter,r.goodsSearchRouter,l.goodsDetailPageRouter,u.goodsShareRouter,p.TbOrderClaimRouter,{path:"/discount",component:i.DiscountPage}];"/".concat(a.PageModel.pageNames.goodsSearch),a.PageModel.pageNames.goodsSearch,o.GoodsSearchPage},,,,,,,,,,,,,,function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.MainView=void 0;var a=n(0),r=n(14),i=n(25),s=n(112),c=n(56),d=n(66),l=n(57),u=n(58),p=c.Dom7,f=function(e){function t(t){var n=e.call(this,t)||this;return n._addEvents=function(){i.pageModel.addEventListener(i.PageModel.eventSelectedTabIdChanged,n._onSelectedTabChanged)},n._onSelectedTabChanged=function(e){n._routeToTabPage(e.newValue)},n._changeSelectedTab=function(e){p(".tabbar").find(".tab-link-active").removeClass("tab-link-active"),p("#"+e).addClass("tab-link-active"),r.f7.toolbar.setHighlight(".tabbar")},n._routeToTabPage=function(e){var t;switch(e){case i.PageModel.mainViewTabs.package.tabId:t=d.expressPackageRouter;break;case i.PageModel.mainViewTabs.discount.tabId:t=l.discountRouter;break;case i.PageModel.mainViewTabs.mine.tabId:t=u.mineRouter;break;default:throw"no route found tab id is "+e}console.log('pageRoute.path !== f7.views.main.router["url"] is',t.path,r.f7.views.main.router.url),t.path!==r.f7.views.main.router.url&&r.f7.views.main.router.navigate({path:t.path}),n._changeSelectedTab(e)},n._onPackageTabClick=function(){i.pageModel.selectedTabId=i.PageModel.mainViewTabs.package.tabId},n._onDiscountTabClick=function(){i.pageModel.selectedTabId=i.PageModel.mainViewTabs.discount.tabId},n._onMineTabClick=function(){i.pageModel.selectedTabId=i.PageModel.mainViewTabs.mine.tabId},n._laterInit=function(){setTimeout((function(){i.pageModel.selectedTabId=i.PageModel.mainViewTabs.package.tabId}),30)},n.render=function(){return n._laterInit(),a.createElement(r.View,Object.assign({"view-init":!0,main:!0},s.mainViewParams),a.createElement("div",{className:"toolbar tabbar toolbar-bottom"},a.createElement("div",{className:"toolbar-inner"},a.createElement("a",{id:""+i.PageModel.mainViewTabs.discount.tabId,href:"#tab-2",onClick:n._onDiscountTabClick,className:"tab-link"},"\u4f18\u60e0"),a.createElement("a",{id:""+i.PageModel.mainViewTabs.mine.tabId,href:"#tab-3",onClick:n._onMineTabClick,className:"tab-link"},"\u6211\u7684"))))},n._addEvents(),n}return o(t,e),t}(a.Component);t.MainView=f},,,,,,,,,,,,,,,,,,,,function(e,t,n){e.exports=n(219)},,,,function(e,t,n){"use strict";n.r(t);var o=n(0),a=n.n(o),r=n(88),i=n.n(r),s=n(8),c=n(21),d=n(27),l=n(26),u=(n(109),n(137),n(4)),p=n(188),f=n(189),m={routes:n(181).routes,pushState:!0,view:{pushState:!0,pushStateSeparator:"",pushStateOnLoad:!1,passRouteParamsToRequest:!0,mdSwipeBack:!0,pushStateRoot:"/baobeidaola/website/index.html",browserHistory:!0,browserHistorySeparator:"",browserHistoryOnLoad:!0,browserHistoryAnimateOnLoad:!0,browserHistoryAnimate:!0},onPageInit:function(e,t){console.log("f7 on page init",e,t,u.a.view.main.router.history.join())}},g=n(195),v=n(181);window.__MUI_USE_NEXT_TYPOGRAPHY_VARIANTS__=!0,window.React=a.a,m.routes=v.routes;var h=function(e){Object(d.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(s.a)(this,n);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).render=function(){return Object(u.e)((function(e){})),a.a.createElement(p.a,m,a.a.createElement(f.a,{className:"safe-areas"},a.a.createElement(g.MainView,null)))},e}return Object(c.a)(n,[{key:"_addEvents",value:function(){}}]),n}(a.a.Component),_=h,b=(n(55),n(190),n(135)),E=n(14),y=(n(191),n(192),n(177),n(86)),M=n(127),P=n(34);b.a.use(E.default),document.title=P.title,y.a.init(),y.a.start();!1===Object(M.a)()&&(document.getElementById("root").style.width="750px"),i.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(_,null)),document.getElementById("root"))}],[[215,5,0,1]]]);
//# sourceMappingURL=baobeidaola.website.hosts.bottom.index.6b719727.chunk.js.map